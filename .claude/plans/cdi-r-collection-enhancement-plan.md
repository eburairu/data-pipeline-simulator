# Data Pipeline Simulator åŽé›†æ©Ÿèƒ½å¼·åŒ–è¨ˆç”»

## æ¦‚è¦

Informatica IDMC CDI-R (Cloud Data Ingestion and Replication) ã¨ã®æ©Ÿèƒ½æ¯”è¼ƒã«åŸºã¥ãã€Data Pipeline Simulatorã®ãƒ‡ãƒ¼ã‚¿åŽé›†æ©Ÿèƒ½ã‚’å¼·åŒ–ã™ã‚‹è¨ˆç”»ã€‚

**æœ€çµ‚æ›´æ–°**: 2026-02-03
**ã‚³ãƒŸãƒƒãƒˆ**: [4eb23ca](https://github.com/eburairu/data-pipeline-simulator/commit/4eb23ca)
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 1å®Œäº†ã€Phase 2-4ã¯åž‹å®šç¾©ãƒ»UIå®Ÿè£…æ¸ˆã¿

---

## å®Ÿè£…çŠ¶æ³ã‚µãƒžãƒªãƒ¼

| ãƒ•ã‚§ãƒ¼ã‚º | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | å®Ÿè£…å†…å®¹ |
|---------|----------|---------|
| **Phase 1: åŸºç›¤å¼·åŒ–** | âœ… **å®Œå…¨å®Ÿè£…** | å¢—åˆ†å‡¦ç†ãƒ¢ãƒ¼ãƒ‰ã€ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ã€ã‚¨ãƒ©ãƒ¼æ™‚ç¶™ç¶š |
| **Phase 2: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•** | ðŸ”¶ **åž‹å®šç¾©ãƒ»UI ã®ã¿** | ãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒŠãƒ¼ã€CDCï¼ˆãƒ­ã‚¸ãƒƒã‚¯æœªå®Ÿè£…ï¼‰ |
| **Phase 3: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°** | ðŸ”¶ **åž‹å®šç¾©ãƒ»UI ã®ã¿** | Cronã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã€æ‰‹å‹•å®Ÿè¡Œï¼ˆãƒ­ã‚¸ãƒƒã‚¯æœªå®Ÿè£…ï¼‰ |
| **Phase 4: é«˜åº¦ãªæ©Ÿèƒ½** | ðŸ”¶ **åž‹å®šç¾©ã®ã¿** | è¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã€ä¸¦åˆ—å‡¦ç†ã€åœ§ç¸®/è§£å‡ï¼ˆãƒ­ã‚¸ãƒƒã‚¯ãƒ»UIä¸€éƒ¨æœªå®Ÿè£…ï¼‰ |

### ãƒ†ã‚¹ãƒˆãƒ»ãƒ“ãƒ«ãƒ‰çµæžœ
- âœ… ãƒ†ã‚¹ãƒˆ: 57/57 passed
- âœ… ãƒ“ãƒ«ãƒ‰: æˆåŠŸï¼ˆTypeScriptã‚¨ãƒ©ãƒ¼ãªã—ï¼‰
- âœ… Git: ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥æ¸ˆã¿ (develop branch)

---

## æ©Ÿèƒ½æ¯”è¼ƒãƒžãƒˆãƒªã‚¯ã‚¹ï¼ˆæ›´æ–°ç‰ˆï¼‰

| ã‚«ãƒ†ã‚´ãƒª | IDMC CDI-R | å®Ÿè£…å‰ | **å®Ÿè£…å¾Œ** | å®Ÿè£…çŠ¶æ³ |
|---------|-----------|--------|----------|---------|
| **åŽé›†æ–¹å¼** |||||
| ãƒãƒ¼ãƒªãƒ³ã‚° | âœ… | âœ… | âœ… | å®Ÿè£…æ¸ˆã¿ |
| ãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒŠãƒ¼ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ï¼‰ | âœ… | âŒ | ðŸ”¶ | åž‹å®šç¾©ãƒ»UI ã®ã¿ |
| CDC (Change Data Capture) | âœ… | âŒ | ðŸ”¶ | åž‹å®šç¾©ãƒ»UI ã®ã¿ |
| **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°** |||||
| å›ºå®šé–“éš” | âœ… | âœ… | âœ… | å®Ÿè£…æ¸ˆã¿ |
| Cronã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« | âœ… | âŒ | ðŸ”¶ | åž‹å®šç¾©ãƒ»UI ã®ã¿ |
| æ‰‹å‹•å®Ÿè¡Œ | âœ… | âŒ | ðŸ”¶ | åž‹å®šç¾©ãƒ»UI ã®ã¿ |
| **å¢—åˆ†å‡¦ç†** |||||
| å…¨é‡ãƒ­ãƒ¼ãƒ‰ | âœ… | âœ… | âœ… | å®Ÿè£…æ¸ˆã¿ |
| å¢—åˆ†ãƒ­ãƒ¼ãƒ‰ | âœ… | â–³ | âœ… | **Phase 1ã§å®Ÿè£…** |
| åˆæœŸ+å¢—åˆ†è¤‡åˆ | âœ… | âŒ | âœ… | **Phase 1ã§å®Ÿè£…** |
| **ã‚¨ãƒ©ãƒ¼å‡¦ç†** |||||
| åŸºæœ¬ã‚¨ãƒ©ãƒ¼å‡¦ç† | âœ… | âœ… | âœ… | å®Ÿè£…æ¸ˆã¿ |
| ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ | âœ… | âŒ | âœ… | **Phase 1ã§å®Ÿè£…** |
| å¤±æ•—æ™‚ç¶™ç¶š | âœ… | âŒ | âœ… | **Phase 1ã§å®Ÿè£…** |
| é€šçŸ¥æ©Ÿèƒ½ | âœ… | âŒ | âŒ | æœªå®Ÿè£… |
| **ä¸¦åˆ—å‡¦ç†** |||||
| ã‚¸ãƒ§ãƒ–ä¸¦è¡Œå®Ÿè¡Œ | âœ… | âœ… | âœ… | å®Ÿè£…æ¸ˆã¿ |
| ä¸¦åˆ—ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒãƒ | âœ… | âŒ | ðŸ”¶ | åž‹å®šç¾©ã®ã¿ |
| **ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ** |||||
| ç§»å‹•/ã‚³ãƒ”ãƒ¼ | âœ… | âœ… | âœ… | å®Ÿè£…æ¸ˆã¿ |
| åœ§ç¸®/è§£å‡ | âœ… | âŒ | ðŸ”¶ | åž‹å®šç¾©ã®ã¿ |
| **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹** |||||
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ  | âœ… | âœ… | âœ… | å®Ÿè£…æ¸ˆã¿ |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŽé›† | âœ… | âŒ | âŒ | æœªå®Ÿè£… |

å‡¡ä¾‹: âœ… å®Œå…¨å®Ÿè£… | ðŸ”¶ éƒ¨åˆ†å®Ÿè£…ï¼ˆåž‹å®šç¾©ãƒ»UI ã®ã¿ï¼‰ | âŒ æœªå®Ÿè£…

---

## Phase 1: åŸºç›¤å¼·åŒ–ï¼ˆâœ… å®Œå…¨å®Ÿè£…æ¸ˆã¿ï¼‰

### å®Ÿè£…å†…å®¹

**1. å¢—åˆ†å‡¦ç†ãƒ¢ãƒ¼ãƒ‰**
- `LoadMode` åž‹: `'full' | 'incremental' | 'initial_and_incremental'`
- å‡¦ç†æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«è¿½è·¡: `_sys_subscription_state` ãƒ†ãƒ¼ãƒ–ãƒ«æ´»ç”¨
- ãƒ­ã‚¸ãƒƒã‚¯: [useSimulationEngine.ts:86-119](src/lib/hooks/useSimulationEngine.ts#L86-L119)

**å‹•ä½œ:**
- `full`: æ¯Žå›žã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†
- `incremental`: å‰å›žå‡¦ç†ä»¥é™ã®æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿å‡¦ç†
- `initial_and_incremental`: åˆå›žå…¨é‡ã€2å›žç›®ä»¥é™ã¯å¢—åˆ†

**2. ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹**
- Exponential backoffã«ã‚ˆã‚‹è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:
  - `maxRetries`: æœ€å¤§ãƒªãƒˆãƒ©ã‚¤å›žæ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0ï¼‰
  - `retryDelayMs`: ãƒªãƒˆãƒ©ã‚¤é–“éš”ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1000msï¼‰
  - `backoffMultiplier`: æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ä¿‚æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 2ï¼‰
  - `continueOnError`: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã‚‚ç¶™ç¶šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼‰
- ãƒ­ã‚¸ãƒƒã‚¯: [useSimulationEngine.ts:136-226](src/lib/hooks/useSimulationEngine.ts#L136-L226)

**è¨ˆç®—å¼:**
```
å¾…æ©Ÿæ™‚é–“ = retryDelayMs Ã— (backoffMultiplier ^ retryCount)
ä¾‹: 1000ms Ã— (2 ^ 0) = 1000ms
    1000ms Ã— (2 ^ 1) = 2000ms
    1000ms Ã— (2 ^ 2) = 4000ms
```

**3. UIå®Ÿè£…**
- æŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ãªã€Œé«˜åº¦ãªè¨­å®šã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³
- ãƒ­ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰é¸æŠžãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³
- ãƒªãƒˆãƒ©ã‚¤ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- å®Ÿè£…: [CollectionSettings.tsx:258-356](src/components/settings/CollectionSettings.tsx#L258-L356)

**4. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**
- `maxRetries >= 0`
- `retryDelayMs >= 0`
- `backoffMultiplier >= 1`
- å®Ÿè£…: [validation.ts:72-79](src/lib/validation.ts#L72-L79)

### å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆPhase 1ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ | è¡Œæ•° |
|---------|---------|------|
| [src/lib/types.ts](src/lib/types.ts#L60-L96) | LoadMode, IncrementalConfig, RetryConfigåž‹å®šç¾© | +37è¡Œ |
| [src/lib/hooks/useSimulationEngine.ts](src/lib/hooks/useSimulationEngine.ts#L86-L226) | å¢—åˆ†å‡¦ç†ãƒ»ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£… | +114è¡Œ |
| [src/components/settings/CollectionSettings.tsx](src/components/settings/CollectionSettings.tsx#L258-L356) | UIè¿½åŠ ï¼ˆæŠ˜ã‚ŠãŸãŸã¿ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰ | +99è¡Œ |
| [src/lib/validation.ts](src/lib/validation.ts#L72-L79) | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ  | +8è¡Œ |
| [src/lib/JobMonitorContext.tsx](src/lib/JobMonitorContext.tsx#L14-L18) | TransferExecutionDetailsã«retryCountè¿½åŠ  | +2è¡Œ |

---

## Phase 2: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•åŽé›†ï¼ˆðŸ”¶ åž‹å®šç¾©ãƒ»UI ã®ã¿ï¼‰

### å®Ÿè£…æ¸ˆã¿

**åž‹å®šç¾©:**
```typescript
// src/lib/types.ts:98-129
export type CollectionTriggerType = 'polling' | 'file_listener';

export interface FileListenerConfig {
  eventTypes: ('create' | 'update' | 'delete')[];
  stabilityCheckMs?: number;
  debounceMs?: number;
}

export type CDCMode = 'query_based' | 'log_based';

export interface CDCConfig {
  mode: CDCMode;
  sourceTableId: string;
  trackingColumn?: string;
  captureDeletes?: boolean;
}
```

**UI:**
- ãƒˆãƒªã‚¬ãƒ¼ã‚¿ã‚¤ãƒ—é¸æŠžï¼ˆdisabledçŠ¶æ…‹ã§è¡¨ç¤ºï¼‰
- CDCæœ‰åŠ¹åŒ–ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼ˆdisabledï¼‰
- å®Ÿè£…: [CollectionSettings.tsx:364-377](src/components/settings/CollectionSettings.tsx#L364-L377)

### æœªå®Ÿè£…ï¼ˆä»Šå¾Œã®èª²é¡Œï¼‰

**å¿…è¦ãªå®Ÿè£…:**
1. **VirtualFileSystem.tsx**
   - `writeFile`, `moveFile`, `deleteFile` å®Ÿè¡Œæ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«
   - ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ç™»éŒ²æ©Ÿæ§‹
   - ãƒ•ã‚¡ã‚¤ãƒ«å®‰å®šæ€§ãƒã‚§ãƒƒã‚¯ï¼ˆstabilityCheckMsï¼‰

2. **VirtualDB.tsx**
   - `_sys_cdc_log` ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
   - `insert`, `update`, `remove` å®Ÿè¡Œæ™‚ã®CDCãƒ¬ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
   - CDCãƒ­ã‚°ã®ã‚¯ã‚¨ãƒªAPI

3. **useSimulationEngine.ts**
   - `triggerType === 'file_listener'` æ™‚ã®å‡¦ç†åˆ†å²
   - `cdcEnabled === true` æ™‚ã®CDCãƒ­ã‚°èª­ã¿å–ã‚Šå‡¦ç†

4. **useSimulationTimers.ts**
   - ãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒŠãƒ¼ãƒ¢ãƒ¼ãƒ‰ã§ã¯setIntervalã‚’ä½¿ç”¨ã—ãªã„

---

## Phase 3: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°å¼·åŒ–ï¼ˆðŸ”¶ åž‹å®šç¾©ãƒ»UI ã®ã¿ï¼‰

### å®Ÿè£…æ¸ˆã¿

**åž‹å®šç¾©:**
```typescript
// src/lib/types.ts:131-139
export type ScheduleType = 'interval' | 'cron' | 'manual';

export interface CronScheduleConfig {
  expression: string;
  timezone?: string;
}
```

**UI:**
- ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¿ã‚¤ãƒ—é¸æŠžï¼ˆdisabledçŠ¶æ…‹ã§è¡¨ç¤ºï¼‰
- å®Ÿè£…: [CollectionSettings.tsx:379-391](src/components/settings/CollectionSettings.tsx#L379-L391)

### æœªå®Ÿè£…ï¼ˆä»Šå¾Œã®èª²é¡Œï¼‰

**å¿…è¦ãªå®Ÿè£…:**
1. **src/lib/cronParser.tsï¼ˆæ–°è¦ä½œæˆï¼‰**
   - ç°¡æ˜“Cronå¼ãƒ‘ãƒ¼ã‚µãƒ¼
   - æ¬¡å›žå®Ÿè¡Œæ™‚åˆ»ã®è¨ˆç®—
   - ã‚µãƒãƒ¼ãƒˆå½¢å¼: `"åˆ† æ™‚ æ—¥ æœˆ æ›œæ—¥"`ï¼ˆä¾‹: `"0 9 * * *"`ï¼‰

2. **useSimulationTimers.ts**
   - `scheduleType === 'cron'` æ™‚ã®å‡¦ç†
   - æ¬¡å›žå®Ÿè¡Œæ™‚åˆ»ã¾ã§ã®å¾…æ©Ÿ
   - ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¯¾å¿œ

3. **App.tsx / CollectionSettings.tsx**
   - `scheduleType === 'manual'` æ™‚ã®æ‰‹å‹•å®Ÿè¡Œãƒœã‚¿ãƒ³
   - æ¬¡å›žå®Ÿè¡Œæ™‚åˆ»ã®è¡¨ç¤ºUI

**Cronãƒ‘ãƒ¼ã‚µãƒ¼ä¾‹:**
```typescript
// cronParser.ts
export function parseCronExpression(expr: string): {
  minute: number | '*';
  hour: number | '*';
  day: number | '*';
  month: number | '*';
  dayOfWeek: number | '*';
} {
  // å®Ÿè£…ä¾‹
}

export function getNextExecutionTime(cronConfig: CronScheduleConfig): Date {
  // æ¬¡å›žå®Ÿè¡Œæ™‚åˆ»ã‚’è¨ˆç®—
}
```

---

## Phase 4: é«˜åº¦ãªæ©Ÿèƒ½ï¼ˆðŸ”¶ åž‹å®šç¾©ã®ã¿ï¼‰

### å®Ÿè£…æ¸ˆã¿

**åž‹å®šç¾©:**
```typescript
// src/lib/types.ts:141-157
export interface RowFilter {
  field: string;
  operator: '=' | '!=' | '>' | '<' | '>=' | '<=' | 'contains';
  value: string;
  logicalOperator?: 'AND' | 'OR';
}

export interface FileActionConfig {
  action: 'compress' | 'decompress';
  format?: 'zip' | 'gzip';
}

// CollectionJobã«è¿½åŠ 
rowFilters?: RowFilter[];
parallelBatchSize?: number;
preActions?: FileActionConfig[];
postActions?: FileActionConfig[];
```

**UIï¼ˆä¸€éƒ¨ï¼‰:**
- ä¸¦åˆ—ãƒãƒƒãƒã‚µã‚¤ã‚ºå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆdisabledï¼‰
- å®Ÿè£…: [CollectionSettings.tsx:393-403](src/components/settings/CollectionSettings.tsx#L393-L403)

### æœªå®Ÿè£…ï¼ˆä»Šå¾Œã®èª²é¡Œï¼‰

**1. è¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒ¼**
- CollectionSettings.tsx: ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼è¨­å®šUIã®è¿½åŠ 
- useSimulationEngine.ts: ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿å¾Œã®è¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å‡¦ç†
- CSV/JSONãƒ‘ãƒ¼ã‚¹å¾Œã«ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼é©ç”¨

**2. ä¸¦åˆ—ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒãƒå‡¦ç†**
- useSimulationEngine.ts: `Promise.all` ã«ã‚ˆã‚‹è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«åŒæ™‚å‡¦ç†
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ­ãƒƒã‚¯æ©Ÿæ§‹ã¨ã®çµ±åˆ

**3. ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆåœ§ç¸®/è§£å‡ï¼‰**
- VirtualFileSystem.tsx: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§ã®åœ§ç¸®çŠ¶æ…‹ç®¡ç†
- CollectionSettings.tsx: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒã‚§ãƒ¼ãƒ³è¨­å®šUI
- å‡¦ç†æ™‚é–“ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

---

## ä»Šå¾Œã®å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒžãƒƒãƒ—

### çŸ­æœŸï¼ˆå„ªå…ˆåº¦: é«˜ï¼‰

Phase 2-3ã®ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…ã‚’å®Œæˆã•ã›ã‚‹ã“ã¨ã§ã€IDMC CDI-Rã®ä¸»è¦æ©Ÿèƒ½ã‚’ã‚«ãƒãƒ¼å¯èƒ½ã€‚

**æŽ¨å¥¨å®Ÿè£…é †åº:**

1. **Phase 3: Cronã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«**ï¼ˆæ¯”è¼ƒçš„ç‹¬ç«‹ã€å½±éŸ¿ç¯„å›²å°ï¼‰
   - cronParser.tsä½œæˆ â†’ useSimulationTimers.tsæ‹¡å¼µ â†’ UIå®Œæˆ
   - è¦‹ç©ã‚‚ã‚Š: 4-6æ™‚é–“

2. **Phase 2: ãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒŠãƒ¼**ï¼ˆVirtualFileSystemã¸ã®å½±éŸ¿å¤§ï¼‰
   - VirtualFileSystemã®ã‚¤ãƒ™ãƒ³ãƒˆæ©Ÿæ§‹ â†’ useSimulationEngineã®å‡¦ç† â†’ çµ±åˆãƒ†ã‚¹ãƒˆ
   - è¦‹ç©ã‚‚ã‚Š: 8-12æ™‚é–“

3. **Phase 2: CDC**ï¼ˆVirtualDBã¸ã®å½±éŸ¿å¤§ï¼‰
   - VirtualDBã®CDCãƒ­ã‚° â†’ useSimulationEngineã®èª­ã¿å–ã‚Š â†’ çµ±åˆãƒ†ã‚¹ãƒˆ
   - è¦‹ç©ã‚‚ã‚Š: 8-12æ™‚é–“

### ä¸­æœŸï¼ˆå„ªå…ˆåº¦: ä¸­ï¼‰

4. **Phase 4: ä¸¦åˆ—ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒãƒ**
   - è¦‹ç©ã‚‚ã‚Š: 4-6æ™‚é–“

5. **Phase 4: è¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒ¼**
   - è¦‹ç©ã‚‚ã‚Š: 4-6æ™‚é–“

### é•·æœŸï¼ˆå„ªå…ˆåº¦: ä½Žï¼‰

6. **Phase 4: ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã‚¢ã‚¯ã‚·ãƒ§ãƒ³**
7. é€šçŸ¥æ©Ÿèƒ½
8. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚½ãƒ¼ã‚¹ã‹ã‚‰ã®åŽé›†

---

## æŠ€è¡“çš„è€ƒæ…®äº‹é …

### å¾Œæ–¹äº’æ›æ€§

âœ… **å®Œå…¨ã«ç¶­æŒã•ã‚Œã¦ã„ã¾ã™:**
- æ—¢å­˜ã®CollectionJobè¨­å®šã¯æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãªã—ã§å‹•ä½œ
- localStorageå†…ã®æ—¢å­˜è¨­å®šã¯è‡ªå‹•ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸è¦ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
- æ–°æ©Ÿèƒ½ã¯ã€Œé«˜åº¦ãªè¨­å®šã€ã®æŠ˜ã‚ŠãŸãŸã¿ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§è¡¨ç¤º

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹

**Phase 1ã®å½±éŸ¿:**
- å¢—åˆ†å‡¦ç†: `_sys_subscription_state` ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¯ã‚¨ãƒªè¿½åŠ ï¼ˆO(n) â†’ æœ€é©åŒ–ä¸è¦ã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ç”¨é€”ï¼‰
- ãƒªãƒˆãƒ©ã‚¤: å¤±æ•—æ™‚ã®ã¿å®Ÿè¡Œã€é€šå¸¸å‹•ä½œã¸ã®å½±éŸ¿ãªã—

**Phase 2-4ã®æ½œåœ¨çš„å½±éŸ¿:**
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒŠãƒ¼: setIntervalã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã¸å¤‰æ›´ â†’ CPUä½¿ç”¨çŽ‡å‰Šæ¸›
- CDC: DBãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã®è‚¥å¤§åŒ– â†’ ãƒªãƒ†ãƒ³ã‚·ãƒ§ãƒ³æœŸé–“è¨­å®šãŒå¿…è¦
- ä¸¦åˆ—å‡¦ç†: åŒæ™‚å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«æ•°å¢—åŠ  â†’ ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡å¢—åŠ ã®å¯èƒ½æ€§

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

**ç¾çŠ¶:**
- âœ… æ—¢å­˜ãƒ†ã‚¹ãƒˆ: 57/57 passedï¼ˆPhase 1å®Ÿè£…å¾Œã‚‚å…¨ã¦ãƒ‘ã‚¹ï¼‰
- âœ… TypeScriptåž‹ãƒã‚§ãƒƒã‚¯: ã‚¨ãƒ©ãƒ¼ãªã—

**Phase 2-4å®Ÿè£…æ™‚ã®è¿½åŠ ãƒ†ã‚¹ãƒˆ:**
- cronParser.test.ts: Cronå¼ãƒ‘ãƒ¼ã‚¹ãƒ»æ¬¡å›žå®Ÿè¡Œæ™‚åˆ»è¨ˆç®—
- VirtualFileSystem.test.tsx: ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ã®ç¢ºèª
- VirtualDB.test.tsx: CDCãƒ­ã‚°ç”Ÿæˆã®ç¢ºèª

---

## æ¤œè¨¼æ–¹æ³•

### Phase 1ã®å‹•ä½œç¢ºèªï¼ˆæ‰‹å‹•ãƒ†ã‚¹ãƒˆï¼‰

**1. å¢—åˆ†å‡¦ç†ãƒ†ã‚¹ãƒˆ**
```
1. CollectionJobã‚’ä½œæˆã€loadMode='incremental'ã«è¨­å®š
2. ã‚½ãƒ¼ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¤‡æ•°é…ç½®
3. ã‚¸ãƒ§ãƒ–å®Ÿè¡Œ â†’ å…¨ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã•ã‚Œã‚‹
4. æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ 
5. ã‚¸ãƒ§ãƒ–å†å®Ÿè¡Œ â†’ æ–°ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿å‡¦ç†ã•ã‚Œã‚‹
```

**2. ãƒªãƒˆãƒ©ã‚¤ãƒ†ã‚¹ãƒˆ**
```
1. CollectionJobã‚’ä½œæˆã€retryConfig={ maxRetries: 3, retryDelayMs: 500 }
2. å­˜åœ¨ã—ãªã„ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæŽ¥ç¶šã‚’è¨­å®šï¼ˆã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ¡ä»¶ï¼‰
3. ã‚¸ãƒ§ãƒ–å®Ÿè¡Œ
4. JobMonitorã§ã€ŒRetrying... (attempt 2/4)ã€ç­‰ã®è¡¨ç¤ºã‚’ç¢ºèª
5. æœ€çµ‚çš„ã«ã€ŒFailed after 3 retriesã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
```

### è‡ªå‹•ãƒ†ã‚¹ãƒˆ

```bash
npm test          # 57/57 passed
npm run build     # TypeScriptã‚¨ãƒ©ãƒ¼ãªã—
```

---

## ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| ãƒ•ã‚¡ã‚¤ãƒ« | Phase 1 | Phase 2 | Phase 3 | Phase 4 | å®Ÿè£…çŠ¶æ³ |
|---------|---------|---------|---------|---------|---------|
| [src/lib/types.ts](src/lib/types.ts) | âœ… | âœ… | âœ… | âœ… | åž‹å®šç¾©å®Œäº† |
| [src/lib/hooks/useSimulationEngine.ts](src/lib/hooks/useSimulationEngine.ts) | âœ… | âŒ | âŒ | âŒ | Phase 1ã®ã¿ |
| [src/components/settings/CollectionSettings.tsx](src/components/settings/CollectionSettings.tsx) | âœ… | ðŸ”¶ | ðŸ”¶ | ðŸ”¶ | UIéƒ¨åˆ†å®Ÿè£… |
| [src/lib/validation.ts](src/lib/validation.ts) | âœ… | ðŸ”¶ | âŒ | ðŸ”¶ | åŸºæœ¬ã®ã¿ |
| [src/lib/JobMonitorContext.tsx](src/lib/JobMonitorContext.tsx) | âœ… | - | - | - | å®Œäº† |
| [src/lib/VirtualFileSystem.tsx](src/lib/VirtualFileSystem.tsx) | - | âŒ | - | - | æœªå®Ÿè£… |
| [src/lib/VirtualDB.tsx](src/lib/VirtualDB.tsx) | - | âŒ | - | - | æœªå®Ÿè£… |
| [src/lib/hooks/useSimulationTimers.ts](src/lib/hooks/useSimulationTimers.ts) | - | âŒ | âŒ | - | æœªå®Ÿè£… |
| `src/lib/cronParser.ts`ï¼ˆæ–°è¦ï¼‰ | - | - | âŒ | - | æœªä½œæˆ |

å‡¡ä¾‹: âœ… å®Ÿè£…å®Œäº† | ðŸ”¶ éƒ¨åˆ†å®Ÿè£… | âŒ æœªå®Ÿè£… | - å¯¾è±¡å¤–

---

## å‚è€ƒãƒªãƒ³ã‚¯

### Informaticaå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [Data Ingestion and Replication](https://docs.informatica.com/integration-cloud/data-ingestion-and-replication/current-version.html)
- [File Ingestion and Replication](https://docs.informatica.com/integration-cloud/data-ingestion-and-replication/current-version/file-ingestion-and-replication/file-ingestion-and-replication.html)
- [Database Ingestion and Replication](https://docs.informatica.com/integration-cloud/data-ingestion-and-replication/current-version/database-ingestion-and-replication/database-ingestion-and-replication.html)

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [CLAUDE.md](CLAUDE.md) - AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- [README.md](README.md) - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- [.specify/memory/constitution.md](.specify/memory/constitution.md) - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŽŸå‰‡

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ã‚³ãƒŸãƒƒãƒˆ | å¤‰æ›´å†…å®¹ |
|------|---------|---------|
| 2026-02-03 | [4eb23ca](https://github.com/eburairu/data-pipeline-simulator/commit/4eb23ca) | Phase 1å®Œå…¨å®Ÿè£…ã€Phase 2-4åž‹å®šç¾©ãƒ»UIè¿½åŠ  |
| 2026-02-03 | åˆç‰ˆä½œæˆ | IDMC CDI-Rã¨ã®æ©Ÿèƒ½æ¯”è¼ƒã€å®Ÿè£…è¨ˆç”»ç­–å®š |
