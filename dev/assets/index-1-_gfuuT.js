(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mf={exports:{}},xs={};var Wb;function jA(){if(Wb)return xs;Wb=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:u}}return xs.Fragment=a,xs.jsx=i,xs.jsxs=i,xs}var e1;function AA(){return e1||(e1=1,Mf.exports=jA()),Mf.exports}var p=AA(),Rf={exports:{}},Te={};var t1;function MA(){if(t1)return Te;t1=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,N={};function E(D,I,A){this.props=D,this.context=I,this.refs=N,this.updater=A||S}E.prototype.isReactComponent={},E.prototype.setState=function(D,I){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,I,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=E.prototype;function T(D,I,A){this.props=D,this.context=I,this.refs=N,this.updater=A||S}var M=T.prototype=new C;M.constructor=T,_(M,E.prototype),M.isPureReactComponent=!0;var O=Array.isArray;function k(){}var H={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function U(D,I,A){var j=A.ref;return{$$typeof:t,type:D,key:I,ref:j!==void 0?j:null,props:A}}function Y(D,I){return U(D.type,I,D.props)}function Z(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function K(D){var I={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(A){return I[A]})}var ae=/\/+/g;function L(D,I){return typeof D=="object"&&D!==null&&D.key!=null?K(""+D.key):I.toString(36)}function ee(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(k,k):(D.status="pending",D.then(function(I){D.status==="pending"&&(D.status="fulfilled",D.value=I)},function(I){D.status==="pending"&&(D.status="rejected",D.reason=I)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,I,A,j,R){var G=typeof D;(G==="undefined"||G==="boolean")&&(D=null);var F=!1;if(D===null)F=!0;else switch(G){case"bigint":case"string":case"number":F=!0;break;case"object":switch(D.$$typeof){case t:case a:F=!0;break;case h:return F=D._init,z(F(D._payload),I,A,j,R)}}if(F)return R=R(D),F=j===""?"."+L(D,0):j,O(R)?(A="",F!=null&&(A=F.replace(ae,"$&/")+"/"),z(R,I,A,"",function(ge){return ge})):R!=null&&(Z(R)&&(R=Y(R,A+(R.key==null||D&&D.key===R.key?"":(""+R.key).replace(ae,"$&/")+"/")+F)),I.push(R)),1;F=0;var re=j===""?".":j+":";if(O(D))for(var te=0;te<D.length;te++)j=D[te],G=re+L(j,te),F+=z(j,I,A,G,R);else if(te=b(D),typeof te=="function")for(D=te.call(D),te=0;!(j=D.next()).done;)j=j.value,G=re+L(j,te++),F+=z(j,I,A,G,R);else if(G==="object"){if(typeof D.then=="function")return z(ee(D),I,A,j,R);throw I=String(D),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return F}function P(D,I,A){if(D==null)return D;var j=[],R=0;return z(D,j,"","",function(G){return I.call(A,G,R++)}),j}function le(D){if(D._status===-1){var I=D._result;I=I(),I.then(function(A){(D._status===0||D._status===-1)&&(D._status=1,D._result=A)},function(A){(D._status===0||D._status===-1)&&(D._status=2,D._result=A)}),D._status===-1&&(D._status=0,D._result=I)}if(D._status===1)return D._result.default;throw D._result}var W=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},X={map:P,forEach:function(D,I,A){P(D,function(){I.apply(this,arguments)},A)},count:function(D){var I=0;return P(D,function(){I++}),I},toArray:function(D){return P(D,function(I){return I})||[]},only:function(D){if(!Z(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Te.Activity=v,Te.Children=X,Te.Component=E,Te.Fragment=i,Te.Profiler=o,Te.PureComponent=T,Te.StrictMode=s,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Te.__COMPILER_RUNTIME={__proto__:null,c:function(D){return H.H.useMemoCache(D)}},Te.cache=function(D){return function(){return D.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(D,I,A){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var j=_({},D.props),R=D.key;if(I!=null)for(G in I.key!==void 0&&(R=""+I.key),I)!$.call(I,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&I.ref===void 0||(j[G]=I[G]);var G=arguments.length-2;if(G===1)j.children=A;else if(1<G){for(var F=Array(G),re=0;re<G;re++)F[re]=arguments[re+2];j.children=F}return U(D.type,R,j)},Te.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Te.createElement=function(D,I,A){var j,R={},G=null;if(I!=null)for(j in I.key!==void 0&&(G=""+I.key),I)$.call(I,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(R[j]=I[j]);var F=arguments.length-2;if(F===1)R.children=A;else if(1<F){for(var re=Array(F),te=0;te<F;te++)re[te]=arguments[te+2];R.children=re}if(D&&D.defaultProps)for(j in F=D.defaultProps,F)R[j]===void 0&&(R[j]=F[j]);return U(D,G,R)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:f,render:D}},Te.isValidElement=Z,Te.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:le}},Te.memo=function(D,I){return{$$typeof:m,type:D,compare:I===void 0?null:I}},Te.startTransition=function(D){var I=H.T,A={};H.T=A;try{var j=D(),R=H.S;R!==null&&R(A,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(k,W)}catch(G){W(G)}finally{I!==null&&A.types!==null&&(I.types=A.types),H.T=I}},Te.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Te.use=function(D){return H.H.use(D)},Te.useActionState=function(D,I,A){return H.H.useActionState(D,I,A)},Te.useCallback=function(D,I){return H.H.useCallback(D,I)},Te.useContext=function(D){return H.H.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D,I){return H.H.useDeferredValue(D,I)},Te.useEffect=function(D,I){return H.H.useEffect(D,I)},Te.useEffectEvent=function(D){return H.H.useEffectEvent(D)},Te.useId=function(){return H.H.useId()},Te.useImperativeHandle=function(D,I,A){return H.H.useImperativeHandle(D,I,A)},Te.useInsertionEffect=function(D,I){return H.H.useInsertionEffect(D,I)},Te.useLayoutEffect=function(D,I){return H.H.useLayoutEffect(D,I)},Te.useMemo=function(D,I){return H.H.useMemo(D,I)},Te.useOptimistic=function(D,I){return H.H.useOptimistic(D,I)},Te.useReducer=function(D,I,A){return H.H.useReducer(D,I,A)},Te.useRef=function(D){return H.H.useRef(D)},Te.useState=function(D){return H.H.useState(D)},Te.useSyncExternalStore=function(D,I,A){return H.H.useSyncExternalStore(D,I,A)},Te.useTransition=function(){return H.H.useTransition()},Te.version="19.2.3",Te}var n1;function Us(){return n1||(n1=1,Rf.exports=MA()),Rf.exports}var B=Us();const de=A0(B);var qf={exports:{}},bs={},Df={exports:{}},Of={};var r1;function RA(){return r1||(r1=1,(function(t){function a(z,P){var le=z.length;z.push(P);e:for(;0<le;){var W=le-1>>>1,X=z[W];if(0<o(X,P))z[W]=P,z[le]=X,le=W;else break e}}function i(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var P=z[0],le=z.pop();if(le!==P){z[0]=le;e:for(var W=0,X=z.length,D=X>>>1;W<D;){var I=2*(W+1)-1,A=z[I],j=I+1,R=z[j];if(0>o(A,le))j<X&&0>o(R,A)?(z[W]=R,z[j]=le,W=j):(z[W]=A,z[I]=le,W=I);else if(j<X&&0>o(R,le))z[W]=R,z[j]=le,W=j;else break e}}return P}function o(z,P){var le=z.sortIndex-P.sortIndex;return le!==0?le:z.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var g=[],m=[],h=1,v=null,x=3,b=!1,S=!1,_=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(z){for(var P=i(m);P!==null;){if(P.callback===null)s(m);else if(P.startTime<=z)s(m),P.sortIndex=P.expirationTime,a(g,P);else break;P=i(m)}}function O(z){if(_=!1,M(z),!S)if(i(g)!==null)S=!0,k||(k=!0,K());else{var P=i(m);P!==null&&ee(O,P.startTime-z)}}var k=!1,H=-1,$=5,U=-1;function Y(){return N?!0:!(t.unstable_now()-U<$)}function Z(){if(N=!1,k){var z=t.unstable_now();U=z;var P=!0;try{e:{S=!1,_&&(_=!1,C(H),H=-1),b=!0;var le=x;try{t:{for(M(z),v=i(g);v!==null&&!(v.expirationTime>z&&Y());){var W=v.callback;if(typeof W=="function"){v.callback=null,x=v.priorityLevel;var X=W(v.expirationTime<=z);if(z=t.unstable_now(),typeof X=="function"){v.callback=X,M(z),P=!0;break t}v===i(g)&&s(g),M(z)}else s(g);v=i(g)}if(v!==null)P=!0;else{var D=i(m);D!==null&&ee(O,D.startTime-z),P=!1}}break e}finally{v=null,x=le,b=!1}P=void 0}}finally{P?K():k=!1}}}var K;if(typeof T=="function")K=function(){T(Z)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,L=ae.port2;ae.port1.onmessage=Z,K=function(){L.postMessage(null)}}else K=function(){E(Z,0)};function ee(z,P){H=E(function(){z(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(z){switch(x){case 1:case 2:case 3:var P=3;break;default:P=x}var le=x;x=P;try{return z()}finally{x=le}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(z,P){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var le=x;x=z;try{return P()}finally{x=le}},t.unstable_scheduleCallback=function(z,P,le){var W=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,z={id:h++,callback:P,priorityLevel:z,startTime:le,expirationTime:X,sortIndex:-1},le>W?(z.sortIndex=le,a(m,z),i(g)===null&&z===i(m)&&(_?(C(H),H=-1):_=!0,ee(O,le-W))):(z.sortIndex=X,a(g,z),S||b||(S=!0,k||(k=!0,K()))),z},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(z){var P=x;return function(){var le=x;x=P;try{return z.apply(this,arguments)}finally{x=le}}}})(Of)),Of}var a1;function qA(){return a1||(a1=1,Df.exports=RA()),Df.exports}var zf={exports:{}},At={};var i1;function DA(){if(i1)return At;i1=1;var t=Us();function a(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:m,implementation:h}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,At.createPortal=function(g,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(a(299));return u(g,m,null,h)},At.flushSync=function(g){var m=c.T,h=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=m,s.p=h,s.d.f()}},At.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},At.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},At.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var h=m.as,v=f(h,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:b}):h==="script"&&s.d.X(g,{crossOrigin:v,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},At.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=f(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},At.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,v=f(h,m.crossOrigin);s.d.L(g,h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},At.preloadModule=function(g,m){if(typeof g=="string")if(m){var h=f(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},At.requestFormReset=function(g){s.d.r(g)},At.unstable_batchedUpdates=function(g,m){return g(m)},At.useFormState=function(g,m,h){return c.H.useFormState(g,m,h)},At.useFormStatus=function(){return c.H.useHostTransitionStatus()},At.version="19.2.3",At}var s1;function RE(){if(s1)return zf.exports;s1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),zf.exports=DA(),zf.exports}var l1;function OA(){if(l1)return bs;l1=1;var t=qA(),a=Us(),i=RE();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function m(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var d=r.return;if(d===null)break;var y=d.alternate;if(y===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===r)return g(d),e;if(y===l)return g(d),n;y=y.sibling}throw Error(s(188))}if(r.return!==l.return)r=d,l=y;else{for(var w=!1,q=d.child;q;){if(q===r){w=!0,r=d,l=y;break}if(q===l){w=!0,l=d,r=y;break}q=q.sibling}if(!w){for(q=y.child;q;){if(q===r){w=!0,r=y,l=d;break}if(q===l){w=!0,l=y,r=d;break}q=q.sibling}if(!w)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function h(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=h(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Symbol.for("react.client.reference");function L(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case E:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case k:return"SuspenseList";case U:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case T:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case M:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return n=e.displayName||null,n!==null?n:L(e.type)||"Memo";case $:n=e._payload,e=e._init;try{return L(e(n))}catch{}}return null}var ee=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},W=[],X=-1;function D(e){return{current:e}}function I(e){0>X||(e.current=W[X],W[X]=null,X--)}function A(e,n){X++,W[X]=e.current,e.current=n}var j=D(null),R=D(null),G=D(null),F=D(null);function re(e,n){switch(A(G,n),A(R,e),A(j,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sb(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sb(n),e=wb(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(j),A(j,e)}function te(){I(j),I(R),I(G)}function ge(e){e.memoizedState!==null&&A(F,e);var n=j.current,r=wb(n,e.type);n!==r&&(A(R,e),A(j,r))}function ce(e){R.current===e&&(I(j),I(R)),F.current===e&&(I(F),gs._currentValue=le)}var Q,ve;function be(e){if(Q===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Q=n&&n[1]||"",ve=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q+e+ve}var pe=!1;function Ce(e,n){if(!e||pe)return"";pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ue){var oe=ue}Reflect.construct(e,[],me)}else{try{me.call()}catch(ue){oe=ue}e.call(me.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(me=e())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),w=y[0],q=y[1];if(w&&q){var V=w.split(`
`),se=q.split(`
`);for(d=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;d<se.length&&!se[d].includes("DetermineComponentFrameRoot");)d++;if(l===V.length||d===se.length)for(l=V.length-1,d=se.length-1;1<=l&&0<=d&&V[l]!==se[d];)d--;for(;1<=l&&0<=d;l--,d--)if(V[l]!==se[d]){if(l!==1||d!==1)do if(l--,d--,0>d||V[l]!==se[d]){var fe=`
`+V[l].replace(" at new "," at ");return e.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",e.displayName)),fe}while(1<=l&&0<=d);break}}}finally{pe=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?be(r):""}function ye(e,n){switch(e.tag){case 26:case 27:case 5:return be(e.type);case 16:return be("Lazy");case 13:return e.child!==n&&n!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return Ce(e.type,!1);case 11:return Ce(e.type.render,!1);case 1:return Ce(e.type,!0);case 31:return be("Activity");default:return""}}function xe(e){try{var n="",r=null;do n+=ye(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var qe=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,Oe=t.unstable_cancelCallback,Ae=t.unstable_shouldYield,Ve=t.unstable_requestPaint,Ge=t.unstable_now,Rt=t.unstable_getCurrentPriorityLevel,tn=t.unstable_ImmediatePriority,Yt=t.unstable_UserBlockingPriority,_t=t.unstable_NormalPriority,vn=t.unstable_LowPriority,yn=t.unstable_IdlePriority,dt=t.log,qt=t.unstable_setDisableYieldValue,it=null,Ye=null;function Dt(e){if(typeof dt=="function"&&qt(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(it,e)}catch{}}var tt=Math.clz32?Math.clz32:Ei,Bn=Math.log,Ni=Math.LN2;function Ei(e){return e>>>=0,e===0?32:31-(Bn(e)/Ni|0)|0}var jn=256,hr=262144,Kr=4194304;function Ot(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ta(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var d=0,y=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var q=l&134217727;return q!==0?(l=q&~y,l!==0?d=Ot(l):(w&=q,w!==0?d=Ot(w):r||(r=q&~e,r!==0&&(d=Ot(r))))):(q=l&~y,q!==0?d=Ot(q):w!==0?d=Ot(w):r||(r=l&~e,r!==0&&(d=Ot(r)))),d===0?0:n!==0&&n!==d&&(n&y)===0&&(y=d&-d,r=n&-n,y>=r||y===32&&(r&4194048)!==0)?n:d}function Zr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function vu(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function Ti(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Qr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yu(e,n,r,l,d,y){var w=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var q=e.entanglements,V=e.expirationTimes,se=e.hiddenUpdates;for(r=w&~r;0<r;){var fe=31-tt(r),me=1<<fe;q[fe]=0,V[fe]=-1;var oe=se[fe];if(oe!==null)for(se[fe]=null,fe=0;fe<oe.length;fe++){var ue=oe[fe];ue!==null&&(ue.lane&=-536870913)}r&=~me}l!==0&&Qs(e,l,0),y!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=y&~(w&~n))}function Qs(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-tt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Js(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-tt(r),d=1<<l;d&n|e[l]&n&&(e[l]|=n),r&=~d}}function Ps(e,n){var r=n&-n;return r=(r&42)!==0?1:Ci(r),(r&(e.suspendedLanes|n))!==0?0:r}function Ci(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ws(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Fb(e.type))}function el(e,n){var r=P.p;try{return P.p=e,n()}finally{P.p=r}}var An=Math.random().toString(36).slice(2),xt="__reactFiber$"+An,Nt="__reactProps$"+An,mr="__reactContainer$"+An,Ai="__reactEvents$"+An,xu="__reactListeners$"+An,bu="__reactHandles$"+An,tl="__reactResources$"+An,Jr="__reactMarker$"+An;function Mi(e){delete e[xt],delete e[Nt],delete e[Ai],delete e[xu],delete e[bu]}function gr(e){var n=e[xt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[mr]||r[xt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Mb(e);e!==null;){if(r=e[xt])return r;e=Mb(e)}return n}e=r,r=e.parentNode}return null}function Un(e){if(e=e[xt]||e[mr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Pr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function pr(e){var n=e[tl];return n||(n=e[tl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ht(e){e[Jr]=!0}var nl=new Set,rl={};function $n(e,n){Gn(e,n),Gn(e+"Capture",n)}function Gn(e,n){for(rl[e]=n,e=0;e<n.length;e++)nl.add(n[e])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},il={};function Ri(e){return qe.call(il,e)?!0:qe.call(al,e)?!1:_u.test(e)?il[e]=!0:(al[e]=!0,!1)}function sl(e,n,r){if(Ri(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function ll(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function In(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mv(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _C(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,y=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(w){r=""+w,y.call(this,w)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(w){r=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Su(e){if(!e._valueTracker){var n=mv(e)?"checked":"value";e._valueTracker=_C(e,n,""+e[n])}}function gv(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=mv(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var SC=/[\n"\\]/g;function rn(e){return e.replace(SC,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wu(e,n,r,l,d,y,w,q){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),n!=null?w==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nn(n)):e.value!==""+nn(n)&&(e.value=""+nn(n)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),n!=null?Nu(e,w,nn(n)):r!=null?Nu(e,w,nn(r)):l!=null&&e.removeAttribute("value"),d==null&&y!=null&&(e.defaultChecked=!!y),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?e.name=""+nn(q):e.removeAttribute("name")}function pv(e,n,r,l,d,y,w,q){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||n!=null)){Su(e);return}r=r!=null?""+nn(r):"",n=n!=null?""+nn(n):r,q||n===e.value||(e.value=n),e.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=q?e.checked:!!l,e.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),Su(e)}function Nu(e,n,r){n==="number"&&ol(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ca(e,n,r,l){if(e=e.options,n){n={};for(var d=0;d<r.length;d++)n["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=n.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&l&&(e[r].defaultSelected=!0)}else{for(r=""+nn(r),n=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function vv(e,n,r){if(n!=null&&(n=""+nn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+nn(r):""}function yv(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=nn(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Su(e)}function ja(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var wC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xv(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||wC.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function bv(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&r[d]!==l&&xv(e,d,l)}else for(var y in n)n.hasOwnProperty(y)&&xv(e,y,n[y])}function Eu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ul(e){return EC.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vn(){}var Tu=null;function Cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Aa=null,Ma=null;function _v(e){var n=Un(e);if(n&&(e=n.stateNode)){var r=e[Nt]||null;e:switch(e=n.stateNode,n.type){case"input":if(wu(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var d=l[Nt]||null;if(!d)throw Error(s(90));wu(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&gv(l)}break e;case"textarea":vv(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ca(e,!!r.multiple,n,!1)}}}var ju=!1;function Sv(e,n,r){if(ju)return e(n,r);ju=!0;try{var l=e(n);return l}finally{if(ju=!1,(Aa!==null||Ma!==null)&&(Ql(),Aa&&(n=Aa,e=Ma,Ma=Aa=null,_v(n),e)))for(n=0;n<e.length;n++)_v(e[n])}}function qi(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Nt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=!1;if(Yn)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Au=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Au=!1}var vr=null,Mu=null,cl=null;function wv(){if(cl)return cl;var e,n=Mu,r=n.length,l,d="value"in vr?vr.value:vr.textContent,y=d.length;for(e=0;e<r&&n[e]===d[e];e++);var w=r-e;for(l=1;l<=w&&n[r-l]===d[y-l];l++);return cl=d.slice(e,1<l?1-l:void 0)}function fl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function dl(){return!0}function Nv(){return!1}function Ht(e){function n(r,l,d,y,w){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var q in e)e.hasOwnProperty(q)&&(r=e[q],this[q]=r?r(y):y[q]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?dl:Nv,this.isPropagationStopped=Nv,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),n}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=Ht(Wr),Oi=v({},Wr,{view:0,detail:0}),TC=Ht(Oi),Ru,qu,zi,ml=v({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(Ru=e.screenX-zi.screenX,qu=e.screenY-zi.screenY):qu=Ru=0,zi=e),Ru)},movementY:function(e){return"movementY"in e?e.movementY:qu}}),Ev=Ht(ml),CC=v({},ml,{dataTransfer:0}),jC=Ht(CC),AC=v({},Oi,{relatedTarget:0}),Du=Ht(AC),MC=v({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),RC=Ht(MC),qC=v({},Wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DC=Ht(qC),OC=v({},Wr,{data:0}),Tv=Ht(OC),zC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LC(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=HC[e])?!!n[e]:!1}function Ou(){return LC}var BC=v({},Oi,{key:function(e){if(e.key){var n=zC[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(e){return e.type==="keypress"?fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UC=Ht(BC),$C=v({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cv=Ht($C),GC=v({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),IC=Ht(GC),VC=v({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),YC=Ht(VC),FC=v({},ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XC=Ht(FC),KC=v({},Wr,{newState:0,oldState:0}),ZC=Ht(KC),QC=[9,13,27,32],zu=Yn&&"CompositionEvent"in window,ki=null;Yn&&"documentMode"in document&&(ki=document.documentMode);var JC=Yn&&"TextEvent"in window&&!ki,jv=Yn&&(!zu||ki&&8<ki&&11>=ki),Av=" ",Mv=!1;function Rv(e,n){switch(e){case"keyup":return QC.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function PC(e,n){switch(e){case"compositionend":return qv(n);case"keypress":return n.which!==32?null:(Mv=!0,Av);case"textInput":return e=n.data,e===Av&&Mv?null:e;default:return null}}function WC(e,n){if(Ra)return e==="compositionend"||!zu&&Rv(e,n)?(e=wv(),cl=Mu=vr=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jv&&n.locale!=="ko"?null:n.data;default:return null}}var ej={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ej[e.type]:n==="textarea"}function Ov(e,n,r,l){Aa?Ma?Ma.push(l):Ma=[l]:Aa=l,n=ro(n,"onChange"),0<n.length&&(r=new hl("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Hi=null,Li=null;function tj(e){pb(e,0)}function gl(e){var n=Pr(e);if(gv(n))return e}function zv(e,n){if(e==="change")return n}var kv=!1;if(Yn){var ku;if(Yn){var Hu="oninput"in document;if(!Hu){var Hv=document.createElement("div");Hv.setAttribute("oninput","return;"),Hu=typeof Hv.oninput=="function"}ku=Hu}else ku=!1;kv=ku&&(!document.documentMode||9<document.documentMode)}function Lv(){Hi&&(Hi.detachEvent("onpropertychange",Bv),Li=Hi=null)}function Bv(e){if(e.propertyName==="value"&&gl(Li)){var n=[];Ov(n,Li,e,Cu(e)),Sv(tj,n)}}function nj(e,n,r){e==="focusin"?(Lv(),Hi=n,Li=r,Hi.attachEvent("onpropertychange",Bv)):e==="focusout"&&Lv()}function rj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(Li)}function aj(e,n){if(e==="click")return gl(n)}function ij(e,n){if(e==="input"||e==="change")return gl(n)}function sj(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ft=typeof Object.is=="function"?Object.is:sj;function Bi(e,n){if(Ft(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!qe.call(n,d)||!Ft(e[d],n[d]))return!1}return!0}function Uv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $v(e,n){var r=Uv(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uv(r)}}function Gv(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gv(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Iv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ol(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ol(e.document)}return n}function Lu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var lj=Yn&&"documentMode"in document&&11>=document.documentMode,qa=null,Bu=null,Ui=null,Uu=!1;function Vv(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uu||qa==null||qa!==ol(l)||(l=qa,"selectionStart"in l&&Lu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ui&&Bi(Ui,l)||(Ui=l,l=ro(Bu,"onSelect"),0<l.length&&(n=new hl("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=qa)))}function ea(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Da={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},$u={},Yv={};Yn&&(Yv=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function ta(e){if($u[e])return $u[e];if(!Da[e])return e;var n=Da[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Yv)return $u[e]=n[r];return e}var Fv=ta("animationend"),Xv=ta("animationiteration"),Kv=ta("animationstart"),oj=ta("transitionrun"),uj=ta("transitionstart"),cj=ta("transitioncancel"),Zv=ta("transitionend"),Qv=new Map,Gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gu.push("scrollEnd");function xn(e,n){Qv.set(e,n),$n(n,[e])}var pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},an=[],Oa=0,Iu=0;function vl(){for(var e=Oa,n=Iu=Oa=0;n<e;){var r=an[n];an[n++]=null;var l=an[n];an[n++]=null;var d=an[n];an[n++]=null;var y=an[n];if(an[n++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}y!==0&&Jv(r,d,y)}}function yl(e,n,r,l){an[Oa++]=e,an[Oa++]=n,an[Oa++]=r,an[Oa++]=l,Iu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Vu(e,n,r,l){return yl(e,n,r,l),xl(e)}function na(e,n){return yl(e,null,null,n),xl(e)}function Jv(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var d=!1,y=e.return;y!==null;)y.childLanes|=r,l=y.alternate,l!==null&&(l.childLanes|=r),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(d=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,d&&n!==null&&(d=31-tt(r),e=y.hiddenUpdates,l=e[d],l===null?e[d]=[n]:l.push(n),n.lane=r|536870912),y):null}function xl(e){if(50<os)throw os=0,Wc=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var za={};function fj(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,n,r,l){return new fj(e,n,r,l)}function Yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fn(e,n){var r=e.alternate;return r===null?(r=Xt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Pv(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bl(e,n,r,l,d,y){var w=0;if(l=e,typeof e=="function")Yu(e)&&(w=1);else if(typeof e=="string")w=pA(e,r,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case U:return e=Xt(31,r,n,d),e.elementType=U,e.lanes=y,e;case _:return ra(r.children,d,y,n);case N:w=8,d|=24;break;case E:return e=Xt(12,r,n,d|2),e.elementType=E,e.lanes=y,e;case O:return e=Xt(13,r,n,d),e.elementType=O,e.lanes=y,e;case k:return e=Xt(19,r,n,d),e.elementType=k,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:w=10;break e;case C:w=9;break e;case M:w=11;break e;case H:w=14;break e;case $:w=16,l=null;break e}w=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Xt(w,r,n,d),n.elementType=e,n.type=l,n.lanes=y,n}function ra(e,n,r,l){return e=Xt(7,e,l,n),e.lanes=r,e}function Fu(e,n,r){return e=Xt(6,e,null,n),e.lanes=r,e}function Wv(e){var n=Xt(18,null,null,0);return n.stateNode=e,n}function Xu(e,n,r){return n=Xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ey=new WeakMap;function sn(e,n){if(typeof e=="object"&&e!==null){var r=ey.get(e);return r!==void 0?r:(n={value:e,source:n,stack:xe(n)},ey.set(e,n),n)}return{value:e,source:n,stack:xe(n)}}var ka=[],Ha=0,_l=null,$i=0,ln=[],on=0,yr=null,Mn=1,Rn="";function Xn(e,n){ka[Ha++]=$i,ka[Ha++]=_l,_l=e,$i=n}function ty(e,n,r){ln[on++]=Mn,ln[on++]=Rn,ln[on++]=yr,yr=e;var l=Mn;e=Rn;var d=32-tt(l)-1;l&=~(1<<d),r+=1;var y=32-tt(n)+d;if(30<y){var w=d-d%5;y=(l&(1<<w)-1).toString(32),l>>=w,d-=w,Mn=1<<32-tt(n)+d|r<<d|l,Rn=y+e}else Mn=1<<y|r<<d|l,Rn=e}function Ku(e){e.return!==null&&(Xn(e,1),ty(e,1,0))}function Zu(e){for(;e===_l;)_l=ka[--Ha],ka[Ha]=null,$i=ka[--Ha],ka[Ha]=null;for(;e===yr;)yr=ln[--on],ln[on]=null,Rn=ln[--on],ln[on]=null,Mn=ln[--on],ln[on]=null}function ny(e,n){ln[on++]=Mn,ln[on++]=Rn,ln[on++]=yr,Mn=n.id,Rn=n.overflow,yr=e}var Et=null,We=null,Be=!1,xr=null,un=!1,Qu=Error(s(519));function br(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gi(sn(n,e)),Qu}function ry(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[xt]=e,n[Nt]=l,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(r=0;r<cs.length;r++)ke(cs[r],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),pv(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),yv(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||bb(n.textContent,r)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=Vn),n=!0):n=!1,n||br(e,!0)}function ay(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:Et=Et.return}}function La(e){if(e!==Et)return!1;if(!Be)return ay(e),Be=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||gf(e.type,e.memoizedProps)),r=!r),r&&We&&br(e),ay(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));We=Ab(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));We=Ab(e)}else n===27?(n=We,Or(e.type)?(e=bf,bf=null,We=e):We=n):We=Et?fn(e.stateNode.nextSibling):null;return!0}function aa(){We=Et=null,Be=!1}function Ju(){var e=xr;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),xr=null),e}function Gi(e){xr===null?xr=[e]:xr.push(e)}var Pu=D(null),ia=null,Kn=null;function _r(e,n,r){A(Pu,n._currentValue),n._currentValue=r}function Zn(e){e._currentValue=Pu.current,I(Pu)}function Wu(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function ec(e,n,r,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var y=d.dependencies;if(y!==null){var w=d.child;y=y.firstContext;e:for(;y!==null;){var q=y;y=d;for(var V=0;V<n.length;V++)if(q.context===n[V]){y.lanes|=r,q=y.alternate,q!==null&&(q.lanes|=r),Wu(y.return,r,e),l||(w=null);break e}y=q.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=r,y=w.alternate,y!==null&&(y.lanes|=r),Wu(w,r,e),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===e){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Ba(e,n,r,l){e=null;for(var d=n,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var q=d.type;Ft(d.pendingProps.value,w.value)||(e!==null?e.push(q):e=[q])}}else if(d===F.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(gs):e=[gs])}d=d.return}e!==null&&ec(n,e,r,l),n.flags|=262144}function Sl(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sa(e){ia=e,Kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return iy(ia,e)}function wl(e,n){return ia===null&&sa(e),iy(e,n)}function iy(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Kn===null){if(e===null)throw Error(s(308));Kn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Kn=Kn.next=n;return r}var dj=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},hj=t.unstable_scheduleCallback,mj=t.unstable_NormalPriority,mt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tc(){return{controller:new dj,data:new Map,refCount:0}}function Ii(e){e.refCount--,e.refCount===0&&hj(mj,function(){e.controller.abort()})}var Vi=null,nc=0,Ua=0,$a=null;function gj(e,n){if(Vi===null){var r=Vi=[];nc=0,Ua=sf(),$a={status:"pending",value:void 0,then:function(l){r.push(l)}}}return nc++,n.then(sy,sy),n}function sy(){if(--nc===0&&Vi!==null){$a!==null&&($a.status="fulfilled");var e=Vi;Vi=null,Ua=0,$a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function pj(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<r.length;d++)(0,r[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var ly=z.S;z.S=function(e,n){Vx=Ge(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gj(e,n),ly!==null&&ly(e,n)};var la=D(null);function rc(){var e=la.current;return e!==null?e:Pe.pooledCache}function Nl(e,n){n===null?A(la,la.current):A(la,n.pool)}function oy(){var e=rc();return e===null?null:{parent:mt._currentValue,pool:e}}var Ga=Error(s(460)),ac=Error(s(474)),El=Error(s(542)),Tl={then:function(){}};function uy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cy(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Vn,Vn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dy(e),e;default:if(typeof n.status=="string")n.then(Vn,Vn);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dy(e),e}throw ua=n,Ga}}function oa(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ua=r,Ga):r}}var ua=null;function fy(){if(ua===null)throw Error(s(459));var e=ua;return ua=null,e}function dy(e){if(e===Ga||e===El)throw Error(s(483))}var Ia=null,Yi=0;function Cl(e){var n=Yi;return Yi+=1,Ia===null&&(Ia=[]),cy(Ia,e,n)}function Fi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function jl(e,n){throw n.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hy(e){function n(ne,J){if(e){var ie=ne.deletions;ie===null?(ne.deletions=[J],ne.flags|=16):ie.push(J)}}function r(ne,J){if(!e)return null;for(;J!==null;)n(ne,J),J=J.sibling;return null}function l(ne){for(var J=new Map;ne!==null;)ne.key!==null?J.set(ne.key,ne):J.set(ne.index,ne),ne=ne.sibling;return J}function d(ne,J){return ne=Fn(ne,J),ne.index=0,ne.sibling=null,ne}function y(ne,J,ie){return ne.index=ie,e?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<J?(ne.flags|=67108866,J):ie):(ne.flags|=67108866,J)):(ne.flags|=1048576,J)}function w(ne){return e&&ne.alternate===null&&(ne.flags|=67108866),ne}function q(ne,J,ie,he){return J===null||J.tag!==6?(J=Fu(ie,ne.mode,he),J.return=ne,J):(J=d(J,ie),J.return=ne,J)}function V(ne,J,ie,he){var Ne=ie.type;return Ne===_?fe(ne,J,ie.props.children,he,ie.key):J!==null&&(J.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===$&&oa(Ne)===J.type)?(J=d(J,ie.props),Fi(J,ie),J.return=ne,J):(J=bl(ie.type,ie.key,ie.props,null,ne.mode,he),Fi(J,ie),J.return=ne,J)}function se(ne,J,ie,he){return J===null||J.tag!==4||J.stateNode.containerInfo!==ie.containerInfo||J.stateNode.implementation!==ie.implementation?(J=Xu(ie,ne.mode,he),J.return=ne,J):(J=d(J,ie.children||[]),J.return=ne,J)}function fe(ne,J,ie,he,Ne){return J===null||J.tag!==7?(J=ra(ie,ne.mode,he,Ne),J.return=ne,J):(J=d(J,ie),J.return=ne,J)}function me(ne,J,ie){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Fu(""+J,ne.mode,ie),J.return=ne,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return ie=bl(J.type,J.key,J.props,null,ne.mode,ie),Fi(ie,J),ie.return=ne,ie;case S:return J=Xu(J,ne.mode,ie),J.return=ne,J;case $:return J=oa(J),me(ne,J,ie)}if(ee(J)||K(J))return J=ra(J,ne.mode,ie,null),J.return=ne,J;if(typeof J.then=="function")return me(ne,Cl(J),ie);if(J.$$typeof===T)return me(ne,wl(ne,J),ie);jl(ne,J)}return null}function oe(ne,J,ie,he){var Ne=J!==null?J.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ne!==null?null:q(ne,J,""+ie,he);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return ie.key===Ne?V(ne,J,ie,he):null;case S:return ie.key===Ne?se(ne,J,ie,he):null;case $:return ie=oa(ie),oe(ne,J,ie,he)}if(ee(ie)||K(ie))return Ne!==null?null:fe(ne,J,ie,he,null);if(typeof ie.then=="function")return oe(ne,J,Cl(ie),he);if(ie.$$typeof===T)return oe(ne,J,wl(ne,ie),he);jl(ne,ie)}return null}function ue(ne,J,ie,he,Ne){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return ne=ne.get(ie)||null,q(J,ne,""+he,Ne);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return ne=ne.get(he.key===null?ie:he.key)||null,V(J,ne,he,Ne);case S:return ne=ne.get(he.key===null?ie:he.key)||null,se(J,ne,he,Ne);case $:return he=oa(he),ue(ne,J,ie,he,Ne)}if(ee(he)||K(he))return ne=ne.get(ie)||null,fe(J,ne,he,Ne,null);if(typeof he.then=="function")return ue(ne,J,ie,Cl(he),Ne);if(he.$$typeof===T)return ue(ne,J,ie,wl(J,he),Ne);jl(J,he)}return null}function Se(ne,J,ie,he){for(var Ne=null,Ue=null,we=J,Re=J=0,Le=null;we!==null&&Re<ie.length;Re++){we.index>Re?(Le=we,we=null):Le=we.sibling;var $e=oe(ne,we,ie[Re],he);if($e===null){we===null&&(we=Le);break}e&&we&&$e.alternate===null&&n(ne,we),J=y($e,J,Re),Ue===null?Ne=$e:Ue.sibling=$e,Ue=$e,we=Le}if(Re===ie.length)return r(ne,we),Be&&Xn(ne,Re),Ne;if(we===null){for(;Re<ie.length;Re++)we=me(ne,ie[Re],he),we!==null&&(J=y(we,J,Re),Ue===null?Ne=we:Ue.sibling=we,Ue=we);return Be&&Xn(ne,Re),Ne}for(we=l(we);Re<ie.length;Re++)Le=ue(we,ne,Re,ie[Re],he),Le!==null&&(e&&Le.alternate!==null&&we.delete(Le.key===null?Re:Le.key),J=y(Le,J,Re),Ue===null?Ne=Le:Ue.sibling=Le,Ue=Le);return e&&we.forEach(function(Br){return n(ne,Br)}),Be&&Xn(ne,Re),Ne}function Ee(ne,J,ie,he){if(ie==null)throw Error(s(151));for(var Ne=null,Ue=null,we=J,Re=J=0,Le=null,$e=ie.next();we!==null&&!$e.done;Re++,$e=ie.next()){we.index>Re?(Le=we,we=null):Le=we.sibling;var Br=oe(ne,we,$e.value,he);if(Br===null){we===null&&(we=Le);break}e&&we&&Br.alternate===null&&n(ne,we),J=y(Br,J,Re),Ue===null?Ne=Br:Ue.sibling=Br,Ue=Br,we=Le}if($e.done)return r(ne,we),Be&&Xn(ne,Re),Ne;if(we===null){for(;!$e.done;Re++,$e=ie.next())$e=me(ne,$e.value,he),$e!==null&&(J=y($e,J,Re),Ue===null?Ne=$e:Ue.sibling=$e,Ue=$e);return Be&&Xn(ne,Re),Ne}for(we=l(we);!$e.done;Re++,$e=ie.next())$e=ue(we,ne,Re,$e.value,he),$e!==null&&(e&&$e.alternate!==null&&we.delete($e.key===null?Re:$e.key),J=y($e,J,Re),Ue===null?Ne=$e:Ue.sibling=$e,Ue=$e);return e&&we.forEach(function(CA){return n(ne,CA)}),Be&&Xn(ne,Re),Ne}function Qe(ne,J,ie,he){if(typeof ie=="object"&&ie!==null&&ie.type===_&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:e:{for(var Ne=ie.key;J!==null;){if(J.key===Ne){if(Ne=ie.type,Ne===_){if(J.tag===7){r(ne,J.sibling),he=d(J,ie.props.children),he.return=ne,ne=he;break e}}else if(J.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===$&&oa(Ne)===J.type){r(ne,J.sibling),he=d(J,ie.props),Fi(he,ie),he.return=ne,ne=he;break e}r(ne,J);break}else n(ne,J);J=J.sibling}ie.type===_?(he=ra(ie.props.children,ne.mode,he,ie.key),he.return=ne,ne=he):(he=bl(ie.type,ie.key,ie.props,null,ne.mode,he),Fi(he,ie),he.return=ne,ne=he)}return w(ne);case S:e:{for(Ne=ie.key;J!==null;){if(J.key===Ne)if(J.tag===4&&J.stateNode.containerInfo===ie.containerInfo&&J.stateNode.implementation===ie.implementation){r(ne,J.sibling),he=d(J,ie.children||[]),he.return=ne,ne=he;break e}else{r(ne,J);break}else n(ne,J);J=J.sibling}he=Xu(ie,ne.mode,he),he.return=ne,ne=he}return w(ne);case $:return ie=oa(ie),Qe(ne,J,ie,he)}if(ee(ie))return Se(ne,J,ie,he);if(K(ie)){if(Ne=K(ie),typeof Ne!="function")throw Error(s(150));return ie=Ne.call(ie),Ee(ne,J,ie,he)}if(typeof ie.then=="function")return Qe(ne,J,Cl(ie),he);if(ie.$$typeof===T)return Qe(ne,J,wl(ne,ie),he);jl(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,J!==null&&J.tag===6?(r(ne,J.sibling),he=d(J,ie),he.return=ne,ne=he):(r(ne,J),he=Fu(ie,ne.mode,he),he.return=ne,ne=he),w(ne)):r(ne,J)}return function(ne,J,ie,he){try{Yi=0;var Ne=Qe(ne,J,ie,he);return Ia=null,Ne}catch(we){if(we===Ga||we===El)throw we;var Ue=Xt(29,we,null,ne.mode);return Ue.lanes=he,Ue.return=ne,Ue}}}var ca=hy(!0),my=hy(!1),Sr=!1;function ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=xl(e),Jv(e,null,r),n}return yl(e,l,n,r),xl(e)}function Xi(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Js(e,r)}}function lc(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?d=y=w:y=y.next=w,r=r.next}while(r!==null);y===null?d=y=n:y=y.next=n}else d=y=n;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var oc=!1;function Ki(){if(oc){var e=$a;if(e!==null)throw e}}function Zi(e,n,r,l){oc=!1;var d=e.updateQueue;Sr=!1;var y=d.firstBaseUpdate,w=d.lastBaseUpdate,q=d.shared.pending;if(q!==null){d.shared.pending=null;var V=q,se=V.next;V.next=null,w===null?y=se:w.next=se,w=V;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,q=fe.lastBaseUpdate,q!==w&&(q===null?fe.firstBaseUpdate=se:q.next=se,fe.lastBaseUpdate=V))}if(y!==null){var me=d.baseState;w=0,fe=se=V=null,q=y;do{var oe=q.lane&-536870913,ue=oe!==q.lane;if(ue?(He&oe)===oe:(l&oe)===oe){oe!==0&&oe===Ua&&(oc=!0),fe!==null&&(fe=fe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Se=e,Ee=q;oe=n;var Qe=r;switch(Ee.tag){case 1:if(Se=Ee.payload,typeof Se=="function"){me=Se.call(Qe,me,oe);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ee.payload,oe=typeof Se=="function"?Se.call(Qe,me,oe):Se,oe==null)break e;me=v({},me,oe);break e;case 2:Sr=!0}}oe=q.callback,oe!==null&&(e.flags|=64,ue&&(e.flags|=8192),ue=d.callbacks,ue===null?d.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},fe===null?(se=fe=ue,V=me):fe=fe.next=ue,w|=oe;if(q=q.next,q===null){if(q=d.shared.pending,q===null)break;ue=q,q=ue.next,ue.next=null,d.lastBaseUpdate=ue,d.shared.pending=null}}while(!0);fe===null&&(V=me),d.baseState=V,d.firstBaseUpdate=se,d.lastBaseUpdate=fe,y===null&&(d.shared.lanes=0),Ar|=w,e.lanes=w,e.memoizedState=me}}function gy(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function py(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)gy(r[e],n)}var Va=D(null),Al=D(0);function vy(e,n){e=ar,A(Al,e),A(Va,n),ar=e|n.baseLanes}function uc(){A(Al,ar),A(Va,Va.current)}function cc(){ar=Al.current,I(Va),I(Al)}var Kt=D(null),cn=null;function Er(e){var n=e.alternate;A(ut,ut.current&1),A(Kt,e),cn===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(cn=e)}function fc(e){A(ut,ut.current),A(Kt,e),cn===null&&(cn=e)}function yy(e){e.tag===22?(A(ut,ut.current),A(Kt,e),cn===null&&(cn=e)):Tr()}function Tr(){A(ut,ut.current),A(Kt,Kt.current)}function Zt(e){I(Kt),cn===e&&(cn=null),I(ut)}var ut=D(0);function Ml(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||yf(r)||xf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qn=0,Me=null,Ke=null,gt=null,Rl=!1,Ya=!1,fa=!1,ql=0,Qi=0,Fa=null,vj=0;function st(){throw Error(s(321))}function dc(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Ft(e[r],n[r]))return!1;return!0}function hc(e,n,r,l,d,y){return Qn=y,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=e===null||e.memoizedState===null?tx:jc,fa=!1,y=r(l,d),fa=!1,Ya&&(y=by(n,r,l,d)),xy(e),y}function xy(e){z.H=Wi;var n=Ke!==null&&Ke.next!==null;if(Qn=0,gt=Ke=Me=null,Rl=!1,Qi=0,Fa=null,n)throw Error(s(300));e===null||pt||(e=e.dependencies,e!==null&&Sl(e)&&(pt=!0))}function by(e,n,r,l){Me=e;var d=0;do{if(Ya&&(Fa=null),Qi=0,Ya=!1,25<=d)throw Error(s(301));if(d+=1,gt=Ke=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=nx,y=n(r,l)}while(Ya);return y}function yj(){var e=z.H,n=e.useState()[0];return n=typeof n.then=="function"?Ji(n):n,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(Me.flags|=1024),n}function mc(){var e=ql!==0;return ql=0,e}function gc(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function pc(e){if(Rl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Rl=!1}Qn=0,gt=Ke=Me=null,Ya=!1,Qi=ql=0,Fa=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Me.memoizedState=gt=e:gt=gt.next=e,gt}function ct(){if(Ke===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var n=gt===null?Me.memoizedState:gt.next;if(n!==null)gt=n,Ke=e;else{if(e===null)throw Me.alternate===null?Error(s(467)):Error(s(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},gt===null?Me.memoizedState=gt=e:gt=gt.next=e}return gt}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ji(e){var n=Qi;return Qi+=1,Fa===null&&(Fa=[]),e=cy(Fa,e,n),n=Me,(gt===null?n.memoizedState:gt.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?tx:jc),e}function Ol(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ji(e);if(e.$$typeof===T)return Tt(e)}throw Error(s(438,String(e)))}function vc(e){var n=null,r=Me.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Dl(),Me.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=Y;return n.index++,r}function Jn(e,n){return typeof n=="function"?n(e):n}function zl(e){var n=ct();return yc(n,Ke,e)}function yc(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var d=e.baseQueue,y=l.pending;if(y!==null){if(d!==null){var w=d.next;d.next=y.next,y.next=w}n.baseQueue=d=y,l.pending=null}if(y=e.baseState,d===null)e.memoizedState=y;else{n=d.next;var q=w=null,V=null,se=n,fe=!1;do{var me=se.lane&-536870913;if(me!==se.lane?(He&me)===me:(Qn&me)===me){var oe=se.revertLane;if(oe===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),me===Ua&&(fe=!0);else if((Qn&oe)===oe){se=se.next,oe===Ua&&(fe=!0);continue}else me={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},V===null?(q=V=me,w=y):V=V.next=me,Me.lanes|=oe,Ar|=oe;me=se.action,fa&&r(y,me),y=se.hasEagerState?se.eagerState:r(y,me)}else oe={lane:me,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},V===null?(q=V=oe,w=y):V=V.next=oe,Me.lanes|=me,Ar|=me;se=se.next}while(se!==null&&se!==n);if(V===null?w=y:V.next=q,!Ft(y,e.memoizedState)&&(pt=!0,fe&&(r=$a,r!==null)))throw r;e.memoizedState=y,e.baseState=w,e.baseQueue=V,l.lastRenderedState=y}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xc(e){var n=ct(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,d=r.pending,y=n.memoizedState;if(d!==null){r.pending=null;var w=d=d.next;do y=e(y,w.action),w=w.next;while(w!==d);Ft(y,n.memoizedState)||(pt=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),r.lastRenderedState=y}return[y,l]}function _y(e,n,r){var l=Me,d=ct(),y=Be;if(y){if(r===void 0)throw Error(s(407));r=r()}else r=n();var w=!Ft((Ke||d).memoizedState,r);if(w&&(d.memoizedState=r,pt=!0),d=d.queue,Sc(Ny.bind(null,l,d,e),[e]),d.getSnapshot!==n||w||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},wy.bind(null,l,d,r,n),null),Pe===null)throw Error(s(349));y||(Qn&127)!==0||Sy(l,n,r)}return r}function Sy(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Me.updateQueue,n===null?(n=Dl(),Me.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function wy(e,n,r,l){n.value=r,n.getSnapshot=l,Ey(n)&&Ty(e)}function Ny(e,n,r){return r(function(){Ey(n)&&Ty(e)})}function Ey(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Ft(e,r)}catch{return!0}}function Ty(e){var n=na(e,2);n!==null&&Gt(n,e,2)}function bc(e){var n=zt();if(typeof e=="function"){var r=e;if(e=r(),fa){Dt(!0);try{r()}finally{Dt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:e},n}function Cy(e,n,r,l){return e.baseState=r,yc(e,Ke,typeof l=="function"?l:Jn)}function xj(e,n,r,l,d){if(Ll(e))throw Error(s(485));if(e=n.action,e!==null){var y={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};z.T!==null?r(!0):y.isTransition=!1,l(y),r=n.pending,r===null?(y.next=n.pending=y,jy(n,y)):(y.next=r.next,n.pending=r.next=y)}}function jy(e,n){var r=n.action,l=n.payload,d=e.state;if(n.isTransition){var y=z.T,w={};z.T=w;try{var q=r(d,l),V=z.S;V!==null&&V(w,q),Ay(e,n,q)}catch(se){_c(e,n,se)}finally{y!==null&&w.types!==null&&(y.types=w.types),z.T=y}}else try{y=r(d,l),Ay(e,n,y)}catch(se){_c(e,n,se)}}function Ay(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){My(e,n,l)},function(l){return _c(e,n,l)}):My(e,n,r)}function My(e,n,r){n.status="fulfilled",n.value=r,Ry(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,jy(e,r)))}function _c(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Ry(n),n=n.next;while(n!==l)}e.action=null}function Ry(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function qy(e,n){return n}function Dy(e,n){if(Be){var r=Pe.formState;if(r!==null){e:{var l=Me;if(Be){if(We){t:{for(var d=We,y=un;d.nodeType!==8;){if(!y){d=null;break t}if(d=fn(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){We=fn(d.nextSibling),l=d.data==="F!";break e}}br(l)}l=!1}l&&(n=r[0])}}return r=zt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:n},r.queue=l,r=Py.bind(null,Me,l),l.dispatch=r,l=bc(!1),y=Cc.bind(null,Me,!1,l.queue),l=zt(),d={state:n,dispatch:null,action:e,pending:null},l.queue=d,r=xj.bind(null,Me,d,y,r),d.dispatch=r,l.memoizedState=e,[n,r,!1]}function Oy(e){var n=ct();return zy(n,Ke,e)}function zy(e,n,r){if(n=yc(e,n,qy)[0],e=zl(Jn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ji(n)}catch(w){throw w===Ga?El:w}else l=n;n=ct();var d=n.queue,y=d.dispatch;return r!==n.memoizedState&&(Me.flags|=2048,Xa(9,{destroy:void 0},bj.bind(null,d,r),null)),[l,y,e]}function bj(e,n){e.action=n}function ky(e){var n=ct(),r=Ke;if(r!==null)return zy(n,r,e);ct(),n=n.memoizedState,r=ct();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Xa(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Dl(),Me.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Hy(){return ct().memoizedState}function kl(e,n,r,l){var d=zt();Me.flags|=e,d.memoizedState=Xa(1|n,{destroy:void 0},r,l===void 0?null:l)}function Hl(e,n,r,l){var d=ct();l=l===void 0?null:l;var y=d.memoizedState.inst;Ke!==null&&l!==null&&dc(l,Ke.memoizedState.deps)?d.memoizedState=Xa(n,y,r,l):(Me.flags|=e,d.memoizedState=Xa(1|n,y,r,l))}function Ly(e,n){kl(8390656,8,e,n)}function Sc(e,n){Hl(2048,8,e,n)}function _j(e){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Dl(),Me.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function By(e){var n=ct().memoizedState;return _j({ref:n,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Uy(e,n){return Hl(4,2,e,n)}function $y(e,n){return Hl(4,4,e,n)}function Gy(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Iy(e,n,r){r=r!=null?r.concat([e]):null,Hl(4,4,Gy.bind(null,n,e),r)}function wc(){}function Vy(e,n){var r=ct();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&dc(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Yy(e,n){var r=ct();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&dc(n,l[1]))return l[0];if(l=e(),fa){Dt(!0);try{e()}finally{Dt(!1)}}return r.memoizedState=[l,n],l}function Nc(e,n,r){return r===void 0||(Qn&1073741824)!==0&&(He&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Fx(),Me.lanes|=e,Ar|=e,r)}function Fy(e,n,r,l){return Ft(r,n)?r:Va.current!==null?(e=Nc(e,r,l),Ft(e,n)||(pt=!0),e):(Qn&42)===0||(Qn&1073741824)!==0&&(He&261930)===0?(pt=!0,e.memoizedState=r):(e=Fx(),Me.lanes|=e,Ar|=e,n)}function Xy(e,n,r,l,d){var y=P.p;P.p=y!==0&&8>y?y:8;var w=z.T,q={};z.T=q,Cc(e,!1,n,r);try{var V=d(),se=z.S;if(se!==null&&se(q,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var fe=pj(V,l);Pi(e,n,fe,Pt(e))}else Pi(e,n,l,Pt(e))}catch(me){Pi(e,n,{then:function(){},status:"rejected",reason:me},Pt())}finally{P.p=y,w!==null&&q.types!==null&&(w.types=q.types),z.T=w}}function Sj(){}function Ec(e,n,r,l){if(e.tag!==5)throw Error(s(476));var d=Ky(e).queue;Xy(e,d,n,le,r===null?Sj:function(){return Zy(e),r(l)})}function Ky(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:le},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Zy(e){var n=Ky(e);n.next===null&&(n=e.alternate.memoizedState),Pi(e,n.next.queue,{},Pt())}function Tc(){return Tt(gs)}function Qy(){return ct().memoizedState}function Jy(){return ct().memoizedState}function wj(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Pt();e=wr(r);var l=Nr(n,e,r);l!==null&&(Gt(l,n,r),Xi(l,n,r)),n={cache:tc()},e.payload=n;return}n=n.return}}function Nj(e,n,r){var l=Pt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ll(e)?Wy(n,r):(r=Vu(e,n,r,l),r!==null&&(Gt(r,e,l),ex(r,n,l)))}function Py(e,n,r){var l=Pt();Pi(e,n,r,l)}function Pi(e,n,r,l){var d={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ll(e))Wy(n,d);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var w=n.lastRenderedState,q=y(w,r);if(d.hasEagerState=!0,d.eagerState=q,Ft(q,w))return yl(e,n,d,0),Pe===null&&vl(),!1}catch{}if(r=Vu(e,n,d,l),r!==null)return Gt(r,e,l),ex(r,n,l),!0}return!1}function Cc(e,n,r,l){if(l={lane:2,revertLane:sf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ll(e)){if(n)throw Error(s(479))}else n=Vu(e,r,l,2),n!==null&&Gt(n,e,2)}function Ll(e){var n=e.alternate;return e===Me||n!==null&&n===Me}function Wy(e,n){Ya=Rl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function ex(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Js(e,r)}}var Wi={readContext:Tt,use:Ol,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Wi.useEffectEvent=st;var tx={readContext:Tt,use:Ol,useCallback:function(e,n){return zt().memoizedState=[e,n===void 0?null:n],e},useContext:Tt,useEffect:Ly,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,kl(4194308,4,Gy.bind(null,n,e),r)},useLayoutEffect:function(e,n){return kl(4194308,4,e,n)},useInsertionEffect:function(e,n){kl(4,2,e,n)},useMemo:function(e,n){var r=zt();n=n===void 0?null:n;var l=e();if(fa){Dt(!0);try{e()}finally{Dt(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=zt();if(r!==void 0){var d=r(n);if(fa){Dt(!0);try{r(n)}finally{Dt(!1)}}}else d=n;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=Nj.bind(null,Me,e),[l.memoizedState,e]},useRef:function(e){var n=zt();return e={current:e},n.memoizedState=e},useState:function(e){e=bc(e);var n=e.queue,r=Py.bind(null,Me,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:wc,useDeferredValue:function(e,n){var r=zt();return Nc(r,e,n)},useTransition:function(){var e=bc(!1);return e=Xy.bind(null,Me,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=Me,d=zt();if(Be){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Pe===null)throw Error(s(349));(He&127)!==0||Sy(l,n,r)}d.memoizedState=r;var y={value:r,getSnapshot:n};return d.queue=y,Ly(Ny.bind(null,l,y,e),[e]),l.flags|=2048,Xa(9,{destroy:void 0},wy.bind(null,l,y,r,n),null),r},useId:function(){var e=zt(),n=Pe.identifierPrefix;if(Be){var r=Rn,l=Mn;r=(l&~(1<<32-tt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ql++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=vj++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tc,useFormState:Dy,useActionState:Dy,useOptimistic:function(e){var n=zt();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Cc.bind(null,Me,!0,r),r.dispatch=n,[e,n]},useMemoCache:vc,useCacheRefresh:function(){return zt().memoizedState=wj.bind(null,Me)},useEffectEvent:function(e){var n=zt(),r={impl:e};return n.memoizedState=r,function(){if((Ie&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},jc={readContext:Tt,use:Ol,useCallback:Vy,useContext:Tt,useEffect:Sc,useImperativeHandle:Iy,useInsertionEffect:Uy,useLayoutEffect:$y,useMemo:Yy,useReducer:zl,useRef:Hy,useState:function(){return zl(Jn)},useDebugValue:wc,useDeferredValue:function(e,n){var r=ct();return Fy(r,Ke.memoizedState,e,n)},useTransition:function(){var e=zl(Jn)[0],n=ct().memoizedState;return[typeof e=="boolean"?e:Ji(e),n]},useSyncExternalStore:_y,useId:Qy,useHostTransitionStatus:Tc,useFormState:Oy,useActionState:Oy,useOptimistic:function(e,n){var r=ct();return Cy(r,Ke,e,n)},useMemoCache:vc,useCacheRefresh:Jy};jc.useEffectEvent=By;var nx={readContext:Tt,use:Ol,useCallback:Vy,useContext:Tt,useEffect:Sc,useImperativeHandle:Iy,useInsertionEffect:Uy,useLayoutEffect:$y,useMemo:Yy,useReducer:xc,useRef:Hy,useState:function(){return xc(Jn)},useDebugValue:wc,useDeferredValue:function(e,n){var r=ct();return Ke===null?Nc(r,e,n):Fy(r,Ke.memoizedState,e,n)},useTransition:function(){var e=xc(Jn)[0],n=ct().memoizedState;return[typeof e=="boolean"?e:Ji(e),n]},useSyncExternalStore:_y,useId:Qy,useHostTransitionStatus:Tc,useFormState:ky,useActionState:ky,useOptimistic:function(e,n){var r=ct();return Ke!==null?Cy(r,Ke,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:vc,useCacheRefresh:Jy};nx.useEffectEvent=By;function Ac(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:v({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mc={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Pt(),d=wr(l);d.payload=n,r!=null&&(d.callback=r),n=Nr(e,d,l),n!==null&&(Gt(n,e,l),Xi(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Pt(),d=wr(l);d.tag=1,d.payload=n,r!=null&&(d.callback=r),n=Nr(e,d,l),n!==null&&(Gt(n,e,l),Xi(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Pt(),l=wr(r);l.tag=2,n!=null&&(l.callback=n),n=Nr(e,l,r),n!==null&&(Gt(n,e,r),Xi(n,e,r))}};function rx(e,n,r,l,d,y,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,y,w):n.prototype&&n.prototype.isPureReactComponent?!Bi(r,l)||!Bi(d,y):!0}function ax(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Mc.enqueueReplaceState(n,n.state,null)}function da(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=v({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function ix(e){pl(e)}function sx(e){console.error(e)}function lx(e){pl(e)}function Bl(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ox(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Rc(e,n,r){return r=wr(r),r.tag=3,r.payload={element:null},r.callback=function(){Bl(e,n)},r}function ux(e){return e=wr(e),e.tag=3,e}function cx(e,n,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var y=l.value;e.payload=function(){return d(y)},e.callback=function(){ox(n,r,l)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){ox(n,r,l),typeof d!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var q=l.stack;this.componentDidCatch(l.value,{componentStack:q!==null?q:""})})}function Ej(e,n,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ba(n,r,d,!0),r=Kt.current,r!==null){switch(r.tag){case 31:case 13:return cn===null?Jl():r.alternate===null&&lt===0&&(lt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===Tl?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),nf(e,l,d)),!1;case 22:return r.flags|=65536,l===Tl?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),nf(e,l,d)),!1}throw Error(s(435,r.tag))}return nf(e,l,d),Jl(),!1}if(Be)return n=Kt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==Qu&&(e=Error(s(422),{cause:l}),Gi(sn(e,r)))):(l!==Qu&&(n=Error(s(423),{cause:l}),Gi(sn(n,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=sn(l,r),d=Rc(e.stateNode,l,d),lc(e,d),lt!==4&&(lt=2)),!1;var y=Error(s(520),{cause:l});if(y=sn(y,r),ls===null?ls=[y]:ls.push(y),lt!==4&&(lt=2),n===null)return!0;l=sn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=Rc(r.stateNode,l,e),lc(r,e),!1;case 1:if(n=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Mr===null||!Mr.has(y))))return r.flags|=65536,d&=-d,r.lanes|=d,d=ux(d),cx(d,e,r,l),lc(r,d),!1}r=r.return}while(r!==null);return!1}var qc=Error(s(461)),pt=!1;function Ct(e,n,r,l){n.child=e===null?my(n,null,r,l):ca(n,e.child,r,l)}function fx(e,n,r,l,d){r=r.render;var y=n.ref;if("ref"in l){var w={};for(var q in l)q!=="ref"&&(w[q]=l[q])}else w=l;return sa(n),l=hc(e,n,r,w,y,d),q=mc(),e!==null&&!pt?(gc(e,n,d),Pn(e,n,d)):(Be&&q&&Ku(n),n.flags|=1,Ct(e,n,l,d),n.child)}function dx(e,n,r,l,d){if(e===null){var y=r.type;return typeof y=="function"&&!Yu(y)&&y.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=y,hx(e,n,y,l,d)):(e=bl(r.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!Uc(e,d)){var w=y.memoizedProps;if(r=r.compare,r=r!==null?r:Bi,r(w,l)&&e.ref===n.ref)return Pn(e,n,d)}return n.flags|=1,e=Fn(y,l),e.ref=n.ref,e.return=n,n.child=e}function hx(e,n,r,l,d){if(e!==null){var y=e.memoizedProps;if(Bi(y,l)&&e.ref===n.ref)if(pt=!1,n.pendingProps=l=y,Uc(e,d))(e.flags&131072)!==0&&(pt=!0);else return n.lanes=e.lanes,Pn(e,n,d)}return Dc(e,n,r,l,d)}function mx(e,n,r,l){var d=l.children,y=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(y=y!==null?y.baseLanes|r:r,e!==null){for(l=n.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~y}else l=0,n.child=null;return gx(e,n,y,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nl(n,y!==null?y.cachePool:null),y!==null?vy(n,y):uc(),yy(n);else return l=n.lanes=536870912,gx(e,n,y!==null?y.baseLanes|r:r,r,l)}else y!==null?(Nl(n,y.cachePool),vy(n,y),Tr(),n.memoizedState=null):(e!==null&&Nl(n,null),uc(),Tr());return Ct(e,n,d,r),n.child}function es(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gx(e,n,r,l,d){var y=rc();return y=y===null?null:{parent:mt._currentValue,pool:y},n.memoizedState={baseLanes:r,cachePool:y},e!==null&&Nl(n,null),uc(),yy(n),e!==null&&Ba(e,n,l,!0),n.childLanes=d,null}function Ul(e,n){return n=Gl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function px(e,n,r){return ca(n,e.child,null,r),e=Ul(n,n.pendingProps),e.flags|=2,Zt(n),n.memoizedState=null,e}function Tj(e,n,r){var l=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Be){if(l.mode==="hidden")return e=Ul(n,l),n.lanes=536870912,es(null,e);if(fc(n),(e=We)?(e=jb(e,un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:yr!==null?{id:Mn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},r=Wv(e),r.return=n,n.child=r,Et=n,We=null)):e=null,e===null)throw br(n);return n.lanes=536870912,null}return Ul(n,l)}var y=e.memoizedState;if(y!==null){var w=y.dehydrated;if(fc(n),d)if(n.flags&256)n.flags&=-257,n=px(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(pt||Ba(e,n,r,!1),d=(r&e.childLanes)!==0,pt||d){if(l=Pe,l!==null&&(w=Ps(l,r),w!==0&&w!==y.retryLane))throw y.retryLane=w,na(e,w),Gt(l,e,w),qc;Jl(),n=px(e,n,r)}else e=y.treeContext,We=fn(w.nextSibling),Et=n,Be=!0,xr=null,un=!1,e!==null&&ny(n,e),n=Ul(n,l),n.flags|=4096;return n}return e=Fn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $l(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Dc(e,n,r,l,d){return sa(n),r=hc(e,n,r,l,void 0,d),l=mc(),e!==null&&!pt?(gc(e,n,d),Pn(e,n,d)):(Be&&l&&Ku(n),n.flags|=1,Ct(e,n,r,d),n.child)}function vx(e,n,r,l,d,y){return sa(n),n.updateQueue=null,r=by(n,l,r,d),xy(e),l=mc(),e!==null&&!pt?(gc(e,n,y),Pn(e,n,y)):(Be&&l&&Ku(n),n.flags|=1,Ct(e,n,r,y),n.child)}function yx(e,n,r,l,d){if(sa(n),n.stateNode===null){var y=za,w=r.contextType;typeof w=="object"&&w!==null&&(y=Tt(w)),y=new r(l,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Mc,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=l,y.state=n.memoizedState,y.refs={},ic(n),w=r.contextType,y.context=typeof w=="object"&&w!==null?Tt(w):za,y.state=n.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(Ac(n,r,w,l),y.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Mc.enqueueReplaceState(y,y.state,null),Zi(n,l,y,d),Ki(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){y=n.stateNode;var q=n.memoizedProps,V=da(r,q);y.props=V;var se=y.context,fe=r.contextType;w=za,typeof fe=="object"&&fe!==null&&(w=Tt(fe));var me=r.getDerivedStateFromProps;fe=typeof me=="function"||typeof y.getSnapshotBeforeUpdate=="function",q=n.pendingProps!==q,fe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(q||se!==w)&&ax(n,y,l,w),Sr=!1;var oe=n.memoizedState;y.state=oe,Zi(n,l,y,d),Ki(),se=n.memoizedState,q||oe!==se||Sr?(typeof me=="function"&&(Ac(n,r,me,l),se=n.memoizedState),(V=Sr||rx(n,r,V,l,oe,se,w))?(fe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=se),y.props=l,y.state=se,y.context=w,l=V):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,sc(e,n),w=n.memoizedProps,fe=da(r,w),y.props=fe,me=n.pendingProps,oe=y.context,se=r.contextType,V=za,typeof se=="object"&&se!==null&&(V=Tt(se)),q=r.getDerivedStateFromProps,(se=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==me||oe!==V)&&ax(n,y,l,V),Sr=!1,oe=n.memoizedState,y.state=oe,Zi(n,l,y,d),Ki();var ue=n.memoizedState;w!==me||oe!==ue||Sr||e!==null&&e.dependencies!==null&&Sl(e.dependencies)?(typeof q=="function"&&(Ac(n,r,q,l),ue=n.memoizedState),(fe=Sr||rx(n,r,fe,l,oe,ue,V)||e!==null&&e.dependencies!==null&&Sl(e.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,ue,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,ue,V)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&oe===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&oe===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ue),y.props=l,y.state=ue,y.context=V,l=fe):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&oe===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&oe===e.memoizedState||(n.flags|=1024),l=!1)}return y=l,$l(e,n),l=(n.flags&128)!==0,y||l?(y=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&l?(n.child=ca(n,e.child,null,d),n.child=ca(n,null,r,d)):Ct(e,n,r,d),n.memoizedState=y.state,e=n.child):e=Pn(e,n,d),e}function xx(e,n,r,l){return aa(),n.flags|=256,Ct(e,n,r,l),n.child}var Oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zc(e){return{baseLanes:e,cachePool:oy()}}function kc(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Jt),e}function bx(e,n,r){var l=n.pendingProps,d=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),w&&(d=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,e===null){if(Be){if(d?Er(n):Tr(),(e=We)?(e=jb(e,un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:yr!==null?{id:Mn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},r=Wv(e),r.return=n,n.child=r,Et=n,We=null)):e=null,e===null)throw br(n);return xf(e)?n.lanes=32:n.lanes=536870912,null}var q=l.children;return l=l.fallback,d?(Tr(),d=n.mode,q=Gl({mode:"hidden",children:q},d),l=ra(l,d,r,null),q.return=n,l.return=n,q.sibling=l,n.child=q,l=n.child,l.memoizedState=zc(r),l.childLanes=kc(e,w,r),n.memoizedState=Oc,es(null,l)):(Er(n),Hc(n,q))}var V=e.memoizedState;if(V!==null&&(q=V.dehydrated,q!==null)){if(y)n.flags&256?(Er(n),n.flags&=-257,n=Lc(e,n,r)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),q=l.fallback,d=n.mode,l=Gl({mode:"visible",children:l.children},d),q=ra(q,d,r,null),q.flags|=2,l.return=n,q.return=n,l.sibling=q,n.child=l,ca(n,e.child,null,r),l=n.child,l.memoizedState=zc(r),l.childLanes=kc(e,w,r),n.memoizedState=Oc,n=es(null,l));else if(Er(n),xf(q)){if(w=q.nextSibling&&q.nextSibling.dataset,w)var se=w.dgst;w=se,l=Error(s(419)),l.stack="",l.digest=w,Gi({value:l,source:null,stack:null}),n=Lc(e,n,r)}else if(pt||Ba(e,n,r,!1),w=(r&e.childLanes)!==0,pt||w){if(w=Pe,w!==null&&(l=Ps(w,r),l!==0&&l!==V.retryLane))throw V.retryLane=l,na(e,l),Gt(w,e,l),qc;yf(q)||Jl(),n=Lc(e,n,r)}else yf(q)?(n.flags|=192,n.child=e.child,n=null):(e=V.treeContext,We=fn(q.nextSibling),Et=n,Be=!0,xr=null,un=!1,e!==null&&ny(n,e),n=Hc(n,l.children),n.flags|=4096);return n}return d?(Tr(),q=l.fallback,d=n.mode,V=e.child,se=V.sibling,l=Fn(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,se!==null?q=Fn(se,q):(q=ra(q,d,r,null),q.flags|=2),q.return=n,l.return=n,l.sibling=q,n.child=l,es(null,l),l=n.child,q=e.child.memoizedState,q===null?q=zc(r):(d=q.cachePool,d!==null?(V=mt._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=oy(),q={baseLanes:q.baseLanes|r,cachePool:d}),l.memoizedState=q,l.childLanes=kc(e,w,r),n.memoizedState=Oc,es(e.child,l)):(Er(n),r=e.child,e=r.sibling,r=Fn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(w=n.deletions,w===null?(n.deletions=[e],n.flags|=16):w.push(e)),n.child=r,n.memoizedState=null,r)}function Hc(e,n){return n=Gl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gl(e,n){return e=Xt(22,e,null,n),e.lanes=0,e}function Lc(e,n,r){return ca(n,e.child,null,r),e=Hc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _x(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Wu(e.return,n,r)}function Bc(e,n,r,l,d,y){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d,treeForkCount:y}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=r,w.tailMode=d,w.treeForkCount=y)}function Sx(e,n,r){var l=n.pendingProps,d=l.revealOrder,y=l.tail;l=l.children;var w=ut.current,q=(w&2)!==0;if(q?(w=w&1|2,n.flags|=128):w&=1,A(ut,w),Ct(e,n,l,r),l=Be?$i:0,!q&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_x(e,r,n);else if(e.tag===19)_x(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=n.child,d=null;r!==null;)e=r.alternate,e!==null&&Ml(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=n.child,n.child=null):(d=r.sibling,r.sibling=null),Bc(n,!1,d,r,y,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Ml(e)===null){n.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Bc(n,!0,r,null,y,l);break;case"together":Bc(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Pn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ar|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ba(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Fn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Fn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Uc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Sl(e)))}function Cj(e,n,r){switch(n.tag){case 3:re(n,n.stateNode.containerInfo),_r(n,mt,e.memoizedState.cache),aa();break;case 27:case 5:ge(n);break;case 4:re(n,n.stateNode.containerInfo);break;case 10:_r(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fc(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?bx(e,n,r):(Er(n),e=Pn(e,n,r),e!==null?e.sibling:null);Er(n);break;case 19:var d=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ba(e,n,r,!1),l=(r&n.childLanes)!==0),d){if(l)return Sx(e,n,r);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),A(ut,ut.current),l)break;return null;case 22:return n.lanes=0,mx(e,n,r,n.pendingProps);case 24:_r(n,mt,e.memoizedState.cache)}return Pn(e,n,r)}function wx(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)pt=!0;else{if(!Uc(e,r)&&(n.flags&128)===0)return pt=!1,Cj(e,n,r);pt=(e.flags&131072)!==0}else pt=!1,Be&&(n.flags&1048576)!==0&&ty(n,$i,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=oa(n.elementType),n.type=e,typeof e=="function")Yu(e)?(l=da(e,l),n.tag=1,n=yx(null,n,e,l,r)):(n.tag=0,n=Dc(null,n,e,l,r));else{if(e!=null){var d=e.$$typeof;if(d===M){n.tag=11,n=fx(null,n,e,l,r);break e}else if(d===H){n.tag=14,n=dx(null,n,e,l,r);break e}}throw n=L(e)||e,Error(s(306,n,""))}}return n;case 0:return Dc(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,d=da(l,n.pendingProps),yx(e,n,l,d,r);case 3:e:{if(re(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var y=n.memoizedState;d=y.element,sc(e,n),Zi(n,l,null,r);var w=n.memoizedState;if(l=w.cache,_r(n,mt,l),l!==y.cache&&ec(n,[mt],r,!0),Ki(),l=w.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=xx(e,n,l,r);break e}else if(l!==d){d=sn(Error(s(424)),n),Gi(d),n=xx(e,n,l,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,We=fn(e.firstChild),Et=n,Be=!0,xr=null,un=!0,r=my(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(aa(),l===d){n=Pn(e,n,r);break e}Ct(e,n,l,r)}n=n.child}return n;case 26:return $l(e,n),e===null?(r=Ob(n.type,null,n.pendingProps,null))?n.memoizedState=r:Be||(r=n.type,e=n.pendingProps,l=ao(G.current).createElement(r),l[xt]=n,l[Nt]=e,jt(l,r,e),ht(l),n.stateNode=l):n.memoizedState=Ob(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ge(n),e===null&&Be&&(l=n.stateNode=Rb(n.type,n.pendingProps,G.current),Et=n,un=!0,d=We,Or(n.type)?(bf=d,We=fn(l.firstChild)):We=d),Ct(e,n,n.pendingProps.children,r),$l(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Be&&((d=l=We)&&(l=rA(l,n.type,n.pendingProps,un),l!==null?(n.stateNode=l,Et=n,We=fn(l.firstChild),un=!1,d=!0):d=!1),d||br(n)),ge(n),d=n.type,y=n.pendingProps,w=e!==null?e.memoizedProps:null,l=y.children,gf(d,y)?l=null:w!==null&&gf(d,w)&&(n.flags|=32),n.memoizedState!==null&&(d=hc(e,n,yj,null,null,r),gs._currentValue=d),$l(e,n),Ct(e,n,l,r),n.child;case 6:return e===null&&Be&&((e=r=We)&&(r=aA(r,n.pendingProps,un),r!==null?(n.stateNode=r,Et=n,We=null,e=!0):e=!1),e||br(n)),null;case 13:return bx(e,n,r);case 4:return re(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ca(n,null,l,r):Ct(e,n,l,r),n.child;case 11:return fx(e,n,n.type,n.pendingProps,r);case 7:return Ct(e,n,n.pendingProps,r),n.child;case 8:return Ct(e,n,n.pendingProps.children,r),n.child;case 12:return Ct(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,_r(n,n.type,l.value),Ct(e,n,l.children,r),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,sa(n),d=Tt(d),l=l(d),n.flags|=1,Ct(e,n,l,r),n.child;case 14:return dx(e,n,n.type,n.pendingProps,r);case 15:return hx(e,n,n.type,n.pendingProps,r);case 19:return Sx(e,n,r);case 31:return Tj(e,n,r);case 22:return mx(e,n,r,n.pendingProps);case 24:return sa(n),l=Tt(mt),e===null?(d=rc(),d===null&&(d=Pe,y=tc(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=r),d=y),n.memoizedState={parent:l,cache:d},ic(n),_r(n,mt,d)):((e.lanes&r)!==0&&(sc(e,n),Zi(n,null,null,r),Ki()),d=e.memoizedState,y=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),_r(n,mt,l)):(l=y.cache,_r(n,mt,l),l!==d.cache&&ec(n,[mt],r,!0))),Ct(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Wn(e){e.flags|=4}function $c(e,n,r,l,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Qx())e.flags|=8192;else throw ua=Tl,ac}else e.flags&=-16777217}function Nx(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bb(n))if(Qx())e.flags|=8192;else throw ua=Tl,ac}function Il(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zs():536870912,e.lanes|=n,Ja|=n)}function ts(e,n){if(!Be)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function et(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function jj(e,n,r){var l=n.pendingProps;switch(Zu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(n),null;case 1:return et(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Zn(mt),te(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(La(n)?Wn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ju())),et(n),null;case 26:var d=n.type,y=n.memoizedState;return e===null?(Wn(n),y!==null?(et(n),Nx(n,y)):(et(n),$c(n,d,null,l,r))):y?y!==e.memoizedState?(Wn(n),et(n),Nx(n,y)):(et(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Wn(n),et(n),$c(n,d,e,l,r)),null;case 27:if(ce(n),r=G.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Wn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return et(n),null}e=j.current,La(n)?ry(n):(e=Rb(d,l,r),n.stateNode=e,Wn(n))}return et(n),null;case 5:if(ce(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Wn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return et(n),null}if(y=j.current,La(n))ry(n);else{var w=ao(G.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?y.multiple=!0:l.size&&(y.size=l.size);break;default:y=typeof l.is=="string"?w.createElement(d,{is:l.is}):w.createElement(d)}}y[xt]=n,y[Nt]=l;e:for(w=n.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===n)break e;for(;w.sibling===null;){if(w.return===null||w.return===n)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}n.stateNode=y;e:switch(jt(y,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Wn(n)}}return et(n),$c(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Wn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=G.current,La(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,d=Et,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[xt]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||bb(e.nodeValue,r)),e||br(n,!0)}else e=ao(e).createTextNode(l),e[xt]=n,n.stateNode=e}return et(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=La(n),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[xt]=n}else aa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;et(n),e=!1}else r=Ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Zt(n),n):(Zt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return et(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=La(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[xt]=n}else aa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;et(n),d=!1}else d=Ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Zt(n),n):(Zt(n),null)}return Zt(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==d&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Il(n,n.updateQueue),et(n),null);case 4:return te(),e===null&&cf(n.stateNode.containerInfo),et(n),null;case 10:return Zn(n.type),et(n),null;case 19:if(I(ut),l=n.memoizedState,l===null)return et(n),null;if(d=(n.flags&128)!==0,y=l.rendering,y===null)if(d)ts(l,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=Ml(e),y!==null){for(n.flags|=128,ts(l,!1),e=y.updateQueue,n.updateQueue=e,Il(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Pv(r,e),r=r.sibling;return A(ut,ut.current&1|2),Be&&Xn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ge()>Kl&&(n.flags|=128,d=!0,ts(l,!1),n.lanes=4194304)}else{if(!d)if(e=Ml(y),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Il(n,e),ts(l,!0),l.tail===null&&l.tailMode==="hidden"&&!y.alternate&&!Be)return et(n),null}else 2*Ge()-l.renderingStartTime>Kl&&r!==536870912&&(n.flags|=128,d=!0,ts(l,!1),n.lanes=4194304);l.isBackwards?(y.sibling=n.child,n.child=y):(e=l.last,e!==null?e.sibling=y:n.child=y,l.last=y)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ge(),e.sibling=null,r=ut.current,A(ut,d?r&1|2:r&1),Be&&Xn(n,l.treeForkCount),e):(et(n),null);case 22:case 23:return Zt(n),cc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(et(n),n.subtreeFlags&6&&(n.flags|=8192)):et(n),r=n.updateQueue,r!==null&&Il(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&I(la),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Zn(mt),et(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Aj(e,n){switch(Zu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zn(mt),te(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ce(n),null;case 31:if(n.memoizedState!==null){if(Zt(n),n.alternate===null)throw Error(s(340));aa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Zt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));aa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return I(ut),null;case 4:return te(),null;case 10:return Zn(n.type),null;case 22:case 23:return Zt(n),cc(),e!==null&&I(la),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Zn(mt),null;case 25:return null;default:return null}}function Ex(e,n){switch(Zu(n),n.tag){case 3:Zn(mt),te();break;case 26:case 27:case 5:ce(n);break;case 4:te();break;case 31:n.memoizedState!==null&&Zt(n);break;case 13:Zt(n);break;case 19:I(ut);break;case 10:Zn(n.type);break;case 22:case 23:Zt(n),cc(),e!==null&&I(la);break;case 24:Zn(mt)}}function ns(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&e)===e){l=void 0;var y=r.create,w=r.inst;l=y(),w.destroy=l}r=r.next}while(r!==d)}}catch(q){Xe(n,n.return,q)}}function Cr(e,n,r){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var y=d.next;l=y;do{if((l.tag&e)===e){var w=l.inst,q=w.destroy;if(q!==void 0){w.destroy=void 0,d=n;var V=r,se=q;try{se()}catch(fe){Xe(d,V,fe)}}}l=l.next}while(l!==y)}}catch(fe){Xe(n,n.return,fe)}}function Tx(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{py(n,r)}catch(l){Xe(e,e.return,l)}}}function Cx(e,n,r){r.props=da(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Xe(e,n,l)}}function rs(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(d){Xe(e,n,d)}}function qn(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){Xe(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Xe(e,n,d)}else r.current=null}function jx(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){Xe(e,e.return,d)}}function Gc(e,n,r){try{var l=e.stateNode;Jj(l,e.type,r,n),l[Nt]=n}catch(d){Xe(e,e.return,d)}}function Ax(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function Ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ax(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vc(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Vn));else if(l!==4&&(l===27&&Or(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Vc(e,n,r),e=e.sibling;e!==null;)Vc(e,n,r),e=e.sibling}function Vl(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Or(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Vl(e,n,r),e=e.sibling;e!==null;)Vl(e,n,r),e=e.sibling}function Mx(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);jt(n,l,r),n[xt]=e,n[Nt]=r}catch(y){Xe(e,e.return,y)}}var er=!1,vt=!1,Yc=!1,Rx=typeof WeakSet=="function"?WeakSet:Set,St=null;function Mj(e,n){if(e=e.containerInfo,hf=fo,e=Iv(e),Lu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break e}var w=0,q=-1,V=-1,se=0,fe=0,me=e,oe=null;t:for(;;){for(var ue;me!==r||d!==0&&me.nodeType!==3||(q=w+d),me!==y||l!==0&&me.nodeType!==3||(V=w+l),me.nodeType===3&&(w+=me.nodeValue.length),(ue=me.firstChild)!==null;)oe=me,me=ue;for(;;){if(me===e)break t;if(oe===r&&++se===d&&(q=w),oe===y&&++fe===l&&(V=w),(ue=me.nextSibling)!==null)break;me=oe,oe=me.parentNode}me=ue}r=q===-1||V===-1?null:{start:q,end:V}}else r=null}r=r||{start:0,end:0}}else r=null;for(mf={focusedElem:e,selectionRange:r},fo=!1,St=n;St!==null;)if(n=St,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,St=e;else for(;St!==null;){switch(n=St,y=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,r=n,d=y.memoizedProps,y=y.memoizedState,l=r.stateNode;try{var Se=da(r.type,d);e=l.getSnapshotBeforeUpdate(Se,y),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){Xe(r,r.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)vf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,St=e;break}St=n.return}}function qx(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:nr(e,r),l&4&&ns(5,r);break;case 1:if(nr(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(w){Xe(r,r.return,w)}else{var d=da(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Xe(r,r.return,w)}}l&64&&Tx(r),l&512&&rs(r,r.return);break;case 3:if(nr(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{py(e,n)}catch(w){Xe(r,r.return,w)}}break;case 27:n===null&&l&4&&Mx(r);case 26:case 5:nr(e,r),n===null&&l&4&&jx(r),l&512&&rs(r,r.return);break;case 12:nr(e,r);break;case 31:nr(e,r),l&4&&zx(e,r);break;case 13:nr(e,r),l&4&&kx(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Bj.bind(null,r),iA(e,r))));break;case 22:if(l=r.memoizedState!==null||er,!l){n=n!==null&&n.memoizedState!==null||vt,d=er;var y=vt;er=l,(vt=n)&&!y?rr(e,r,(r.subtreeFlags&8772)!==0):nr(e,r),er=d,vt=y}break;case 30:break;default:nr(e,r)}}function Dx(e){var n=e.alternate;n!==null&&(e.alternate=null,Dx(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Mi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,Lt=!1;function tr(e,n,r){for(r=r.child;r!==null;)Ox(e,n,r),r=r.sibling}function Ox(e,n,r){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(it,r)}catch{}switch(r.tag){case 26:vt||qn(r,n),tr(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:vt||qn(r,n);var l=nt,d=Lt;Or(r.type)&&(nt=r.stateNode,Lt=!1),tr(e,n,r),ds(r.stateNode),nt=l,Lt=d;break;case 5:vt||qn(r,n);case 6:if(l=nt,d=Lt,nt=null,tr(e,n,r),nt=l,Lt=d,nt!==null)if(Lt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(r.stateNode)}catch(y){Xe(r,n,y)}else try{nt.removeChild(r.stateNode)}catch(y){Xe(r,n,y)}break;case 18:nt!==null&&(Lt?(e=nt,Tb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ii(e)):Tb(nt,r.stateNode));break;case 4:l=nt,d=Lt,nt=r.stateNode.containerInfo,Lt=!0,tr(e,n,r),nt=l,Lt=d;break;case 0:case 11:case 14:case 15:Cr(2,r,n),vt||Cr(4,r,n),tr(e,n,r);break;case 1:vt||(qn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Cx(r,n,l)),tr(e,n,r);break;case 21:tr(e,n,r);break;case 22:vt=(l=vt)||r.memoizedState!==null,tr(e,n,r),vt=l;break;default:tr(e,n,r)}}function zx(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ii(e)}catch(r){Xe(n,n.return,r)}}}function kx(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ii(e)}catch(r){Xe(n,n.return,r)}}function Rj(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Rx),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Rx),n;default:throw Error(s(435,e.tag))}}function Yl(e,n){var r=Rj(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var d=Uj.bind(null,e,l);l.then(d,d)}})}function Bt(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],y=e,w=n,q=w;e:for(;q!==null;){switch(q.tag){case 27:if(Or(q.type)){nt=q.stateNode,Lt=!1;break e}break;case 5:nt=q.stateNode,Lt=!1;break e;case 3:case 4:nt=q.stateNode.containerInfo,Lt=!0;break e}q=q.return}if(nt===null)throw Error(s(160));Ox(y,w,d),nt=null,Lt=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hx(n,e),n=n.sibling}var bn=null;function Hx(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bt(n,e),Ut(e),l&4&&(Cr(3,e,e.return),ns(3,e),Cr(5,e,e.return));break;case 1:Bt(n,e),Ut(e),l&512&&(vt||r===null||qn(r,r.return)),l&64&&er&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=bn;if(Bt(n,e),Ut(e),l&512&&(vt||r===null||qn(r,r.return)),l&4){var y=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":y=d.getElementsByTagName("title")[0],(!y||y[Jr]||y[xt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(l),d.head.insertBefore(y,d.querySelector("head > title"))),jt(y,l,r),y[xt]=e,ht(y),l=y;break e;case"link":var w=Hb("link","href",d).get(l+(r.href||""));if(w){for(var q=0;q<w.length;q++)if(y=w[q],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(q,1);break t}}y=d.createElement(l),jt(y,l,r),d.head.appendChild(y);break;case"meta":if(w=Hb("meta","content",d).get(l+(r.content||""))){for(q=0;q<w.length;q++)if(y=w[q],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(q,1);break t}}y=d.createElement(l),jt(y,l,r),d.head.appendChild(y);break;default:throw Error(s(468,l))}y[xt]=e,ht(y),l=y}e.stateNode=l}else Lb(d,e.type,e.stateNode);else e.stateNode=kb(d,l,e.memoizedProps);else y!==l?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,l===null?Lb(d,e.type,e.stateNode):kb(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Gc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Bt(n,e),Ut(e),l&512&&(vt||r===null||qn(r,r.return)),r!==null&&l&4&&Gc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Bt(n,e),Ut(e),l&512&&(vt||r===null||qn(r,r.return)),e.flags&32){d=e.stateNode;try{ja(d,"")}catch(Se){Xe(e,e.return,Se)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,Gc(e,d,r!==null?r.memoizedProps:d)),l&1024&&(Yc=!0);break;case 6:if(Bt(n,e),Ut(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(Se){Xe(e,e.return,Se)}}break;case 3:if(lo=null,d=bn,bn=io(n.containerInfo),Bt(n,e),bn=d,Ut(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ii(n.containerInfo)}catch(Se){Xe(e,e.return,Se)}Yc&&(Yc=!1,Lx(e));break;case 4:l=bn,bn=io(e.stateNode.containerInfo),Bt(n,e),Ut(e),bn=l;break;case 12:Bt(n,e),Ut(e);break;case 31:Bt(n,e),Ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yl(e,l)));break;case 13:Bt(n,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xl=Ge()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yl(e,l)));break;case 22:d=e.memoizedState!==null;var V=r!==null&&r.memoizedState!==null,se=er,fe=vt;if(er=se||d,vt=fe||V,Bt(n,e),vt=fe,er=se,Ut(e),l&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(r===null||V||er||vt||ha(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){V=r=n;try{if(y=V.stateNode,d)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{q=V.stateNode;var me=V.memoizedProps.style,oe=me!=null&&me.hasOwnProperty("display")?me.display:null;q.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Se){Xe(V,V.return,Se)}}}else if(n.tag===6){if(r===null){V=n;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(Se){Xe(V,V.return,Se)}}}else if(n.tag===18){if(r===null){V=n;try{var ue=V.stateNode;d?Cb(ue,!0):Cb(V.stateNode,!1)}catch(Se){Xe(V,V.return,Se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Yl(e,r))));break;case 19:Bt(n,e),Ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yl(e,l)));break;case 30:break;case 21:break;default:Bt(n,e),Ut(e)}}function Ut(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(Ax(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var d=r.stateNode,y=Ic(e);Vl(e,y,d);break;case 5:var w=r.stateNode;r.flags&32&&(ja(w,""),r.flags&=-33);var q=Ic(e);Vl(e,q,w);break;case 3:case 4:var V=r.stateNode.containerInfo,se=Ic(e);Vc(e,se,V);break;default:throw Error(s(161))}}catch(fe){Xe(e,e.return,fe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Lx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Lx(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function nr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qx(e,n.alternate,n),n=n.sibling}function ha(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cr(4,n,n.return),ha(n);break;case 1:qn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Cx(n,n.return,r),ha(n);break;case 27:ds(n.stateNode);case 26:case 5:qn(n,n.return),ha(n);break;case 22:n.memoizedState===null&&ha(n);break;case 30:ha(n);break;default:ha(n)}e=e.sibling}}function rr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=e,y=n,w=y.flags;switch(y.tag){case 0:case 11:case 15:rr(d,y,r),ns(4,y);break;case 1:if(rr(d,y,r),l=y,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(se){Xe(l,l.return,se)}if(l=y,d=l.updateQueue,d!==null){var q=l.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)gy(V[d],q)}catch(se){Xe(l,l.return,se)}}r&&w&64&&Tx(y),rs(y,y.return);break;case 27:Mx(y);case 26:case 5:rr(d,y,r),r&&l===null&&w&4&&jx(y),rs(y,y.return);break;case 12:rr(d,y,r);break;case 31:rr(d,y,r),r&&w&4&&zx(d,y);break;case 13:rr(d,y,r),r&&w&4&&kx(d,y);break;case 22:y.memoizedState===null&&rr(d,y,r),rs(y,y.return);break;case 30:break;default:rr(d,y,r)}n=n.sibling}}function Fc(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ii(r))}function Xc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ii(e))}function _n(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bx(e,n,r,l),n=n.sibling}function Bx(e,n,r,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:_n(e,n,r,l),d&2048&&ns(9,n);break;case 1:_n(e,n,r,l);break;case 3:_n(e,n,r,l),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ii(e)));break;case 12:if(d&2048){_n(e,n,r,l),e=n.stateNode;try{var y=n.memoizedProps,w=y.id,q=y.onPostCommit;typeof q=="function"&&q(w,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){Xe(n,n.return,V)}}else _n(e,n,r,l);break;case 31:_n(e,n,r,l);break;case 13:_n(e,n,r,l);break;case 23:break;case 22:y=n.stateNode,w=n.alternate,n.memoizedState!==null?y._visibility&2?_n(e,n,r,l):as(e,n):y._visibility&2?_n(e,n,r,l):(y._visibility|=2,Ka(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Fc(w,n);break;case 24:_n(e,n,r,l),d&2048&&Xc(n.alternate,n);break;default:_n(e,n,r,l)}}function Ka(e,n,r,l,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var y=e,w=n,q=r,V=l,se=w.flags;switch(w.tag){case 0:case 11:case 15:Ka(y,w,q,V,d),ns(8,w);break;case 23:break;case 22:var fe=w.stateNode;w.memoizedState!==null?fe._visibility&2?Ka(y,w,q,V,d):as(y,w):(fe._visibility|=2,Ka(y,w,q,V,d)),d&&se&2048&&Fc(w.alternate,w);break;case 24:Ka(y,w,q,V,d),d&&se&2048&&Xc(w.alternate,w);break;default:Ka(y,w,q,V,d)}n=n.sibling}}function as(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,d=l.flags;switch(l.tag){case 22:as(r,l),d&2048&&Fc(l.alternate,l);break;case 24:as(r,l),d&2048&&Xc(l.alternate,l);break;default:as(r,l)}n=n.sibling}}var is=8192;function Za(e,n,r){if(e.subtreeFlags&is)for(e=e.child;e!==null;)Ux(e,n,r),e=e.sibling}function Ux(e,n,r){switch(e.tag){case 26:Za(e,n,r),e.flags&is&&e.memoizedState!==null&&vA(r,bn,e.memoizedState,e.memoizedProps);break;case 5:Za(e,n,r);break;case 3:case 4:var l=bn;bn=io(e.stateNode.containerInfo),Za(e,n,r),bn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=is,is=16777216,Za(e,n,r),is=l):Za(e,n,r));break;default:Za(e,n,r)}}function $x(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ss(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];St=l,Ix(l,e)}$x(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gx(e),e=e.sibling}function Gx(e){switch(e.tag){case 0:case 11:case 15:ss(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:ss(e);break;case 12:ss(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fl(e)):ss(e);break;default:ss(e)}}function Fl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];St=l,Ix(l,e)}$x(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cr(8,n,n.return),Fl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Fl(n));break;default:Fl(n)}e=e.sibling}}function Ix(e,n){for(;St!==null;){var r=St;switch(r.tag){case 0:case 11:case 15:Cr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ii(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,St=l;else e:for(r=e;St!==null;){l=St;var d=l.sibling,y=l.return;if(Dx(l),l===r){St=null;break e}if(d!==null){d.return=y,St=d;break e}St=y}}}var qj={getCacheForType:function(e){var n=Tt(mt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Tt(mt).controller.signal}},Dj=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Pe=null,ze=null,He=0,Fe=0,Qt=null,jr=!1,Qa=!1,Kc=!1,ar=0,lt=0,Ar=0,ma=0,Zc=0,Jt=0,Ja=0,ls=null,$t=null,Qc=!1,Xl=0,Vx=0,Kl=1/0,Zl=null,Mr=null,bt=0,Rr=null,Pa=null,ir=0,Jc=0,Pc=null,Yx=null,os=0,Wc=null;function Pt(){return(Ie&2)!==0&&He!==0?He&-He:z.T!==null?sf():Ws()}function Fx(){if(Jt===0)if((He&536870912)===0||Be){var e=hr;hr<<=1,(hr&3932160)===0&&(hr=262144),Jt=e}else Jt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Jt}function Gt(e,n,r){(e===Pe&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),qr(e,He,Jt,!1)),Qr(e,r),((Ie&2)===0||e!==Pe)&&(e===Pe&&((Ie&2)===0&&(ma|=r),lt===4&&qr(e,He,Jt,!1)),Dn(e))}function Xx(e,n,r){if((Ie&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Zr(e,n),d=l?kj(e,n):tf(e,n,!0),y=l;do{if(d===0){Qa&&!l&&qr(e,n,0,!1);break}else{if(r=e.current.alternate,y&&!Oj(r)){d=tf(e,n,!1),y=!1;continue}if(d===2){if(y=n,e.errorRecoveryDisabledLanes&y)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var q=e;d=ls;var V=q.current.memoizedState.isDehydrated;if(V&&(Wa(q,w).flags|=256),w=tf(q,w,!1),w!==2){if(Kc&&!V){q.errorRecoveryDisabledLanes|=y,ma|=y,d=4;break e}y=$t,$t=d,y!==null&&($t===null?$t=y:$t.push.apply($t,y))}d=w}if(y=!1,d!==2)continue}}if(d===1){Wa(e,0),qr(e,n,0,!0);break}e:{switch(l=e,y=d,y){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:qr(l,n,Jt,!jr);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=Xl+300-Ge(),10<d)){if(qr(l,n,Jt,!jr),Ta(l,0,!0)!==0)break e;ir=n,l.timeoutHandle=Nb(Kx.bind(null,l,r,$t,Zl,Qc,n,Jt,ma,Ja,jr,y,"Throttled",-0,0),d);break e}Kx(l,r,$t,Zl,Qc,n,Jt,ma,Ja,jr,y,null,-0,0)}}break}while(!0);Dn(e)}function Kx(e,n,r,l,d,y,w,q,V,se,fe,me,oe,ue){if(e.timeoutHandle=-1,me=n.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},Ux(n,y,me);var Se=(y&62914560)===y?Xl-Ge():(y&4194048)===y?Vx-Ge():0;if(Se=yA(me,Se),Se!==null){ir=y,e.cancelPendingCommit=Se(nb.bind(null,e,n,y,r,l,d,w,q,V,fe,me,null,oe,ue)),qr(e,y,w,!se);return}}nb(e,n,y,r,l,d,w,q,V)}function Oj(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],y=d.getSnapshot;d=d.value;try{if(!Ft(y(),d))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qr(e,n,r,l){n&=~Zc,n&=~ma,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var d=n;0<d;){var y=31-tt(d),w=1<<y;l[y]=-1,d&=~w}r!==0&&Qs(e,r,n)}function Ql(){return(Ie&6)===0?(us(0),!1):!0}function ef(){if(ze!==null){if(Fe===0)var e=ze.return;else e=ze,Kn=ia=null,pc(e),Ia=null,Yi=0,e=ze;for(;e!==null;)Ex(e.alternate,e),e=e.return;ze=null}}function Wa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,eA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ir=0,ef(),Pe=e,ze=r=Fn(e.current,null),He=n,Fe=0,Qt=null,jr=!1,Qa=Zr(e,n),Kc=!1,Ja=Jt=Zc=ma=Ar=lt=0,$t=ls=null,Qc=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var d=31-tt(l),y=1<<d;n|=e[d],l&=~y}return ar=n,vl(),r}function Zx(e,n){Me=null,z.H=Wi,n===Ga||n===El?(n=fy(),Fe=3):n===ac?(n=fy(),Fe=4):Fe=n===qc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Qt=n,ze===null&&(lt=1,Bl(e,sn(n,e.current)))}function Qx(){var e=Kt.current;return e===null?!0:(He&4194048)===He?cn===null:(He&62914560)===He||(He&536870912)!==0?e===cn:!1}function Jx(){var e=z.H;return z.H=Wi,e===null?Wi:e}function Px(){var e=z.A;return z.A=qj,e}function Jl(){lt=4,jr||(He&4194048)!==He&&Kt.current!==null||(Qa=!0),(Ar&134217727)===0&&(ma&134217727)===0||Pe===null||qr(Pe,He,Jt,!1)}function tf(e,n,r){var l=Ie;Ie|=2;var d=Jx(),y=Px();(Pe!==e||He!==n)&&(Zl=null,Wa(e,n)),n=!1;var w=lt;e:do try{if(Fe!==0&&ze!==null){var q=ze,V=Qt;switch(Fe){case 8:ef(),w=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(n=!0);var se=Fe;if(Fe=0,Qt=null,ei(e,q,V,se),r&&Qa){w=0;break e}break;default:se=Fe,Fe=0,Qt=null,ei(e,q,V,se)}}zj(),w=lt;break}catch(fe){Zx(e,fe)}while(!0);return n&&e.shellSuspendCounter++,Kn=ia=null,Ie=l,z.H=d,z.A=y,ze===null&&(Pe=null,He=0,vl()),w}function zj(){for(;ze!==null;)Wx(ze)}function kj(e,n){var r=Ie;Ie|=2;var l=Jx(),d=Px();Pe!==e||He!==n?(Zl=null,Kl=Ge()+500,Wa(e,n)):Qa=Zr(e,n);e:do try{if(Fe!==0&&ze!==null){n=ze;var y=Qt;t:switch(Fe){case 1:Fe=0,Qt=null,ei(e,n,y,1);break;case 2:case 9:if(uy(y)){Fe=0,Qt=null,eb(n);break}n=function(){Fe!==2&&Fe!==9||Pe!==e||(Fe=7),Dn(e)},y.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:uy(y)?(Fe=0,Qt=null,eb(n)):(Fe=0,Qt=null,ei(e,n,y,7));break;case 5:var w=null;switch(ze.tag){case 26:w=ze.memoizedState;case 5:case 27:var q=ze;if(w?Bb(w):q.stateNode.complete){Fe=0,Qt=null;var V=q.sibling;if(V!==null)ze=V;else{var se=q.return;se!==null?(ze=se,Pl(se)):ze=null}break t}}Fe=0,Qt=null,ei(e,n,y,5);break;case 6:Fe=0,Qt=null,ei(e,n,y,6);break;case 8:ef(),lt=6;break e;default:throw Error(s(462))}}Hj();break}catch(fe){Zx(e,fe)}while(!0);return Kn=ia=null,z.H=l,z.A=d,Ie=r,ze!==null?0:(Pe=null,He=0,vl(),lt)}function Hj(){for(;ze!==null&&!Ae();)Wx(ze)}function Wx(e){var n=wx(e.alternate,e,ar);e.memoizedProps=e.pendingProps,n===null?Pl(e):ze=n}function eb(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=vx(r,n,n.pendingProps,n.type,void 0,He);break;case 11:n=vx(r,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:pc(n);default:Ex(r,n),n=ze=Pv(n,ar),n=wx(r,n,ar)}e.memoizedProps=e.pendingProps,n===null?Pl(e):ze=n}function ei(e,n,r,l){Kn=ia=null,pc(n),Ia=null,Yi=0;var d=n.return;try{if(Ej(e,d,n,r,He)){lt=1,Bl(e,sn(r,e.current)),ze=null;return}}catch(y){if(d!==null)throw ze=d,y;lt=1,Bl(e,sn(r,e.current)),ze=null;return}n.flags&32768?(Be||l===1?e=!0:Qa||(He&536870912)!==0?e=!1:(jr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Kt.current,l!==null&&l.tag===13&&(l.flags|=16384))),tb(n,e)):Pl(n)}function Pl(e){var n=e;do{if((n.flags&32768)!==0){tb(n,jr);return}e=n.return;var r=jj(n.alternate,n,ar);if(r!==null){ze=r;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=e}while(n!==null);lt===0&&(lt=5)}function tb(e,n){do{var r=Aj(e.alternate,e);if(r!==null){r.flags&=32767,ze=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){ze=e;return}ze=e=r}while(e!==null);lt=6,ze=null}function nb(e,n,r,l,d,y,w,q,V){e.cancelPendingCommit=null;do Wl();while(bt!==0);if((Ie&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(y=n.lanes|n.childLanes,y|=Iu,yu(e,r,y,w,q,V),e===Pe&&(ze=Pe=null,He=0),Pa=n,Rr=e,ir=r,Jc=y,Pc=d,Yx=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$j(_t,function(){return lb(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,d=P.p,P.p=2,w=Ie,Ie|=4;try{Mj(e,n,r)}finally{Ie=w,P.p=d,z.T=l}}bt=1,rb(),ab(),ib()}}function rb(){if(bt===1){bt=0;var e=Rr,n=Pa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=z.T,z.T=null;var l=P.p;P.p=2;var d=Ie;Ie|=4;try{Hx(n,e);var y=mf,w=Iv(e.containerInfo),q=y.focusedElem,V=y.selectionRange;if(w!==q&&q&&q.ownerDocument&&Gv(q.ownerDocument.documentElement,q)){if(V!==null&&Lu(q)){var se=V.start,fe=V.end;if(fe===void 0&&(fe=se),"selectionStart"in q)q.selectionStart=se,q.selectionEnd=Math.min(fe,q.value.length);else{var me=q.ownerDocument||document,oe=me&&me.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),Se=q.textContent.length,Ee=Math.min(V.start,Se),Qe=V.end===void 0?Ee:Math.min(V.end,Se);!ue.extend&&Ee>Qe&&(w=Qe,Qe=Ee,Ee=w);var ne=$v(q,Ee),J=$v(q,Qe);if(ne&&J&&(ue.rangeCount!==1||ue.anchorNode!==ne.node||ue.anchorOffset!==ne.offset||ue.focusNode!==J.node||ue.focusOffset!==J.offset)){var ie=me.createRange();ie.setStart(ne.node,ne.offset),ue.removeAllRanges(),Ee>Qe?(ue.addRange(ie),ue.extend(J.node,J.offset)):(ie.setEnd(J.node,J.offset),ue.addRange(ie))}}}}for(me=[],ue=q;ue=ue.parentNode;)ue.nodeType===1&&me.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<me.length;q++){var he=me[q];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}fo=!!hf,mf=hf=null}finally{Ie=d,P.p=l,z.T=r}}e.current=n,bt=2}}function ab(){if(bt===2){bt=0;var e=Rr,n=Pa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=z.T,z.T=null;var l=P.p;P.p=2;var d=Ie;Ie|=4;try{qx(e,n.alternate,n)}finally{Ie=d,P.p=l,z.T=r}}bt=3}}function ib(){if(bt===4||bt===3){bt=0,Ve();var e=Rr,n=Pa,r=ir,l=Yx;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?bt=5:(bt=0,Pa=Rr=null,sb(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Mr=null),ji(r),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(it,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,d=P.p,P.p=2,z.T=null;try{for(var y=e.onRecoverableError,w=0;w<l.length;w++){var q=l[w];y(q.value,{componentStack:q.stack})}}finally{z.T=n,P.p=d}}(ir&3)!==0&&Wl(),Dn(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Wc?os++:(os=0,Wc=e):os=0,us(0)}}function sb(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ii(n)))}function Wl(){return rb(),ab(),ib(),lb()}function lb(){if(bt!==5)return!1;var e=Rr,n=Jc;Jc=0;var r=ji(ir),l=z.T,d=P.p;try{P.p=32>r?32:r,z.T=null,r=Pc,Pc=null;var y=Rr,w=ir;if(bt=0,Pa=Rr=null,ir=0,(Ie&6)!==0)throw Error(s(331));var q=Ie;if(Ie|=4,Gx(y.current),Bx(y,y.current,w,r),Ie=q,us(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(it,y)}catch{}return!0}finally{P.p=d,z.T=l,sb(e,n)}}function ob(e,n,r){n=sn(r,n),n=Rc(e.stateNode,n,2),e=Nr(e,n,2),e!==null&&(Qr(e,2),Dn(e))}function Xe(e,n,r){if(e.tag===3)ob(e,e,r);else for(;n!==null;){if(n.tag===3){ob(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){e=sn(r,e),r=ux(2),l=Nr(n,r,2),l!==null&&(cx(r,l,n,e),Qr(l,2),Dn(l));break}}n=n.return}}function nf(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Dj;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(r)||(Kc=!0,d.add(r),e=Lj.bind(null,e,n,r),n.then(e,e))}function Lj(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Pe===e&&(He&r)===r&&(lt===4||lt===3&&(He&62914560)===He&&300>Ge()-Xl?(Ie&2)===0&&Wa(e,0):Zc|=r,Ja===He&&(Ja=0)),Dn(e)}function ub(e,n){n===0&&(n=Zs()),e=na(e,n),e!==null&&(Qr(e,n),Dn(e))}function Bj(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),ub(e,r)}function Uj(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ub(e,r)}function $j(e,n){return Je(e,n)}var eo=null,ti=null,rf=!1,to=!1,af=!1,Dr=0;function Dn(e){e!==ti&&e.next===null&&(ti===null?eo=ti=e:ti=ti.next=e),to=!0,rf||(rf=!0,Ij())}function us(e,n){if(!af&&to){af=!0;do for(var r=!1,l=eo;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var y=0;else{var w=l.suspendedLanes,q=l.pingedLanes;y=(1<<31-tt(42|e)+1)-1,y&=d&~(w&~q),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,hb(l,y))}else y=He,y=Ta(l,l===Pe?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(y&3)===0||Zr(l,y)||(r=!0,hb(l,y));l=l.next}while(r);af=!1}}function Gj(){cb()}function cb(){to=rf=!1;var e=0;Dr!==0&&Wj()&&(e=Dr);for(var n=Ge(),r=null,l=eo;l!==null;){var d=l.next,y=fb(l,n);y===0?(l.next=null,r===null?eo=d:r.next=d,d===null&&(ti=r)):(r=l,(e!==0||(y&3)!==0)&&(to=!0)),l=d}bt!==0&&bt!==5||us(e),Dr!==0&&(Dr=0)}function fb(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var w=31-tt(y),q=1<<w,V=d[w];V===-1?((q&r)===0||(q&l)!==0)&&(d[w]=vu(q,n)):V<=n&&(e.expiredLanes|=q),y&=~q}if(n=Pe,r=He,r=Ta(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Oe(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Zr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&Oe(l),ji(r)){case 2:case 8:r=Yt;break;case 32:r=_t;break;case 268435456:r=yn;break;default:r=_t}return l=db.bind(null,e),r=Je(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&Oe(l),e.callbackPriority=2,e.callbackNode=null,2}function db(e,n){if(bt!==0&&bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Wl()&&e.callbackNode!==r)return null;var l=He;return l=Ta(e,e===Pe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Xx(e,l,n),fb(e,Ge()),e.callbackNode!=null&&e.callbackNode===r?db.bind(null,e):null)}function hb(e,n){if(Wl())return null;Xx(e,n,!0)}function Ij(){tA(function(){(Ie&6)!==0?Je(tn,Gj):cb()})}function sf(){if(Dr===0){var e=Ua;e===0&&(e=jn,jn<<=1,(jn&261888)===0&&(jn=256)),Dr=e}return Dr}function mb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ul(""+e)}function gb(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Vj(e,n,r,l,d){if(n==="submit"&&r&&r.stateNode===d){var y=mb((d[Nt]||null).action),w=l.submitter;w&&(n=(n=w[Nt]||null)?mb(n.formAction):w.getAttribute("formAction"),n!==null&&(y=n,w=null));var q=new hl("action","action",null,l,d);e.push({event:q,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Dr!==0){var V=w?gb(d,w):new FormData(d);Ec(r,{pending:!0,data:V,method:d.method,action:y},null,V)}}else typeof y=="function"&&(q.preventDefault(),V=w?gb(d,w):new FormData(d),Ec(r,{pending:!0,data:V,method:d.method,action:y},y,V))},currentTarget:d}]})}}for(var lf=0;lf<Gu.length;lf++){var of=Gu[lf],Yj=of.toLowerCase(),Fj=of[0].toUpperCase()+of.slice(1);xn(Yj,"on"+Fj)}xn(Fv,"onAnimationEnd"),xn(Xv,"onAnimationIteration"),xn(Kv,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(oj,"onTransitionRun"),xn(uj,"onTransitionStart"),xn(cj,"onTransitionCancel"),xn(Zv,"onTransitionEnd"),Gn("onMouseEnter",["mouseout","mouseover"]),Gn("onMouseLeave",["mouseout","mouseover"]),Gn("onPointerEnter",["pointerout","pointerover"]),Gn("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function pb(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],d=l.event;l=l.listeners;e:{var y=void 0;if(n)for(var w=l.length-1;0<=w;w--){var q=l[w],V=q.instance,se=q.currentTarget;if(q=q.listener,V!==y&&d.isPropagationStopped())break e;y=q,d.currentTarget=se;try{y(d)}catch(fe){pl(fe)}d.currentTarget=null,y=V}else for(w=0;w<l.length;w++){if(q=l[w],V=q.instance,se=q.currentTarget,q=q.listener,V!==y&&d.isPropagationStopped())break e;y=q,d.currentTarget=se;try{y(d)}catch(fe){pl(fe)}d.currentTarget=null,y=V}}}}function ke(e,n){var r=n[Ai];r===void 0&&(r=n[Ai]=new Set);var l=e+"__bubble";r.has(l)||(vb(n,e,2,!1),r.add(l))}function uf(e,n,r){var l=0;n&&(l|=4),vb(r,e,l,n)}var no="_reactListening"+Math.random().toString(36).slice(2);function cf(e){if(!e[no]){e[no]=!0,nl.forEach(function(r){r!=="selectionchange"&&(Xj.has(r)||uf(r,!1,e),uf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[no]||(n[no]=!0,uf("selectionchange",!1,n))}}function vb(e,n,r,l){switch(Fb(n)){case 2:var d=_A;break;case 8:d=SA;break;default:d=Ef}r=d.bind(null,n,r,e),d=void 0,!Au||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,r,{capture:!0,passive:d}):e.addEventListener(n,r,!0):d!==void 0?e.addEventListener(n,r,{passive:d}):e.addEventListener(n,r,!1)}function ff(e,n,r,l,d){var y=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var q=l.stateNode.containerInfo;if(q===d)break;if(w===4)for(w=l.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;q!==null;){if(w=gr(q),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){l=y=w;continue e}q=q.parentNode}}l=l.return}Sv(function(){var se=y,fe=Cu(r),me=[];e:{var oe=Qv.get(e);if(oe!==void 0){var ue=hl,Se=e;switch(e){case"keypress":if(fl(r)===0)break e;case"keydown":case"keyup":ue=UC;break;case"focusin":Se="focus",ue=Du;break;case"focusout":Se="blur",ue=Du;break;case"beforeblur":case"afterblur":ue=Du;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=jC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=IC;break;case Fv:case Xv:case Kv:ue=RC;break;case Zv:ue=YC;break;case"scroll":case"scrollend":ue=TC;break;case"wheel":ue=XC;break;case"copy":case"cut":case"paste":ue=DC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Cv;break;case"toggle":case"beforetoggle":ue=ZC}var Ee=(n&4)!==0,Qe=!Ee&&(e==="scroll"||e==="scrollend"),ne=Ee?oe!==null?oe+"Capture":null:oe;Ee=[];for(var J=se,ie;J!==null;){var he=J;if(ie=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ie===null||ne===null||(he=qi(J,ne),he!=null&&Ee.push(fs(J,he,ie))),Qe)break;J=J.return}0<Ee.length&&(oe=new ue(oe,Se,null,r,fe),me.push({event:oe,listeners:Ee}))}}if((n&7)===0){e:{if(oe=e==="mouseover"||e==="pointerover",ue=e==="mouseout"||e==="pointerout",oe&&r!==Tu&&(Se=r.relatedTarget||r.fromElement)&&(gr(Se)||Se[mr]))break e;if((ue||oe)&&(oe=fe.window===fe?fe:(oe=fe.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(Se=r.relatedTarget||r.toElement,ue=se,Se=Se?gr(Se):null,Se!==null&&(Qe=u(Se),Ee=Se.tag,Se!==Qe||Ee!==5&&Ee!==27&&Ee!==6)&&(Se=null)):(ue=null,Se=se),ue!==Se)){if(Ee=Ev,he="onMouseLeave",ne="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=Cv,he="onPointerLeave",ne="onPointerEnter",J="pointer"),Qe=ue==null?oe:Pr(ue),ie=Se==null?oe:Pr(Se),oe=new Ee(he,J+"leave",ue,r,fe),oe.target=Qe,oe.relatedTarget=ie,he=null,gr(fe)===se&&(Ee=new Ee(ne,J+"enter",Se,r,fe),Ee.target=ie,Ee.relatedTarget=Qe,he=Ee),Qe=he,ue&&Se)t:{for(Ee=Kj,ne=ue,J=Se,ie=0,he=ne;he;he=Ee(he))ie++;he=0;for(var Ne=J;Ne;Ne=Ee(Ne))he++;for(;0<ie-he;)ne=Ee(ne),ie--;for(;0<he-ie;)J=Ee(J),he--;for(;ie--;){if(ne===J||J!==null&&ne===J.alternate){Ee=ne;break t}ne=Ee(ne),J=Ee(J)}Ee=null}else Ee=null;ue!==null&&yb(me,oe,ue,Ee,!1),Se!==null&&Qe!==null&&yb(me,Qe,Se,Ee,!0)}}e:{if(oe=se?Pr(se):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var Ue=zv;else if(Dv(oe))if(kv)Ue=ij;else{Ue=rj;var we=nj}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&Eu(se.elementType)&&(Ue=zv):Ue=aj;if(Ue&&(Ue=Ue(e,se))){Ov(me,Ue,r,fe);break e}we&&we(e,oe,se),e==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&Nu(oe,"number",oe.value)}switch(we=se?Pr(se):window,e){case"focusin":(Dv(we)||we.contentEditable==="true")&&(qa=we,Bu=se,Ui=null);break;case"focusout":Ui=Bu=qa=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Vv(me,r,fe);break;case"selectionchange":if(lj)break;case"keydown":case"keyup":Vv(me,r,fe)}var Re;if(zu)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ra?Rv(e,r)&&(Le="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Le="onCompositionStart");Le&&(jv&&r.locale!=="ko"&&(Ra||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ra&&(Re=wv()):(vr=fe,Mu="value"in vr?vr.value:vr.textContent,Ra=!0)),we=ro(se,Le),0<we.length&&(Le=new Tv(Le,e,null,r,fe),me.push({event:Le,listeners:we}),Re?Le.data=Re:(Re=qv(r),Re!==null&&(Le.data=Re)))),(Re=JC?PC(e,r):WC(e,r))&&(Le=ro(se,"onBeforeInput"),0<Le.length&&(we=new Tv("onBeforeInput","beforeinput",null,r,fe),me.push({event:we,listeners:Le}),we.data=Re)),Vj(me,e,se,r,fe)}pb(me,n)})}function fs(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ro(e,n){for(var r=n+"Capture",l=[];e!==null;){var d=e,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=qi(e,r),d!=null&&l.unshift(fs(e,d,y)),d=qi(e,n),d!=null&&l.push(fs(e,d,y))),e.tag===3)return l;e=e.return}return[]}function Kj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yb(e,n,r,l,d){for(var y=n._reactName,w=[];r!==null&&r!==l;){var q=r,V=q.alternate,se=q.stateNode;if(q=q.tag,V!==null&&V===l)break;q!==5&&q!==26&&q!==27||se===null||(V=se,d?(se=qi(r,y),se!=null&&w.unshift(fs(r,se,V))):d||(se=qi(r,y),se!=null&&w.push(fs(r,se,V)))),r=r.return}w.length!==0&&e.push({event:n,listeners:w})}var Zj=/\r\n?/g,Qj=/\u0000|\uFFFD/g;function xb(e){return(typeof e=="string"?e:""+e).replace(Zj,`
`).replace(Qj,"")}function bb(e,n){return n=xb(n),xb(e)===n}function Ze(e,n,r,l,d,y){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ja(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ja(e,""+l);break;case"className":ll(e,"class",l);break;case"tabIndex":ll(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ll(e,r,l);break;case"style":bv(e,l,y);break;case"data":if(n!=="object"){ll(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ul(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(n!=="input"&&Ze(e,n,"name",d.name,d,null),Ze(e,n,"formEncType",d.formEncType,d,null),Ze(e,n,"formMethod",d.formMethod,d,null),Ze(e,n,"formTarget",d.formTarget,d,null)):(Ze(e,n,"encType",d.encType,d,null),Ze(e,n,"method",d.method,d,null),Ze(e,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ul(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Vn);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=ul(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":ke("beforetoggle",e),ke("toggle",e),sl(e,"popover",l);break;case"xlinkActuate":In(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":In(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":In(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":In(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":In(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":In(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":In(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":In(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":In(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=NC.get(r)||r,sl(e,r,l))}}function df(e,n,r,l,d,y){switch(r){case"style":bv(e,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?ja(e,l):(typeof l=="number"||typeof l=="bigint")&&ja(e,""+l);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),n=r.slice(2,d?r.length-7:void 0),y=e[Nt]||null,y=y!=null?y[r]:null,typeof y=="function"&&e.removeEventListener(n,y,d),typeof l=="function")){typeof y!="function"&&y!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,d);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):sl(e,r,l)}}}function jt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var l=!1,d=!1,y;for(y in r)if(r.hasOwnProperty(y)){var w=r[y];if(w!=null)switch(y){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ze(e,n,y,w,r,null)}}d&&Ze(e,n,"srcSet",r.srcSet,r,null),l&&Ze(e,n,"src",r.src,r,null);return;case"input":ke("invalid",e);var q=y=w=d=null,V=null,se=null;for(l in r)if(r.hasOwnProperty(l)){var fe=r[l];if(fe!=null)switch(l){case"name":d=fe;break;case"type":w=fe;break;case"checked":V=fe;break;case"defaultChecked":se=fe;break;case"value":y=fe;break;case"defaultValue":q=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,n));break;default:Ze(e,n,l,fe,r,null)}}pv(e,y,q,V,se,w,d,!1);return;case"select":ke("invalid",e),l=w=y=null;for(d in r)if(r.hasOwnProperty(d)&&(q=r[d],q!=null))switch(d){case"value":y=q;break;case"defaultValue":w=q;break;case"multiple":l=q;default:Ze(e,n,d,q,r,null)}n=y,r=w,e.multiple=!!l,n!=null?Ca(e,!!l,n,!1):r!=null&&Ca(e,!!l,r,!0);return;case"textarea":ke("invalid",e),y=d=l=null;for(w in r)if(r.hasOwnProperty(w)&&(q=r[w],q!=null))switch(w){case"value":l=q;break;case"defaultValue":d=q;break;case"children":y=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(91));break;default:Ze(e,n,w,q,r,null)}yv(e,l,d,y);return;case"option":for(V in r)r.hasOwnProperty(V)&&(l=r[V],l!=null)&&(V==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(e,n,V,l,r,null));return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(l=0;l<cs.length;l++)ke(cs[l],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in r)if(r.hasOwnProperty(se)&&(l=r[se],l!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ze(e,n,se,l,r,null)}return;default:if(Eu(n)){for(fe in r)r.hasOwnProperty(fe)&&(l=r[fe],l!==void 0&&df(e,n,fe,l,r,void 0));return}}for(q in r)r.hasOwnProperty(q)&&(l=r[q],l!=null&&Ze(e,n,q,l,r,null))}function Jj(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,w=null,q=null,V=null,se=null,fe=null;for(ue in r){var me=r[ue];if(r.hasOwnProperty(ue)&&me!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":V=me;default:l.hasOwnProperty(ue)||Ze(e,n,ue,null,l,me)}}for(var oe in l){var ue=l[oe];if(me=r[oe],l.hasOwnProperty(oe)&&(ue!=null||me!=null))switch(oe){case"type":y=ue;break;case"name":d=ue;break;case"checked":se=ue;break;case"defaultChecked":fe=ue;break;case"value":w=ue;break;case"defaultValue":q=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,n));break;default:ue!==me&&Ze(e,n,oe,ue,l,me)}}wu(e,w,q,V,se,fe,y,d);return;case"select":ue=w=q=oe=null;for(y in r)if(V=r[y],r.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":ue=V;default:l.hasOwnProperty(y)||Ze(e,n,y,null,l,V)}for(d in l)if(y=l[d],V=r[d],l.hasOwnProperty(d)&&(y!=null||V!=null))switch(d){case"value":oe=y;break;case"defaultValue":q=y;break;case"multiple":w=y;default:y!==V&&Ze(e,n,d,y,l,V)}n=q,r=w,l=ue,oe!=null?Ca(e,!!r,oe,!1):!!l!=!!r&&(n!=null?Ca(e,!!r,n,!0):Ca(e,!!r,r?[]:"",!1));return;case"textarea":ue=oe=null;for(q in r)if(d=r[q],r.hasOwnProperty(q)&&d!=null&&!l.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Ze(e,n,q,null,l,d)}for(w in l)if(d=l[w],y=r[w],l.hasOwnProperty(w)&&(d!=null||y!=null))switch(w){case"value":oe=d;break;case"defaultValue":ue=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==y&&Ze(e,n,w,d,l,y)}vv(e,oe,ue);return;case"option":for(var Se in r)oe=r[Se],r.hasOwnProperty(Se)&&oe!=null&&!l.hasOwnProperty(Se)&&(Se==="selected"?e.selected=!1:Ze(e,n,Se,null,l,oe));for(V in l)oe=l[V],ue=r[V],l.hasOwnProperty(V)&&oe!==ue&&(oe!=null||ue!=null)&&(V==="selected"?e.selected=oe&&typeof oe!="function"&&typeof oe!="symbol":Ze(e,n,V,oe,l,ue));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)oe=r[Ee],r.hasOwnProperty(Ee)&&oe!=null&&!l.hasOwnProperty(Ee)&&Ze(e,n,Ee,null,l,oe);for(se in l)if(oe=l[se],ue=r[se],l.hasOwnProperty(se)&&oe!==ue&&(oe!=null||ue!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,n));break;default:Ze(e,n,se,oe,l,ue)}return;default:if(Eu(n)){for(var Qe in r)oe=r[Qe],r.hasOwnProperty(Qe)&&oe!==void 0&&!l.hasOwnProperty(Qe)&&df(e,n,Qe,void 0,l,oe);for(fe in l)oe=l[fe],ue=r[fe],!l.hasOwnProperty(fe)||oe===ue||oe===void 0&&ue===void 0||df(e,n,fe,oe,l,ue);return}}for(var ne in r)oe=r[ne],r.hasOwnProperty(ne)&&oe!=null&&!l.hasOwnProperty(ne)&&Ze(e,n,ne,null,l,oe);for(me in l)oe=l[me],ue=r[me],!l.hasOwnProperty(me)||oe===ue||oe==null&&ue==null||Ze(e,n,me,oe,l,ue)}function _b(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pj(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var d=r[l],y=d.transferSize,w=d.initiatorType,q=d.duration;if(y&&q&&_b(w)){for(w=0,q=d.responseEnd,l+=1;l<r.length;l++){var V=r[l],se=V.startTime;if(se>q)break;var fe=V.transferSize,me=V.initiatorType;fe&&_b(me)&&(V=V.responseEnd,w+=fe*(V<q?1:(q-se)/(V-se)))}if(--l,n+=8*(y+w)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hf=null,mf=null;function ao(e){return e.nodeType===9?e:e.ownerDocument}function Sb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wb(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pf=null;function Wj(){var e=window.event;return e&&e.type==="popstate"?e===pf?!1:(pf=e,!0):(pf=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(e){return Eb.resolve(null).then(e).catch(nA)}:Nb;function nA(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function Tb(e,n){var r=n,l=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(d),ii(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ds(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ds(r);for(var y=r.firstChild;y;){var w=y.nextSibling,q=y.nodeName;y[Jr]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=w}}else r==="body"&&ds(e.ownerDocument.body);r=d}while(r);ii(n)}function Cb(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function vf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vf(r),Mi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function rA(e,n,r,l){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Jr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=fn(e.nextSibling),e===null)break}return null}function aA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=fn(e.nextSibling),e===null))return null;return e}function jb(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=fn(e.nextSibling),e===null))return null;return e}function yf(e){return e.data==="$?"||e.data==="$~"}function xf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function iA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bf=null;function Ab(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return fn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Mb(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Rb(e,n,r){switch(n=ao(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ds(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Mi(e)}var dn=new Map,qb=new Set;function io(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sr=P.d;P.d={f:sA,r:lA,D:oA,C:uA,L:cA,m:fA,X:hA,S:dA,M:mA};function sA(){var e=sr.f(),n=Ql();return e||n}function lA(e){var n=Un(e);n!==null&&n.tag===5&&n.type==="form"?Zy(n):sr.r(e)}var ni=typeof document>"u"?null:document;function Db(e,n,r){var l=ni;if(l&&typeof n=="string"&&n){var d=rn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),qb.has(d)||(qb.add(d),e={rel:e,crossOrigin:r,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),jt(n,"link",e),ht(n),l.head.appendChild(n)))}}function oA(e){sr.D(e),Db("dns-prefetch",e,null)}function uA(e,n){sr.C(e,n),Db("preconnect",e,n)}function cA(e,n,r){sr.L(e,n,r);var l=ni;if(l&&e&&n){var d='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+rn(r.imageSizes)+'"]')):d+='[href="'+rn(e)+'"]';var y=d;switch(n){case"style":y=ri(e);break;case"script":y=ai(e)}dn.has(y)||(e=v({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),dn.set(y,e),l.querySelector(d)!==null||n==="style"&&l.querySelector(hs(y))||n==="script"&&l.querySelector(ms(y))||(n=l.createElement("link"),jt(n,"link",e),ht(n),l.head.appendChild(n)))}}function fA(e,n){sr.m(e,n);var r=ni;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',y=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ai(e)}if(!dn.has(y)&&(e=v({rel:"modulepreload",href:e},n),dn.set(y,e),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ms(y)))return}l=r.createElement("link"),jt(l,"link",e),ht(l),r.head.appendChild(l)}}}function dA(e,n,r){sr.S(e,n,r);var l=ni;if(l&&e){var d=pr(l).hoistableStyles,y=ri(e);n=n||"default";var w=d.get(y);if(!w){var q={loading:0,preload:null};if(w=l.querySelector(hs(y)))q.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},r),(r=dn.get(y))&&_f(e,r);var V=w=l.createElement("link");ht(V),jt(V,"link",e),V._p=new Promise(function(se,fe){V.onload=se,V.onerror=fe}),V.addEventListener("load",function(){q.loading|=1}),V.addEventListener("error",function(){q.loading|=2}),q.loading|=4,so(w,n,l)}w={type:"stylesheet",instance:w,count:1,state:q},d.set(y,w)}}}function hA(e,n){sr.X(e,n);var r=ni;if(r&&e){var l=pr(r).hoistableScripts,d=ai(e),y=l.get(d);y||(y=r.querySelector(ms(d)),y||(e=v({src:e,async:!0},n),(n=dn.get(d))&&Sf(e,n),y=r.createElement("script"),ht(y),jt(y,"link",e),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(d,y))}}function mA(e,n){sr.M(e,n);var r=ni;if(r&&e){var l=pr(r).hoistableScripts,d=ai(e),y=l.get(d);y||(y=r.querySelector(ms(d)),y||(e=v({src:e,async:!0,type:"module"},n),(n=dn.get(d))&&Sf(e,n),y=r.createElement("script"),ht(y),jt(y,"link",e),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(d,y))}}function Ob(e,n,r,l){var d=(d=G.current)?io(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ri(r.href),r=pr(d).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ri(r.href);var y=pr(d).hoistableStyles,w=y.get(e);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,w),(y=d.querySelector(hs(e)))&&!y._p&&(w.instance=y,w.state.loading=5),dn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},dn.set(e,r),y||gA(d,e,r,w.state))),n&&l===null)throw Error(s(528,""));return w}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ai(r),r=pr(d).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ri(e){return'href="'+rn(e)+'"'}function hs(e){return'link[rel="stylesheet"]['+e+"]"}function zb(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function gA(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),jt(n,"link",r),ht(n),e.head.appendChild(n))}function ai(e){return'[src="'+rn(e)+'"]'}function ms(e){return"script[async]"+e}function kb(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+rn(r.href)+'"]');if(l)return n.instance=l,ht(l),l;var d=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ht(l),jt(l,"style",d),so(l,r.precedence,e),n.instance=l;case"stylesheet":d=ri(r.href);var y=e.querySelector(hs(d));if(y)return n.state.loading|=4,n.instance=y,ht(y),y;l=zb(r),(d=dn.get(d))&&_f(l,d),y=(e.ownerDocument||e).createElement("link"),ht(y);var w=y;return w._p=new Promise(function(q,V){w.onload=q,w.onerror=V}),jt(y,"link",l),n.state.loading|=4,so(y,r.precedence,e),n.instance=y;case"script":return y=ai(r.src),(d=e.querySelector(ms(y)))?(n.instance=d,ht(d),d):(l=r,(d=dn.get(y))&&(l=v({},r),Sf(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),ht(d),jt(d,"link",l),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,so(l,r.precedence,e));return n.instance}function so(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,y=d,w=0;w<l.length;w++){var q=l[w];if(q.dataset.precedence===n)y=q;else if(y!==d)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function _f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var lo=null;function Hb(e,n,r){if(lo===null){var l=new Map,d=lo=new Map;d.set(r,l)}else d=lo,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var y=r[d];if(!(y[Jr]||y[xt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(n)||"";w=e+w;var q=l.get(w);q?q.push(y):l.set(w,[y])}}return l}function Lb(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function pA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bb(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function vA(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=ri(l.href),y=n.querySelector(hs(d));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=oo.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=y,ht(y);return}y=n.ownerDocument||n,l=zb(l),(d=dn.get(d))&&_f(l,d),y=y.createElement("link"),ht(y);var w=y;w._p=new Promise(function(q,V){w.onload=q,w.onerror=V}),jt(y,"link",l),r.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=oo.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var wf=0;function yA(e,n){return e.stylesheets&&e.count===0&&co(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&co(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+n);0<e.imgBytes&&wf===0&&(wf=62500*Pj());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&co(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>wf?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)co(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uo=null;function co(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uo=new Map,n.forEach(xA,e),uo=null,oo.call(e))}function xA(e,n){if(!(n.state.loading&4)){var r=uo.get(e);if(r)var l=r.get(null);else{r=new Map,uo.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var w=d[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),l=w)}l&&r.set(null,l)}d=n.instance,w=d.getAttribute("data-precedence"),y=r.get(w)||l,y===l&&r.set(null,d),r.set(w,d),this.count++,l=oo.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),y?y.parentNode.insertBefore(d,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var gs={$$typeof:T,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function bA(e,n,r,l,d,y,w,q,V){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Ub(e,n,r,l,d,y,w,q,V,se,fe,me){return e=new bA(e,n,r,w,V,se,fe,me,q),n=1,y===!0&&(n|=24),y=Xt(3,null,null,n),e.current=y,y.stateNode=e,n=tc(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:l,isDehydrated:r,cache:n},ic(y),e}function $b(e){return e?(e=za,e):za}function Gb(e,n,r,l,d,y){d=$b(d),l.context===null?l.context=d:l.pendingContext=d,l=wr(n),l.payload={element:r},y=y===void 0?null:y,y!==null&&(l.callback=y),r=Nr(e,l,n),r!==null&&(Gt(r,e,n),Xi(r,e,n))}function Ib(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Nf(e,n){Ib(e,n),(e=e.alternate)&&Ib(e,n)}function Vb(e){if(e.tag===13||e.tag===31){var n=na(e,67108864);n!==null&&Gt(n,e,67108864),Nf(e,67108864)}}function Yb(e){if(e.tag===13||e.tag===31){var n=Pt();n=Ci(n);var r=na(e,n);r!==null&&Gt(r,e,n),Nf(e,n)}}var fo=!0;function _A(e,n,r,l){var d=z.T;z.T=null;var y=P.p;try{P.p=2,Ef(e,n,r,l)}finally{P.p=y,z.T=d}}function SA(e,n,r,l){var d=z.T;z.T=null;var y=P.p;try{P.p=8,Ef(e,n,r,l)}finally{P.p=y,z.T=d}}function Ef(e,n,r,l){if(fo){var d=Tf(l);if(d===null)ff(e,n,l,ho,r),Xb(e,l);else if(NA(d,e,n,r,l))l.stopPropagation();else if(Xb(e,l),n&4&&-1<wA.indexOf(e)){for(;d!==null;){var y=Un(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Ot(y.pendingLanes);if(w!==0){var q=y;for(q.pendingLanes|=2,q.entangledLanes|=2;w;){var V=1<<31-tt(w);q.entanglements[1]|=V,w&=~V}Dn(y),(Ie&6)===0&&(Kl=Ge()+500,us(0))}}break;case 31:case 13:q=na(y,2),q!==null&&Gt(q,y,2),Ql(),Nf(y,2)}if(y=Tf(l),y===null&&ff(e,n,l,ho,r),y===d)break;d=y}d!==null&&l.stopPropagation()}else ff(e,n,l,null,r)}}function Tf(e){return e=Cu(e),Cf(e)}var ho=null;function Cf(e){if(ho=null,e=gr(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=c(n),e!==null)return e;e=null}else if(r===31){if(e=f(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ho=e,null}function Fb(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rt()){case tn:return 2;case Yt:return 8;case _t:case vn:return 32;case yn:return 268435456;default:return 32}default:return 32}}var jf=!1,zr=null,kr=null,Hr=null,ps=new Map,vs=new Map,Lr=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xb(e,n){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(n.pointerId)}}function ys(e,n,r,l,d,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:y,targetContainers:[d]},n!==null&&(n=Un(n),n!==null&&Vb(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function NA(e,n,r,l,d){switch(n){case"focusin":return zr=ys(zr,e,n,r,l,d),!0;case"dragenter":return kr=ys(kr,e,n,r,l,d),!0;case"mouseover":return Hr=ys(Hr,e,n,r,l,d),!0;case"pointerover":var y=d.pointerId;return ps.set(y,ys(ps.get(y)||null,e,n,r,l,d)),!0;case"gotpointercapture":return y=d.pointerId,vs.set(y,ys(vs.get(y)||null,e,n,r,l,d)),!0}return!1}function Kb(e){var n=gr(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=c(r),n!==null){e.blockedOn=n,el(e.priority,function(){Yb(r)});return}}else if(n===31){if(n=f(r),n!==null){e.blockedOn=n,el(e.priority,function(){Yb(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Tf(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Tu=l,r.target.dispatchEvent(l),Tu=null}else return n=Un(r),n!==null&&Vb(n),e.blockedOn=r,!1;n.shift()}return!0}function Zb(e,n,r){mo(e)&&r.delete(n)}function EA(){jf=!1,zr!==null&&mo(zr)&&(zr=null),kr!==null&&mo(kr)&&(kr=null),Hr!==null&&mo(Hr)&&(Hr=null),ps.forEach(Zb),vs.forEach(Zb)}function go(e,n){e.blockedOn===n&&(e.blockedOn=null,jf||(jf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EA)))}var po=null;function Qb(e){po!==e&&(po=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){po===e&&(po=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],d=e[n+2];if(typeof l!="function"){if(Cf(l||r)===null)continue;break}var y=Un(r);y!==null&&(e.splice(n,3),n-=3,Ec(y,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function ii(e){function n(V){return go(V,e)}zr!==null&&go(zr,e),kr!==null&&go(kr,e),Hr!==null&&go(Hr,e),ps.forEach(n),vs.forEach(n);for(var r=0;r<Lr.length;r++){var l=Lr[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Lr.length&&(r=Lr[0],r.blockedOn===null);)Kb(r),r.blockedOn===null&&Lr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],y=r[l+1],w=d[Nt]||null;if(typeof y=="function")w||Qb(r);else if(w){var q=null;if(y&&y.hasAttribute("formAction")){if(d=y,w=y[Nt]||null)q=w.formAction;else if(Cf(d)!==null)continue}else q=w.action;typeof q=="function"?r[l+1]=q:(r.splice(l,3),l-=3),Qb(r)}}}function Jb(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return d=w})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Af(e){this._internalRoot=e}vo.prototype.render=Af.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Pt();Gb(r,l,e,n,null,null)},vo.prototype.unmount=Af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gb(e.current,2,null,e,null,null),Ql(),n[mr]=null}};function vo(e){this._internalRoot=e}vo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ws();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Lr.length&&n!==0&&n<Lr[r].priority;r++);Lr.splice(r,0,e),r===0&&Kb(e)}};var Pb=a.version;if(Pb!=="19.2.3")throw Error(s(527,Pb,"19.2.3"));P.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(n),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var TA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{it=yo.inject(TA),Ye=yo}catch{}}return bs.createRoot=function(e,n){if(!o(e))throw Error(s(299));var r=!1,l="",d=ix,y=sx,w=lx;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError)),n=Ub(e,1,!1,null,null,r,l,null,d,y,w,Jb),e[mr]=n.current,cf(e),new Af(n)},bs.hydrateRoot=function(e,n,r){if(!o(e))throw Error(s(299));var l=!1,d="",y=ix,w=sx,q=lx,V=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(q=r.onRecoverableError),r.formState!==void 0&&(V=r.formState)),n=Ub(e,1,!0,n,r??null,l,d,V,y,w,q,Jb),n.context=$b(null),r=n.current,l=Pt(),l=Ci(l),d=wr(l),d.callback=null,Nr(r,d,l),r=l,n.current.lanes=r,Qr(n,r),Dn(n),e[mr]=n.current,cf(e),new vo(n)},bs.version="19.2.3",bs}var o1;function zA(){if(o1)return qf.exports;o1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),qf.exports=OA(),qf.exports}var kA=zA();const qE=B.createContext(void 0),HA=({children:t})=>{const[a,i]=B.useState([]),s=B.useCallback((f,g,m,h)=>{const v={name:m,host:f,path:g,content:h,createdAt:Date.now()};i(x=>[...x,v]),console.log(`[FS] Wrote file: ${f}:${g}/${m}`)},[]),o=B.useCallback((f,g,m,h,v,x)=>{i(b=>b.map(S=>{if(S.name===f&&S.host===g&&S.path===m){const _=x||f;return console.log(`[FS] Moved file: ${f} from ${g}:${m} to ${h}:${v} as ${_}`),{...S,host:h,path:v,name:_}}return S}))},[]),u=B.useCallback((f,g,m)=>{i(h=>h.filter(v=>!(v.name===g&&v.host===f&&v.path===m))),console.log(`[FS] Deleted file: ${f}:${m}/${g}`)},[]),c=B.useCallback((f,g)=>a.filter(m=>m.host===f&&m.path===g),[a]);return p.jsx(qE.Provider,{value:{files:a,writeFile:s,moveFile:o,deleteFile:u,listFiles:c},children:t})},DE=()=>{const t=B.useContext(qE);if(!t)throw new Error("useFileSystem must be used within a FileSystemProvider");return t},OE=B.createContext(void 0),LA=({children:t})=>{const[a,i]=B.useState([]),s=B.useCallback((f,g)=>{const m={id:Math.random().toString(36).substring(7),data:g,table:f,insertedAt:Date.now()};i(h=>[...h,m]),console.log(`[DB] Inserted into ${f}:`,g)},[]),o=B.useCallback(f=>a.filter(g=>g.table===f),[a]),u=B.useCallback((f,g,m)=>{i(h=>h.map(v=>v.table===f&&v.id===g?{...v,data:{...v.data,...m}}:v)),console.log(`[DB] Updated record ${g} in ${f}:`,m)},[]),c=B.useCallback((f,g)=>{i(m=>m.filter(h=>!(h.table===f&&h.id===g))),console.log(`[DB] Deleted record ${g} from ${f}`)},[]);return p.jsx(OE.Provider,{value:{records:a,insert:s,select:o,update:u,remove:c},children:t})},zE=()=>{const t=B.useContext(OE);if(!t)throw new Error("useVirtualDB must be used within a VirtualDBProvider");return t},kE=t=>{try{return new RegExp(t),!0}catch{return!1}},HE=t=>{const a=[];return t.name.trim()||a.push({id:t.id,field:"name",message:"Name is required"}),t.host||a.push({id:t.id,field:"host",message:"Host is required"}),t.path||a.push({id:t.id,field:"path",message:"Path is required"}),a},LE=(t,a)=>{const i=[];return t.name.trim()||i.push({id:t.id,field:"name",message:"Name is required"}),t.dataSourceId||i.push({id:t.id,field:"dataSourceId",message:"Target Data Source is required"}),a.some(s=>s.id===t.dataSourceId)||i.push({id:t.id,field:"dataSourceId",message:"Invalid Data Source Reference"}),t.executionInterval<=0&&i.push({id:t.id,field:"executionInterval",message:"Interval must be > 0"}),t.fileNamePattern.trim()||i.push({id:t.id,field:"fileNamePattern",message:"File Name Pattern is required"}),t.mode==="schema"&&((t.rowCount??0)<=0&&i.push({id:t.id,field:"rowCount",message:"Row Count must be > 0"}),!t.schema||t.schema.length===0?i.push({id:t.id,field:"schema",message:"At least one column is required"}):t.schema.forEach(s=>{s.name.trim()||i.push({id:t.id,field:"schema",message:"Column Name is required"})})),i},BE=t=>{const a=[];return t.name.trim()||a.push({id:t.id,field:"name",message:"Name is required"}),t.sourceHost||a.push({id:t.id,field:"sourceHost",message:"Source Host is required"}),t.sourcePath||a.push({id:t.id,field:"sourcePath",message:"Source Path is required"}),t.targetType==="topic"?t.targetTopicId||a.push({id:t.id,field:"targetTopicId",message:"Target Topic is required"}):(t.targetHost||a.push({id:t.id,field:"targetHost",message:"Target Host is required"}),t.targetPath||a.push({id:t.id,field:"targetPath",message:"Target Path is required"})),t.bandwidth<=0&&a.push({id:t.id,field:"bandwidth",message:"Bandwidth must be > 0"}),t.executionInterval<=0&&a.push({id:t.id,field:"executionInterval",message:"Interval must be > 0"}),kE(t.filterRegex)||a.push({id:t.id,field:"filterRegex",message:"Invalid Regular Expression"}),a},UE=t=>{const a=[];return t.name.trim()||a.push({id:t.id,field:"name",message:"Name is required"}),t.sourceType==="topic"?t.sourceTopicId||a.push({id:t.id,field:"sourceTopicId",message:"Source Topic is required"}):(t.sourceHost||a.push({id:t.id,field:"sourceHost",message:"Source Host is required"}),t.sourcePath||a.push({id:t.id,field:"sourcePath",message:"Source Path is required"})),t.targetHost||a.push({id:t.id,field:"targetHost",message:"Target Host is required"}),t.targetPath||a.push({id:t.id,field:"targetPath",message:"Target Path is required"}),t.bandwidth<=0&&a.push({id:t.id,field:"bandwidth",message:"Bandwidth must be > 0"}),t.executionInterval<=0&&a.push({id:t.id,field:"executionInterval",message:"Interval must be > 0"}),t.processingTime<0&&a.push({id:t.id,field:"processingTime",message:"Latency cannot be negative"}),kE(t.filterRegex)||a.push({id:t.id,field:"filterRegex",message:"Invalid Regular Expression"}),a},BA=t=>{const a=[];return t.sourceHost||a.push({field:"sourceHost",message:"Source Host is required"}),t.sourcePath||a.push({field:"sourcePath",message:"Source Path is required"}),t.rawTableName.trim()||a.push({field:"rawTableName",message:"Raw Table Name is required"}),t.summaryTableName.trim()||a.push({field:"summaryTableName",message:"Summary Table Name is required"}),t.executionInterval<=0&&a.push({field:"executionInterval",message:"Interval must be > 0"}),t.processingTime<0&&a.push({field:"processingTime",message:"Processing Time cannot be negative"}),a},$E=t=>{const a=[];return t.name.trim()||a.push({id:t.id,field:"name",message:"Topic Name is required"}),t.retentionPeriod<0&&a.push({id:t.id,field:"retentionPeriod",message:"Retention Period cannot be negative"}),a},UA=(t,a,i,s,o)=>{let u=[];return t.definitions.forEach(c=>{u=[...u,...HE(c)]}),t.jobs.forEach(c=>{u=[...u,...LE(c,t.definitions)]}),a.processingTime<0&&u.push({field:"collection.processingTime",message:"Processing time cannot be negative"}),a.jobs.forEach(c=>{u=[...u,...BE(c)]}),i.jobs.forEach(c=>{u=[...u,...UE(c)]}),u=[...u,...BA(s)],o.forEach(c=>{u=[...u,...$E(c)]}),u},GE=B.createContext(void 0),$A=({children:t})=>{const[a,i]=B.useState({definitions:[{id:"ds_def_1",name:"Default Source Location",host:"host1",path:"/source"}],jobs:[{id:"gen_job_1",name:"Default Source Generator",dataSourceId:"ds_def_1",fileNamePattern:"${host}_data_${timestamp}.csv",fileContent:`col1,col2,col3
sample,data,123`,mode:"schema",rowCount:1,schema:[{id:"c_1",name:"id",type:"sequence",params:{start:1,step:1}},{id:"c_2",name:"value",type:"randomInt",params:{min:0,max:100}},{id:"c_3",name:"ts",type:"static",params:{value:"${timestamp}"}}],executionInterval:1e3,enabled:!0}]}),[s,o]=B.useState({jobs:[{id:"col_job_1",name:"Default Collection",sourceHost:"host1",sourcePath:"/source",filterRegex:".*",targetType:"host",targetHost:"localhost",targetPath:"/incoming",bandwidth:100,renamePattern:"${fileName}",executionInterval:1e3,enabled:!0}],processingTime:1e3}),[u,c]=B.useState({jobs:[{id:"del_job_1",name:"Default Delivery",sourceType:"host",sourceHost:"localhost",sourcePath:"/incoming",targetHost:"localhost",targetPath:"/internal",filterRegex:".*",bandwidth:100,processingTime:1e3,executionInterval:1e3,enabled:!0}]}),[f,g]=B.useState({sourceHost:"localhost",sourcePath:"/internal",rawTableName:"raw_data",summaryTableName:"summary_data",processingTime:1e3,executionInterval:1e3}),[m,h]=B.useState([{name:"host1",directories:["/source"]},{name:"host2",directories:["/source"]},{name:"localhost",directories:["/incoming","/internal"]}]),[v,x]=B.useState([{id:"topic_1",name:"SalesData",retentionPeriod:6e4}]),[b,S]=B.useState([{id:"tbl_raw",name:"raw_data",columns:[{name:"col1",type:"string"},{name:"col2",type:"string"},{name:"col3",type:"string"}]},{id:"tbl_summary",name:"summary_data",columns:[{name:"count",type:"number"},{name:"lastProcessedTimestamp",type:"number"},{name:"summary",type:"string"},{name:"timestamp",type:"number"}]}]),[_,N]=B.useState([{id:"conn_raw",name:"Raw Data Source (File)",type:"file",host:"localhost",path:"/internal"},{id:"conn_raw_db",name:"Raw Database",type:"database",tableName:"raw_data"},{id:"conn_summary_db",name:"Summary Database",type:"database",tableName:"summary_data"}]),[E,C]=B.useState([{id:"m_load_raw",name:"Load Raw Data",transformations:[{id:"t_src_raw",type:"source",name:"Read File",position:{x:0,y:0},config:{connectionId:"conn_raw",deleteAfterRead:!0}},{id:"t_tgt_raw",type:"target",name:"Write DB",position:{x:300,y:0},config:{connectionId:"conn_raw_db"}}],links:[{id:"l_1",sourceId:"t_src_raw",targetId:"t_tgt_raw"}]},{id:"m_agg_summary",name:"Aggregate Summary",transformations:[{id:"t_src_db",type:"source",name:"Read Raw",position:{x:0,y:0},config:{connectionId:"conn_raw_db"}},{id:"t_agg",type:"aggregator",name:"Count & Max",position:{x:200,y:0},config:{groupBy:[],aggregates:[{name:"count",function:"count",field:"id"},{name:"lastProcessedTimestamp",function:"max",field:"insertedAt"}]}},{id:"t_exp",type:"expression",name:"Add Meta",position:{x:400,y:0},config:{fields:[{name:"summary",expression:"'processed_batch'"},{name:"timestamp",expression:"Date.now()"}]}},{id:"t_tgt_sum",type:"target",name:"Write Summary",position:{x:600,y:0},config:{connectionId:"conn_summary_db"}}],links:[{id:"l_2",sourceId:"t_src_db",targetId:"t_agg"},{id:"l_3",sourceId:"t_agg",targetId:"t_exp"},{id:"l_4",sourceId:"t_exp",targetId:"t_tgt_sum"}]}]),[T,M]=B.useState([{id:"mt_raw",name:"Run Raw Load",mappingId:"m_load_raw",executionInterval:2e3,enabled:!0},{id:"mt_agg",name:"Run Aggregation",mappingId:"m_agg_summary",executionInterval:5e3,enabled:!0}]);B.useEffect(()=>{const re=localStorage.getItem("pipeline-simulator-settings");if(re)try{const te=JSON.parse(re);if(te.dataSource){if(te.dataSource.definitions&&te.dataSource.jobs)i(te.dataSource);else if(Array.isArray(te.dataSource.jobs)){const ge=[],ce=[];te.dataSource.jobs.forEach(Q=>{const ve=`ds_def_${Q.id}`;ge.push({id:ve,name:`${Q.name} Location`,host:Q.host,path:Q.sourcePath}),ce.push({id:Q.id,name:Q.name,dataSourceId:ve,fileNamePattern:Q.fileNamePattern,fileContent:Q.fileContent,mode:Q.mode||"template",rowCount:Q.rowCount||1,schema:Q.schema||[],executionInterval:Q.executionInterval,enabled:Q.enabled})}),i({definitions:ge,jobs:ce})}}if(te.collection){const ge=te.collection.jobs.map(ce=>({...ce,targetType:ce.targetType||"host"}));o({...te.collection,jobs:ge})}if(te.delivery){const ge=te.delivery.jobs.map(ce=>({...ce,sourceType:ce.sourceType||"host"}));c({...te.delivery,jobs:ge})}te.etl&&g(te.etl),te.hosts&&h(te.hosts),te.topics&&x(te.topics),te.tables&&S(te.tables),te.connections&&N(te.connections),te.mappings&&C(te.mappings),te.mappingTasks&&M(te.mappingTasks)}catch(te){console.error("Failed to parse settings",te)}},[]);const O=B.useCallback(()=>{const re=UA(a,s,u,f,v);if(re.length>0)return{success:!1,errors:re};const te={dataSource:a,collection:s,delivery:u,etl:f,hosts:m,topics:v,tables:b,connections:_,mappings:E,mappingTasks:T};try{return localStorage.setItem("pipeline-simulator-settings",JSON.stringify(te)),{success:!0}}catch(ge){return console.error("Failed to save settings",ge),{success:!1,errors:[{field:"storage",message:"Failed to save to local storage"}]}}},[a,s,u,f,m,v,_,E,T]),k=B.useCallback(re=>{h(te=>te.some(ge=>ge.name===re)?te:[...te,{name:re,directories:[]}])},[]),H=B.useCallback(re=>{h(te=>te.filter(ge=>ge.name!==re))},[]),$=B.useCallback((re,te)=>{h(ge=>ge.map(ce=>ce.name!==re||ce.directories.includes(te)?ce:{...ce,directories:[...ce.directories,te]}))},[]),U=B.useCallback((re,te)=>{h(ge=>ge.map(ce=>ce.name!==re?ce:{...ce,directories:ce.directories.filter(Q=>Q!==te)}))},[]),Y=B.useCallback((re,te)=>{x(ge=>[...ge,{id:`topic_${Date.now()}`,name:re,retentionPeriod:te}])},[]),Z=B.useCallback(re=>{x(te=>te.filter(ge=>ge.id!==re))},[]),K=B.useCallback((re,te,ge)=>{x(ce=>ce.map(Q=>Q.id===re?{...Q,name:te,retentionPeriod:ge}:Q))},[]),ae=B.useCallback(re=>{S(te=>[...te,{id:`tbl_${Date.now()}`,name:re,columns:[]}])},[]),L=B.useCallback(re=>{S(te=>te.filter(ge=>ge.id!==re))},[]),ee=B.useCallback((re,te,ge)=>{S(ce=>ce.map(Q=>Q.id!==re||Q.columns.some(ve=>ve.name===te)?Q:{...Q,columns:[...Q.columns,{name:te,type:ge}]}))},[]),z=B.useCallback((re,te)=>{S(ge=>ge.map(ce=>ce.id!==re?ce:{...ce,columns:ce.columns.filter(Q=>Q.name!==te)}))},[]),P=B.useCallback(re=>{N(te=>[...te,{...re,id:`conn_${Date.now()}`}])},[]),le=B.useCallback(re=>{N(te=>te.filter(ge=>ge.id!==re))},[]),W=B.useCallback((re,te)=>{N(ge=>ge.map(ce=>ce.id===re?{...ce,...te}:ce))},[]),X=B.useCallback(re=>{C(te=>[...te,re])},[]),D=B.useCallback(re=>{C(te=>te.filter(ge=>ge.id!==re))},[]),I=B.useCallback((re,te)=>{C(ge=>ge.map(ce=>ce.id===re?te:ce))},[]),A=B.useCallback(re=>{M(te=>[...te,re])},[]),j=B.useCallback(re=>{M(te=>te.filter(ge=>ge.id!==re))},[]),R=B.useCallback((re,te)=>{M(ge=>ge.map(ce=>ce.id===re?{...ce,...te}:ce))},[]),G=B.useCallback(re=>{const te=a.definitions.some(be=>be.host===re),ge=s.jobs.some(be=>be.sourceHost===re||be.targetType==="host"&&be.targetHost===re),ce=u.jobs.some(be=>be.sourceType==="host"&&be.sourceHost===re||be.targetHost===re),Q=f.sourceHost===re,ve=_.some(be=>be.type==="file"&&be.host===re);return te||ge||ce||Q||ve},[a,s,u,f,_]),F=B.useCallback((re,te)=>{const ge=a.definitions.some(pe=>pe.host===re&&pe.path===te),ce=s.jobs.some(pe=>pe.sourceHost===re&&pe.sourcePath===te||pe.targetType==="host"&&pe.targetHost===re&&pe.targetPath===te),Q=u.jobs.some(pe=>pe.sourceType==="host"&&pe.sourceHost===re&&pe.sourcePath===te||pe.targetHost===re&&pe.targetPath===te),ve=f.sourceHost===re&&f.sourcePath===te,be=_.some(pe=>pe.type==="file"&&pe.host===re&&pe.path===te);return ge||ce||Q||ve||be},[a,s,u,f,_]);return p.jsx(GE.Provider,{value:{dataSource:a,setDataSource:i,collection:s,setCollection:o,delivery:u,setDelivery:c,etl:f,setEtl:g,hosts:m,addHost:k,removeHost:H,addDirectory:$,removeDirectory:U,isHostInUse:G,isDirectoryInUse:F,topics:v,addTopic:Y,removeTopic:Z,updateTopic:K,tables:b,addTable:ae,removeTable:L,addColumn:ee,removeColumn:z,connections:_,addConnection:P,removeConnection:le,updateConnection:W,mappings:E,addMapping:X,removeMapping:D,updateMapping:I,mappingTasks:T,addMappingTask:A,removeMappingTask:j,updateMappingTask:R,saveSettings:O},children:t})},mn=()=>{const t=B.useContext(GE);if(t===void 0)throw new Error("useSettings must be used within a SettingsProvider");return t},IE=B.createContext(void 0),u1=200,GA=({children:t,retryJob:a})=>{const[i,s]=B.useState([]),o=B.useCallback(f=>{const g={...f,id:crypto.randomUUID()};s(m=>{const h=[g,...m];return h.length>u1?h.slice(0,u1):h})},[]),u=B.useCallback(()=>{s([])},[]),c=a||((f,g)=>console.warn(`Retry not implemented for ${g} job ${f}`));return p.jsx(IE.Provider,{value:{logs:i,addLog:o,clearLogs:u,retryJob:c},children:t})},VE=()=>{const t=B.useContext(IE);if(!t)throw new Error("useJobMonitor must be used within a JobMonitorProvider");return t};function kt(t){if(typeof t=="string"||typeof t=="number")return""+t;let a="";if(Array.isArray(t))for(let i=0,s;i<t.length;i++)(s=kt(t[i]))!==""&&(a+=(a&&" ")+s);else for(let i in t)t[i]&&(a+=(a&&" ")+i);return a}var kf={exports:{}},Hf={},Lf={exports:{}},Bf={};var c1;function IA(){if(c1)return Bf;c1=1;var t=Us();function a(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var i=typeof Object.is=="function"?Object.is:a,s=t.useState,o=t.useEffect,u=t.useLayoutEffect,c=t.useDebugValue;function f(v,x){var b=x(),S=s({inst:{value:b,getSnapshot:x}}),_=S[0].inst,N=S[1];return u(function(){_.value=b,_.getSnapshot=x,g(_)&&N({inst:_})},[v,b,x]),o(function(){return g(_)&&N({inst:_}),v(function(){g(_)&&N({inst:_})})},[v]),c(b),b}function g(v){var x=v.getSnapshot;v=v.value;try{var b=x();return!i(v,b)}catch{return!0}}function m(v,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return Bf.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Bf}var f1;function VA(){return f1||(f1=1,Lf.exports=IA()),Lf.exports}var d1;function YA(){if(d1)return Hf;d1=1;var t=Us(),a=VA();function i(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var s=typeof Object.is=="function"?Object.is:i,o=a.useSyncExternalStore,u=t.useRef,c=t.useEffect,f=t.useMemo,g=t.useDebugValue;return Hf.useSyncExternalStoreWithSelector=function(m,h,v,x,b){var S=u(null);if(S.current===null){var _={hasValue:!1,value:null};S.current=_}else _=S.current;S=f(function(){function E(k){if(!C){if(C=!0,T=k,k=x(k),b!==void 0&&_.hasValue){var H=_.value;if(b(H,k))return M=H}return M=k}if(H=M,s(T,k))return H;var $=x(k);return b!==void 0&&b(H,$)?(T=k,H):(T=k,M=$)}var C=!1,T,M,O=v===void 0?null:v;return[function(){return E(h())},O===null?void 0:function(){return E(O())}]},[h,v,x,b]);var N=o(m,S[0],S[1]);return c(function(){_.hasValue=!0,_.value=N},[N]),g(N),N},Hf}var h1;function FA(){return h1||(h1=1,kf.exports=YA()),kf.exports}var XA=FA();const KA=A0(XA),ZA={},m1=t=>{let a;const i=new Set,s=(h,v)=>{const x=typeof h=="function"?h(a):h;if(!Object.is(x,a)){const b=a;a=v??(typeof x!="object"||x===null)?x:Object.assign({},a,x),i.forEach(S=>S(a,b))}},o=()=>a,g={setState:s,getState:o,getInitialState:()=>m,subscribe:h=>(i.add(h),()=>i.delete(h)),destroy:()=>{(ZA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=a=t(s,o,g);return g},QA=t=>t?m1(t):m1,{useDebugValue:JA}=de,{useSyncExternalStoreWithSelector:PA}=KA,WA=t=>t;function YE(t,a=WA,i){const s=PA(t.subscribe,t.getState,t.getServerState||t.getInitialState,a,i);return JA(s),s}const g1=(t,a)=>{const i=QA(t),s=(o,u=a)=>YE(i,o,u);return Object.assign(s,i),s},e5=(t,a)=>t?g1(t,a):g1;function Mt(t,a){if(Object.is(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;if(t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(const[s,o]of t)if(!Object.is(o,a.get(s)))return!1;return!0}if(t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(const s of t)if(!a.has(s))return!1;return!0}const i=Object.keys(t);if(i.length!==Object.keys(a).length)return!1;for(const s of i)if(!Object.prototype.hasOwnProperty.call(a,s)||!Object.is(t[s],a[s]))return!1;return!0}var t5={value:()=>{}};function Xo(){for(var t=0,a=arguments.length,i={},s;t<a;++t){if(!(s=arguments[t]+"")||s in i||/[\s.]/.test(s))throw new Error("illegal type: "+s);i[s]=[]}return new Do(i)}function Do(t){this._=t}function n5(t,a){return t.trim().split(/^|\s+/).map(function(i){var s="",o=i.indexOf(".");if(o>=0&&(s=i.slice(o+1),i=i.slice(0,o)),i&&!a.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:s}})}Do.prototype=Xo.prototype={constructor:Do,on:function(t,a){var i=this._,s=n5(t+"",i),o,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((o=(t=s[u]).type)&&(o=r5(i[o],t.name)))return o;return}if(a!=null&&typeof a!="function")throw new Error("invalid callback: "+a);for(;++u<c;)if(o=(t=s[u]).type)i[o]=p1(i[o],t.name,a);else if(a==null)for(o in i)i[o]=p1(i[o],t.name,null);return this},copy:function(){var t={},a=this._;for(var i in a)t[i]=a[i].slice();return new Do(t)},call:function(t,a){if((o=arguments.length-2)>0)for(var i=new Array(o),s=0,o,u;s<o;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],s=0,o=u.length;s<o;++s)u[s].value.apply(a,i)},apply:function(t,a,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],o=0,u=s.length;o<u;++o)s[o].value.apply(a,i)}};function r5(t,a){for(var i=0,s=t.length,o;i<s;++i)if((o=t[i]).name===a)return o.value}function p1(t,a,i){for(var s=0,o=t.length;s<o;++s)if(t[s].name===a){t[s]=t5,t=t.slice(0,s).concat(t.slice(s+1));break}return i!=null&&t.push({name:a,value:i}),t}var d0="http://www.w3.org/1999/xhtml";const v1={svg:"http://www.w3.org/2000/svg",xhtml:d0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ko(t){var a=t+="",i=a.indexOf(":");return i>=0&&(a=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),v1.hasOwnProperty(a)?{space:v1[a],local:t}:t}function a5(t){return function(){var a=this.ownerDocument,i=this.namespaceURI;return i===d0&&a.documentElement.namespaceURI===d0?a.createElement(t):a.createElementNS(i,t)}}function i5(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function FE(t){var a=Ko(t);return(a.local?i5:a5)(a)}function s5(){}function M0(t){return t==null?s5:function(){return this.querySelector(t)}}function l5(t){typeof t!="function"&&(t=M0(t));for(var a=this._groups,i=a.length,s=new Array(i),o=0;o<i;++o)for(var u=a[o],c=u.length,f=s[o]=new Array(c),g,m,h=0;h<c;++h)(g=u[h])&&(m=t.call(g,g.__data__,h,u))&&("__data__"in g&&(m.__data__=g.__data__),f[h]=m);return new Wt(s,this._parents)}function o5(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function u5(){return[]}function XE(t){return t==null?u5:function(){return this.querySelectorAll(t)}}function c5(t){return function(){return o5(t.apply(this,arguments))}}function f5(t){typeof t=="function"?t=c5(t):t=XE(t);for(var a=this._groups,i=a.length,s=[],o=[],u=0;u<i;++u)for(var c=a[u],f=c.length,g,m=0;m<f;++m)(g=c[m])&&(s.push(t.call(g,g.__data__,m,c)),o.push(g));return new Wt(s,o)}function KE(t){return function(){return this.matches(t)}}function ZE(t){return function(a){return a.matches(t)}}var d5=Array.prototype.find;function h5(t){return function(){return d5.call(this.children,t)}}function m5(){return this.firstElementChild}function g5(t){return this.select(t==null?m5:h5(typeof t=="function"?t:ZE(t)))}var p5=Array.prototype.filter;function v5(){return Array.from(this.children)}function y5(t){return function(){return p5.call(this.children,t)}}function x5(t){return this.selectAll(t==null?v5:y5(typeof t=="function"?t:ZE(t)))}function b5(t){typeof t!="function"&&(t=KE(t));for(var a=this._groups,i=a.length,s=new Array(i),o=0;o<i;++o)for(var u=a[o],c=u.length,f=s[o]=[],g,m=0;m<c;++m)(g=u[m])&&t.call(g,g.__data__,m,u)&&f.push(g);return new Wt(s,this._parents)}function QE(t){return new Array(t.length)}function _5(){return new Wt(this._enter||this._groups.map(QE),this._parents)}function Ho(t,a){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=a}Ho.prototype={constructor:Ho,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,a){return this._parent.insertBefore(t,a)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function S5(t){return function(){return t}}function w5(t,a,i,s,o,u){for(var c=0,f,g=a.length,m=u.length;c<m;++c)(f=a[c])?(f.__data__=u[c],s[c]=f):i[c]=new Ho(t,u[c]);for(;c<g;++c)(f=a[c])&&(o[c]=f)}function N5(t,a,i,s,o,u,c){var f,g,m=new Map,h=a.length,v=u.length,x=new Array(h),b;for(f=0;f<h;++f)(g=a[f])&&(x[f]=b=c.call(g,g.__data__,f,a)+"",m.has(b)?o[f]=g:m.set(b,g));for(f=0;f<v;++f)b=c.call(t,u[f],f,u)+"",(g=m.get(b))?(s[f]=g,g.__data__=u[f],m.delete(b)):i[f]=new Ho(t,u[f]);for(f=0;f<h;++f)(g=a[f])&&m.get(x[f])===g&&(o[f]=g)}function E5(t){return t.__data__}function T5(t,a){if(!arguments.length)return Array.from(this,E5);var i=a?N5:w5,s=this._parents,o=this._groups;typeof t!="function"&&(t=S5(t));for(var u=o.length,c=new Array(u),f=new Array(u),g=new Array(u),m=0;m<u;++m){var h=s[m],v=o[m],x=v.length,b=C5(t.call(h,h&&h.__data__,m,s)),S=b.length,_=f[m]=new Array(S),N=c[m]=new Array(S),E=g[m]=new Array(x);i(h,v,_,N,E,b,a);for(var C=0,T=0,M,O;C<S;++C)if(M=_[C]){for(C>=T&&(T=C+1);!(O=N[T])&&++T<S;);M._next=O||null}}return c=new Wt(c,s),c._enter=f,c._exit=g,c}function C5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function j5(){return new Wt(this._exit||this._groups.map(QE),this._parents)}function A5(t,a,i){var s=this.enter(),o=this,u=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),a!=null&&(o=a(o),o&&(o=o.selection())),i==null?u.remove():i(u),s&&o?s.merge(o).order():o}function M5(t){for(var a=t.selection?t.selection():t,i=this._groups,s=a._groups,o=i.length,u=s.length,c=Math.min(o,u),f=new Array(o),g=0;g<c;++g)for(var m=i[g],h=s[g],v=m.length,x=f[g]=new Array(v),b,S=0;S<v;++S)(b=m[S]||h[S])&&(x[S]=b);for(;g<o;++g)f[g]=i[g];return new Wt(f,this._parents)}function R5(){for(var t=this._groups,a=-1,i=t.length;++a<i;)for(var s=t[a],o=s.length-1,u=s[o],c;--o>=0;)(c=s[o])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function q5(t){t||(t=D5);function a(v,x){return v&&x?t(v.__data__,x.__data__):!v-!x}for(var i=this._groups,s=i.length,o=new Array(s),u=0;u<s;++u){for(var c=i[u],f=c.length,g=o[u]=new Array(f),m,h=0;h<f;++h)(m=c[h])&&(g[h]=m);g.sort(a)}return new Wt(o,this._parents).order()}function D5(t,a){return t<a?-1:t>a?1:t>=a?0:NaN}function O5(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function z5(){return Array.from(this)}function k5(){for(var t=this._groups,a=0,i=t.length;a<i;++a)for(var s=t[a],o=0,u=s.length;o<u;++o){var c=s[o];if(c)return c}return null}function H5(){let t=0;for(const a of this)++t;return t}function L5(){return!this.node()}function B5(t){for(var a=this._groups,i=0,s=a.length;i<s;++i)for(var o=a[i],u=0,c=o.length,f;u<c;++u)(f=o[u])&&t.call(f,f.__data__,u,o);return this}function U5(t){return function(){this.removeAttribute(t)}}function $5(t){return function(){this.removeAttributeNS(t.space,t.local)}}function G5(t,a){return function(){this.setAttribute(t,a)}}function I5(t,a){return function(){this.setAttributeNS(t.space,t.local,a)}}function V5(t,a){return function(){var i=a.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function Y5(t,a){return function(){var i=a.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function F5(t,a){var i=Ko(t);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((a==null?i.local?$5:U5:typeof a=="function"?i.local?Y5:V5:i.local?I5:G5)(i,a))}function JE(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function X5(t){return function(){this.style.removeProperty(t)}}function K5(t,a,i){return function(){this.style.setProperty(t,a,i)}}function Z5(t,a,i){return function(){var s=a.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,i)}}function Q5(t,a,i){return arguments.length>1?this.each((a==null?X5:typeof a=="function"?Z5:K5)(t,a,i??"")):pi(this.node(),t)}function pi(t,a){return t.style.getPropertyValue(a)||JE(t).getComputedStyle(t,null).getPropertyValue(a)}function J5(t){return function(){delete this[t]}}function P5(t,a){return function(){this[t]=a}}function W5(t,a){return function(){var i=a.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function eM(t,a){return arguments.length>1?this.each((a==null?J5:typeof a=="function"?W5:P5)(t,a)):this.node()[t]}function PE(t){return t.trim().split(/^|\s+/)}function R0(t){return t.classList||new WE(t)}function WE(t){this._node=t,this._names=PE(t.getAttribute("class")||"")}WE.prototype={add:function(t){var a=this._names.indexOf(t);a<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var a=this._names.indexOf(t);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function eT(t,a){for(var i=R0(t),s=-1,o=a.length;++s<o;)i.add(a[s])}function tT(t,a){for(var i=R0(t),s=-1,o=a.length;++s<o;)i.remove(a[s])}function tM(t){return function(){eT(this,t)}}function nM(t){return function(){tT(this,t)}}function rM(t,a){return function(){(a.apply(this,arguments)?eT:tT)(this,t)}}function aM(t,a){var i=PE(t+"");if(arguments.length<2){for(var s=R0(this.node()),o=-1,u=i.length;++o<u;)if(!s.contains(i[o]))return!1;return!0}return this.each((typeof a=="function"?rM:a?tM:nM)(i,a))}function iM(){this.textContent=""}function sM(t){return function(){this.textContent=t}}function lM(t){return function(){var a=t.apply(this,arguments);this.textContent=a??""}}function oM(t){return arguments.length?this.each(t==null?iM:(typeof t=="function"?lM:sM)(t)):this.node().textContent}function uM(){this.innerHTML=""}function cM(t){return function(){this.innerHTML=t}}function fM(t){return function(){var a=t.apply(this,arguments);this.innerHTML=a??""}}function dM(t){return arguments.length?this.each(t==null?uM:(typeof t=="function"?fM:cM)(t)):this.node().innerHTML}function hM(){this.nextSibling&&this.parentNode.appendChild(this)}function mM(){return this.each(hM)}function gM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pM(){return this.each(gM)}function vM(t){var a=typeof t=="function"?t:FE(t);return this.select(function(){return this.appendChild(a.apply(this,arguments))})}function yM(){return null}function xM(t,a){var i=typeof t=="function"?t:FE(t),s=a==null?yM:typeof a=="function"?a:M0(a);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function bM(){var t=this.parentNode;t&&t.removeChild(this)}function _M(){return this.each(bM)}function SM(){var t=this.cloneNode(!1),a=this.parentNode;return a?a.insertBefore(t,this.nextSibling):t}function wM(){var t=this.cloneNode(!0),a=this.parentNode;return a?a.insertBefore(t,this.nextSibling):t}function NM(t){return this.select(t?wM:SM)}function EM(t){return arguments.length?this.property("__data__",t):this.node().__data__}function TM(t){return function(a){t.call(this,a,this.__data__)}}function CM(t){return t.trim().split(/^|\s+/).map(function(a){var i="",s=a.indexOf(".");return s>=0&&(i=a.slice(s+1),a=a.slice(0,s)),{type:a,name:i}})}function jM(t){return function(){var a=this.__on;if(a){for(var i=0,s=-1,o=a.length,u;i<o;++i)u=a[i],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):a[++s]=u;++s?a.length=s:delete this.__on}}}function AM(t,a,i){return function(){var s=this.__on,o,u=TM(a);if(s){for(var c=0,f=s.length;c<f;++c)if((o=s[c]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=i),o.value=a;return}}this.addEventListener(t.type,u,i),o={type:t.type,name:t.name,value:a,listener:u,options:i},s?s.push(o):this.__on=[o]}}function MM(t,a,i){var s=CM(t+""),o,u=s.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var g=0,m=f.length,h;g<m;++g)for(o=0,h=f[g];o<u;++o)if((c=s[o]).type===h.type&&c.name===h.name)return h.value}return}for(f=a?AM:jM,o=0;o<u;++o)this.each(f(s[o],a,i));return this}function nT(t,a,i){var s=JE(t),o=s.CustomEvent;typeof o=="function"?o=new o(a,i):(o=s.document.createEvent("Event"),i?(o.initEvent(a,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(a,!1,!1)),t.dispatchEvent(o)}function RM(t,a){return function(){return nT(this,t,a)}}function qM(t,a){return function(){return nT(this,t,a.apply(this,arguments))}}function DM(t,a){return this.each((typeof a=="function"?qM:RM)(t,a))}function*OM(){for(var t=this._groups,a=0,i=t.length;a<i;++a)for(var s=t[a],o=0,u=s.length,c;o<u;++o)(c=s[o])&&(yield c)}var rT=[null];function Wt(t,a){this._groups=t,this._parents=a}function $s(){return new Wt([[document.documentElement]],rT)}function zM(){return this}Wt.prototype=$s.prototype={constructor:Wt,select:l5,selectAll:f5,selectChild:g5,selectChildren:x5,filter:b5,data:T5,enter:_5,exit:j5,join:A5,merge:M5,selection:zM,order:R5,sort:q5,call:O5,nodes:z5,node:k5,size:H5,empty:L5,each:B5,attr:F5,style:Q5,property:eM,classed:aM,text:oM,html:dM,raise:mM,lower:pM,append:vM,insert:xM,remove:_M,clone:NM,datum:EM,on:MM,dispatch:DM,[Symbol.iterator]:OM};function Sn(t){return typeof t=="string"?new Wt([[document.querySelector(t)]],[document.documentElement]):new Wt([[t]],rT)}function kM(t){let a;for(;a=t.sourceEvent;)t=a;return t}function On(t,a){if(t=kM(t),a===void 0&&(a=t.currentTarget),a){var i=a.ownerSVGElement||a;if(i.createSVGPoint){var s=i.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,s=s.matrixTransform(a.getScreenCTM().inverse()),[s.x,s.y]}if(a.getBoundingClientRect){var o=a.getBoundingClientRect();return[t.clientX-o.left-a.clientLeft,t.clientY-o.top-a.clientTop]}}return[t.pageX,t.pageY]}const HM={passive:!1},qs={capture:!0,passive:!1};function Uf(t){t.stopImmediatePropagation()}function di(t){t.preventDefault(),t.stopImmediatePropagation()}function aT(t){var a=t.document.documentElement,i=Sn(t).on("dragstart.drag",di,qs);"onselectstart"in a?i.on("selectstart.drag",di,qs):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none")}function iT(t,a){var i=t.document.documentElement,s=Sn(t).on("dragstart.drag",null);a&&(s.on("click.drag",di,qs),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in i?s.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const bo=t=>()=>t;function h0(t,{sourceEvent:a,subject:i,target:s,identifier:o,active:u,x:c,y:f,dx:g,dy:m,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:h}})}h0.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function LM(t){return!t.ctrlKey&&!t.button}function BM(){return this.parentNode}function UM(t,a){return a??{x:t.x,y:t.y}}function $M(){return navigator.maxTouchPoints||"ontouchstart"in this}function GM(){var t=LM,a=BM,i=UM,s=$M,o={},u=Xo("start","drag","end"),c=0,f,g,m,h,v=0;function x(M){M.on("mousedown.drag",b).filter(s).on("touchstart.drag",N).on("touchmove.drag",E,HM).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(M,O){if(!(h||!t.call(this,M,O))){var k=T(this,a.call(this,M,O),M,O,"mouse");k&&(Sn(M.view).on("mousemove.drag",S,qs).on("mouseup.drag",_,qs),aT(M.view),Uf(M),m=!1,f=M.clientX,g=M.clientY,k("start",M))}}function S(M){if(di(M),!m){var O=M.clientX-f,k=M.clientY-g;m=O*O+k*k>v}o.mouse("drag",M)}function _(M){Sn(M.view).on("mousemove.drag mouseup.drag",null),iT(M.view,m),di(M),o.mouse("end",M)}function N(M,O){if(t.call(this,M,O)){var k=M.changedTouches,H=a.call(this,M,O),$=k.length,U,Y;for(U=0;U<$;++U)(Y=T(this,H,M,O,k[U].identifier,k[U]))&&(Uf(M),Y("start",M,k[U]))}}function E(M){var O=M.changedTouches,k=O.length,H,$;for(H=0;H<k;++H)($=o[O[H].identifier])&&(di(M),$("drag",M,O[H]))}function C(M){var O=M.changedTouches,k=O.length,H,$;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),H=0;H<k;++H)($=o[O[H].identifier])&&(Uf(M),$("end",M,O[H]))}function T(M,O,k,H,$,U){var Y=u.copy(),Z=On(U||k,O),K,ae,L;if((L=i.call(M,new h0("beforestart",{sourceEvent:k,target:x,identifier:$,active:c,x:Z[0],y:Z[1],dx:0,dy:0,dispatch:Y}),H))!=null)return K=L.x-Z[0]||0,ae=L.y-Z[1]||0,function ee(z,P,le){var W=Z,X;switch(z){case"start":o[$]=ee,X=c++;break;case"end":delete o[$],--c;case"drag":Z=On(le||P,O),X=c;break}Y.call(z,M,new h0(z,{sourceEvent:P,subject:L,target:x,identifier:$,active:X,x:Z[0]+K,y:Z[1]+ae,dx:Z[0]-W[0],dy:Z[1]-W[1],dispatch:Y}),H)}}return x.filter=function(M){return arguments.length?(t=typeof M=="function"?M:bo(!!M),x):t},x.container=function(M){return arguments.length?(a=typeof M=="function"?M:bo(M),x):a},x.subject=function(M){return arguments.length?(i=typeof M=="function"?M:bo(M),x):i},x.touchable=function(M){return arguments.length?(s=typeof M=="function"?M:bo(!!M),x):s},x.on=function(){var M=u.on.apply(u,arguments);return M===u?x:M},x.clickDistance=function(M){return arguments.length?(v=(M=+M)*M,x):Math.sqrt(v)},x}function q0(t,a,i){t.prototype=a.prototype=i,i.constructor=t}function sT(t,a){var i=Object.create(t.prototype);for(var s in a)i[s]=a[s];return i}function Gs(){}var Ds=.7,Lo=1/Ds,hi="\\s*([+-]?\\d+)\\s*",Os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IM=/^#([0-9a-f]{3,8})$/,VM=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),YM=new RegExp(`^rgb\\(${zn},${zn},${zn}\\)$`),FM=new RegExp(`^rgba\\(${hi},${hi},${hi},${Os}\\)$`),XM=new RegExp(`^rgba\\(${zn},${zn},${zn},${Os}\\)$`),KM=new RegExp(`^hsl\\(${Os},${zn},${zn}\\)$`),ZM=new RegExp(`^hsla\\(${Os},${zn},${zn},${Os}\\)$`),y1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};q0(Gs,zs,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:x1,formatHex:x1,formatHex8:QM,formatHsl:JM,formatRgb:b1,toString:b1});function x1(){return this.rgb().formatHex()}function QM(){return this.rgb().formatHex8()}function JM(){return lT(this).formatHsl()}function b1(){return this.rgb().formatRgb()}function zs(t){var a,i;return t=(t+"").trim().toLowerCase(),(a=IM.exec(t))?(i=a[1].length,a=parseInt(a[1],16),i===6?_1(a):i===3?new It(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):i===8?_o(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):i===4?_o(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=VM.exec(t))?new It(a[1],a[2],a[3],1):(a=YM.exec(t))?new It(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=FM.exec(t))?_o(a[1],a[2],a[3],a[4]):(a=XM.exec(t))?_o(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=KM.exec(t))?N1(a[1],a[2]/100,a[3]/100,1):(a=ZM.exec(t))?N1(a[1],a[2]/100,a[3]/100,a[4]):y1.hasOwnProperty(t)?_1(y1[t]):t==="transparent"?new It(NaN,NaN,NaN,0):null}function _1(t){return new It(t>>16&255,t>>8&255,t&255,1)}function _o(t,a,i,s){return s<=0&&(t=a=i=NaN),new It(t,a,i,s)}function PM(t){return t instanceof Gs||(t=zs(t)),t?(t=t.rgb(),new It(t.r,t.g,t.b,t.opacity)):new It}function m0(t,a,i,s){return arguments.length===1?PM(t):new It(t,a,i,s??1)}function It(t,a,i,s){this.r=+t,this.g=+a,this.b=+i,this.opacity=+s}q0(It,m0,sT(Gs,{brighter(t){return t=t==null?Lo:Math.pow(Lo,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ds:Math.pow(Ds,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new It(ya(this.r),ya(this.g),ya(this.b),Bo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S1,formatHex:S1,formatHex8:WM,formatRgb:w1,toString:w1}));function S1(){return`#${pa(this.r)}${pa(this.g)}${pa(this.b)}`}function WM(){return`#${pa(this.r)}${pa(this.g)}${pa(this.b)}${pa((isNaN(this.opacity)?1:this.opacity)*255)}`}function w1(){const t=Bo(this.opacity);return`${t===1?"rgb(":"rgba("}${ya(this.r)}, ${ya(this.g)}, ${ya(this.b)}${t===1?")":`, ${t})`}`}function Bo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ya(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pa(t){return t=ya(t),(t<16?"0":"")+t.toString(16)}function N1(t,a,i,s){return s<=0?t=a=i=NaN:i<=0||i>=1?t=a=NaN:a<=0&&(t=NaN),new wn(t,a,i,s)}function lT(t){if(t instanceof wn)return new wn(t.h,t.s,t.l,t.opacity);if(t instanceof Gs||(t=zs(t)),!t)return new wn;if(t instanceof wn)return t;t=t.rgb();var a=t.r/255,i=t.g/255,s=t.b/255,o=Math.min(a,i,s),u=Math.max(a,i,s),c=NaN,f=u-o,g=(u+o)/2;return f?(a===u?c=(i-s)/f+(i<s)*6:i===u?c=(s-a)/f+2:c=(a-i)/f+4,f/=g<.5?u+o:2-u-o,c*=60):f=g>0&&g<1?0:c,new wn(c,f,g,t.opacity)}function eR(t,a,i,s){return arguments.length===1?lT(t):new wn(t,a,i,s??1)}function wn(t,a,i,s){this.h=+t,this.s=+a,this.l=+i,this.opacity=+s}q0(wn,eR,sT(Gs,{brighter(t){return t=t==null?Lo:Math.pow(Lo,t),new wn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ds:Math.pow(Ds,t),new wn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,a=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*a,o=2*i-s;return new It($f(t>=240?t-240:t+120,o,s),$f(t,o,s),$f(t<120?t+240:t-120,o,s),this.opacity)},clamp(){return new wn(E1(this.h),So(this.s),So(this.l),Bo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bo(this.opacity);return`${t===1?"hsl(":"hsla("}${E1(this.h)}, ${So(this.s)*100}%, ${So(this.l)*100}%${t===1?")":`, ${t})`}`}}));function E1(t){return t=(t||0)%360,t<0?t+360:t}function So(t){return Math.max(0,Math.min(1,t||0))}function $f(t,a,i){return(t<60?a+(i-a)*t/60:t<180?i:t<240?a+(i-a)*(240-t)/60:a)*255}const oT=t=>()=>t;function tR(t,a){return function(i){return t+i*a}}function nR(t,a,i){return t=Math.pow(t,i),a=Math.pow(a,i)-t,i=1/i,function(s){return Math.pow(t+s*a,i)}}function rR(t){return(t=+t)==1?uT:function(a,i){return i-a?nR(a,i,t):oT(isNaN(a)?i:a)}}function uT(t,a){var i=a-t;return i?tR(t,i):oT(isNaN(t)?a:t)}const T1=(function t(a){var i=rR(a);function s(o,u){var c=i((o=m0(o)).r,(u=m0(u)).r),f=i(o.g,u.g),g=i(o.b,u.b),m=uT(o.opacity,u.opacity);return function(h){return o.r=c(h),o.g=f(h),o.b=g(h),o.opacity=m(h),o+""}}return s.gamma=t,s})(1);function $r(t,a){return t=+t,a=+a,function(i){return t*(1-i)+a*i}}var g0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gf=new RegExp(g0.source,"g");function aR(t){return function(){return t}}function iR(t){return function(a){return t(a)+""}}function sR(t,a){var i=g0.lastIndex=Gf.lastIndex=0,s,o,u,c=-1,f=[],g=[];for(t=t+"",a=a+"";(s=g0.exec(t))&&(o=Gf.exec(a));)(u=o.index)>i&&(u=a.slice(i,u),f[c]?f[c]+=u:f[++c]=u),(s=s[0])===(o=o[0])?f[c]?f[c]+=o:f[++c]=o:(f[++c]=null,g.push({i:c,x:$r(s,o)})),i=Gf.lastIndex;return i<a.length&&(u=a.slice(i),f[c]?f[c]+=u:f[++c]=u),f.length<2?g[0]?iR(g[0].x):aR(a):(a=g.length,function(m){for(var h=0,v;h<a;++h)f[(v=g[h]).i]=v.x(m);return f.join("")})}var C1=180/Math.PI,p0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cT(t,a,i,s,o,u){var c,f,g;return(c=Math.sqrt(t*t+a*a))&&(t/=c,a/=c),(g=t*i+a*s)&&(i-=t*g,s-=a*g),(f=Math.sqrt(i*i+s*s))&&(i/=f,s/=f,g/=f),t*s<a*i&&(t=-t,a=-a,g=-g,c=-c),{translateX:o,translateY:u,rotate:Math.atan2(a,t)*C1,skewX:Math.atan(g)*C1,scaleX:c,scaleY:f}}var wo;function lR(t){const a=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return a.isIdentity?p0:cT(a.a,a.b,a.c,a.d,a.e,a.f)}function oR(t){return t==null||(wo||(wo=document.createElementNS("http://www.w3.org/2000/svg","g")),wo.setAttribute("transform",t),!(t=wo.transform.baseVal.consolidate()))?p0:(t=t.matrix,cT(t.a,t.b,t.c,t.d,t.e,t.f))}function fT(t,a,i,s){function o(m){return m.length?m.pop()+" ":""}function u(m,h,v,x,b,S){if(m!==v||h!==x){var _=b.push("translate(",null,a,null,i);S.push({i:_-4,x:$r(m,v)},{i:_-2,x:$r(h,x)})}else(v||x)&&b.push("translate("+v+a+x+i)}function c(m,h,v,x){m!==h?(m-h>180?h+=360:h-m>180&&(m+=360),x.push({i:v.push(o(v)+"rotate(",null,s)-2,x:$r(m,h)})):h&&v.push(o(v)+"rotate("+h+s)}function f(m,h,v,x){m!==h?x.push({i:v.push(o(v)+"skewX(",null,s)-2,x:$r(m,h)}):h&&v.push(o(v)+"skewX("+h+s)}function g(m,h,v,x,b,S){if(m!==v||h!==x){var _=b.push(o(b)+"scale(",null,",",null,")");S.push({i:_-4,x:$r(m,v)},{i:_-2,x:$r(h,x)})}else(v!==1||x!==1)&&b.push(o(b)+"scale("+v+","+x+")")}return function(m,h){var v=[],x=[];return m=t(m),h=t(h),u(m.translateX,m.translateY,h.translateX,h.translateY,v,x),c(m.rotate,h.rotate,v,x),f(m.skewX,h.skewX,v,x),g(m.scaleX,m.scaleY,h.scaleX,h.scaleY,v,x),m=h=null,function(b){for(var S=-1,_=x.length,N;++S<_;)v[(N=x[S]).i]=N.x(b);return v.join("")}}}var uR=fT(lR,"px, ","px)","deg)"),cR=fT(oR,", ",")",")"),fR=1e-12;function j1(t){return((t=Math.exp(t))+1/t)/2}function dR(t){return((t=Math.exp(t))-1/t)/2}function hR(t){return((t=Math.exp(2*t))-1)/(t+1)}const mR=(function t(a,i,s){function o(u,c){var f=u[0],g=u[1],m=u[2],h=c[0],v=c[1],x=c[2],b=h-f,S=v-g,_=b*b+S*S,N,E;if(_<fR)E=Math.log(x/m)/a,N=function(H){return[f+H*b,g+H*S,m*Math.exp(a*H*E)]};else{var C=Math.sqrt(_),T=(x*x-m*m+s*_)/(2*m*i*C),M=(x*x-m*m-s*_)/(2*x*i*C),O=Math.log(Math.sqrt(T*T+1)-T),k=Math.log(Math.sqrt(M*M+1)-M);E=(k-O)/a,N=function(H){var $=H*E,U=j1(O),Y=m/(i*C)*(U*hR(a*$+O)-dR(O));return[f+Y*b,g+Y*S,m*U/j1(a*$+O)]}}return N.duration=E*1e3*a/Math.SQRT2,N}return o.rho=function(u){var c=Math.max(.001,+u),f=c*c,g=f*f;return t(c,f,g)},o})(Math.SQRT2,2,4);var vi=0,Ts=0,_s=0,dT=1e3,Uo,Cs,$o=0,xa=0,Zo=0,ks=typeof performance=="object"&&performance.now?performance:Date,hT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function D0(){return xa||(hT(gR),xa=ks.now()+Zo)}function gR(){xa=0}function Go(){this._call=this._time=this._next=null}Go.prototype=mT.prototype={constructor:Go,restart:function(t,a,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?D0():+i)+(a==null?0:+a),!this._next&&Cs!==this&&(Cs?Cs._next=this:Uo=this,Cs=this),this._call=t,this._time=i,v0()},stop:function(){this._call&&(this._call=null,this._time=1/0,v0())}};function mT(t,a,i){var s=new Go;return s.restart(t,a,i),s}function pR(){D0(),++vi;for(var t=Uo,a;t;)(a=xa-t._time)>=0&&t._call.call(void 0,a),t=t._next;--vi}function A1(){xa=($o=ks.now())+Zo,vi=Ts=0;try{pR()}finally{vi=0,yR(),xa=0}}function vR(){var t=ks.now(),a=t-$o;a>dT&&(Zo-=a,$o=t)}function yR(){for(var t,a=Uo,i,s=1/0;a;)a._call?(s>a._time&&(s=a._time),t=a,a=a._next):(i=a._next,a._next=null,a=t?t._next=i:Uo=i);Cs=t,v0(s)}function v0(t){if(!vi){Ts&&(Ts=clearTimeout(Ts));var a=t-xa;a>24?(t<1/0&&(Ts=setTimeout(A1,t-ks.now()-Zo)),_s&&(_s=clearInterval(_s))):(_s||($o=ks.now(),_s=setInterval(vR,dT)),vi=1,hT(A1))}}function M1(t,a,i){var s=new Go;return a=a==null?0:+a,s.restart(o=>{s.stop(),t(o+a)},a,i),s}var xR=Xo("start","end","cancel","interrupt"),bR=[],gT=0,R1=1,y0=2,Oo=3,q1=4,x0=5,zo=6;function Qo(t,a,i,s,o,u){var c=t.__transition;if(!c)t.__transition={};else if(i in c)return;_R(t,i,{name:a,index:s,group:o,on:xR,tween:bR,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:gT})}function O0(t,a){var i=Tn(t,a);if(i.state>gT)throw new Error("too late; already scheduled");return i}function Hn(t,a){var i=Tn(t,a);if(i.state>Oo)throw new Error("too late; already running");return i}function Tn(t,a){var i=t.__transition;if(!i||!(i=i[a]))throw new Error("transition not found");return i}function _R(t,a,i){var s=t.__transition,o;s[a]=i,i.timer=mT(u,0,i.time);function u(m){i.state=R1,i.timer.restart(c,i.delay,i.time),i.delay<=m&&c(m-i.delay)}function c(m){var h,v,x,b;if(i.state!==R1)return g();for(h in s)if(b=s[h],b.name===i.name){if(b.state===Oo)return M1(c);b.state===q1?(b.state=zo,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete s[h]):+h<a&&(b.state=zo,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete s[h])}if(M1(function(){i.state===Oo&&(i.state=q1,i.timer.restart(f,i.delay,i.time),f(m))}),i.state=y0,i.on.call("start",t,t.__data__,i.index,i.group),i.state===y0){for(i.state=Oo,o=new Array(x=i.tween.length),h=0,v=-1;h<x;++h)(b=i.tween[h].value.call(t,t.__data__,i.index,i.group))&&(o[++v]=b);o.length=v+1}}function f(m){for(var h=m<i.duration?i.ease.call(null,m/i.duration):(i.timer.restart(g),i.state=x0,1),v=-1,x=o.length;++v<x;)o[v].call(t,h);i.state===x0&&(i.on.call("end",t,t.__data__,i.index,i.group),g())}function g(){i.state=zo,i.timer.stop(),delete s[a];for(var m in s)return;delete t.__transition}}function ko(t,a){var i=t.__transition,s,o,u=!0,c;if(i){a=a==null?null:a+"";for(c in i){if((s=i[c]).name!==a){u=!1;continue}o=s.state>y0&&s.state<x0,s.state=zo,s.timer.stop(),s.on.call(o?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete i[c]}u&&delete t.__transition}}function SR(t){return this.each(function(){ko(this,t)})}function wR(t,a){var i,s;return function(){var o=Hn(this,t),u=o.tween;if(u!==i){s=i=u;for(var c=0,f=s.length;c<f;++c)if(s[c].name===a){s=s.slice(),s.splice(c,1);break}}o.tween=s}}function NR(t,a,i){var s,o;if(typeof i!="function")throw new Error;return function(){var u=Hn(this,t),c=u.tween;if(c!==s){o=(s=c).slice();for(var f={name:a,value:i},g=0,m=o.length;g<m;++g)if(o[g].name===a){o[g]=f;break}g===m&&o.push(f)}u.tween=o}}function ER(t,a){var i=this._id;if(t+="",arguments.length<2){for(var s=Tn(this.node(),i).tween,o=0,u=s.length,c;o<u;++o)if((c=s[o]).name===t)return c.value;return null}return this.each((a==null?wR:NR)(i,t,a))}function z0(t,a,i){var s=t._id;return t.each(function(){var o=Hn(this,s);(o.value||(o.value={}))[a]=i.apply(this,arguments)}),function(o){return Tn(o,s).value[a]}}function pT(t,a){var i;return(typeof a=="number"?$r:a instanceof zs?T1:(i=zs(a))?(a=i,T1):sR)(t,a)}function TR(t){return function(){this.removeAttribute(t)}}function CR(t){return function(){this.removeAttributeNS(t.space,t.local)}}function jR(t,a,i){var s,o=i+"",u;return function(){var c=this.getAttribute(t);return c===o?null:c===s?u:u=a(s=c,i)}}function AR(t,a,i){var s,o=i+"",u;return function(){var c=this.getAttributeNS(t.space,t.local);return c===o?null:c===s?u:u=a(s=c,i)}}function MR(t,a,i){var s,o,u;return function(){var c,f=i(this),g;return f==null?void this.removeAttribute(t):(c=this.getAttribute(t),g=f+"",c===g?null:c===s&&g===o?u:(o=g,u=a(s=c,f)))}}function RR(t,a,i){var s,o,u;return function(){var c,f=i(this),g;return f==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),g=f+"",c===g?null:c===s&&g===o?u:(o=g,u=a(s=c,f)))}}function qR(t,a){var i=Ko(t),s=i==="transform"?cR:pT;return this.attrTween(t,typeof a=="function"?(i.local?RR:MR)(i,s,z0(this,"attr."+t,a)):a==null?(i.local?CR:TR)(i):(i.local?AR:jR)(i,s,a))}function DR(t,a){return function(i){this.setAttribute(t,a.call(this,i))}}function OR(t,a){return function(i){this.setAttributeNS(t.space,t.local,a.call(this,i))}}function zR(t,a){var i,s;function o(){var u=a.apply(this,arguments);return u!==s&&(i=(s=u)&&OR(t,u)),i}return o._value=a,o}function kR(t,a){var i,s;function o(){var u=a.apply(this,arguments);return u!==s&&(i=(s=u)&&DR(t,u)),i}return o._value=a,o}function HR(t,a){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(a==null)return this.tween(i,null);if(typeof a!="function")throw new Error;var s=Ko(t);return this.tween(i,(s.local?zR:kR)(s,a))}function LR(t,a){return function(){O0(this,t).delay=+a.apply(this,arguments)}}function BR(t,a){return a=+a,function(){O0(this,t).delay=a}}function UR(t){var a=this._id;return arguments.length?this.each((typeof t=="function"?LR:BR)(a,t)):Tn(this.node(),a).delay}function $R(t,a){return function(){Hn(this,t).duration=+a.apply(this,arguments)}}function GR(t,a){return a=+a,function(){Hn(this,t).duration=a}}function IR(t){var a=this._id;return arguments.length?this.each((typeof t=="function"?$R:GR)(a,t)):Tn(this.node(),a).duration}function VR(t,a){if(typeof a!="function")throw new Error;return function(){Hn(this,t).ease=a}}function YR(t){var a=this._id;return arguments.length?this.each(VR(a,t)):Tn(this.node(),a).ease}function FR(t,a){return function(){var i=a.apply(this,arguments);if(typeof i!="function")throw new Error;Hn(this,t).ease=i}}function XR(t){if(typeof t!="function")throw new Error;return this.each(FR(this._id,t))}function KR(t){typeof t!="function"&&(t=KE(t));for(var a=this._groups,i=a.length,s=new Array(i),o=0;o<i;++o)for(var u=a[o],c=u.length,f=s[o]=[],g,m=0;m<c;++m)(g=u[m])&&t.call(g,g.__data__,m,u)&&f.push(g);return new ur(s,this._parents,this._name,this._id)}function ZR(t){if(t._id!==this._id)throw new Error;for(var a=this._groups,i=t._groups,s=a.length,o=i.length,u=Math.min(s,o),c=new Array(s),f=0;f<u;++f)for(var g=a[f],m=i[f],h=g.length,v=c[f]=new Array(h),x,b=0;b<h;++b)(x=g[b]||m[b])&&(v[b]=x);for(;f<s;++f)c[f]=a[f];return new ur(c,this._parents,this._name,this._id)}function QR(t){return(t+"").trim().split(/^|\s+/).every(function(a){var i=a.indexOf(".");return i>=0&&(a=a.slice(0,i)),!a||a==="start"})}function JR(t,a,i){var s,o,u=QR(a)?O0:Hn;return function(){var c=u(this,t),f=c.on;f!==s&&(o=(s=f).copy()).on(a,i),c.on=o}}function PR(t,a){var i=this._id;return arguments.length<2?Tn(this.node(),i).on.on(t):this.each(JR(i,t,a))}function WR(t){return function(){var a=this.parentNode;for(var i in this.__transition)if(+i!==t)return;a&&a.removeChild(this)}}function e4(){return this.on("end.remove",WR(this._id))}function t4(t){var a=this._name,i=this._id;typeof t!="function"&&(t=M0(t));for(var s=this._groups,o=s.length,u=new Array(o),c=0;c<o;++c)for(var f=s[c],g=f.length,m=u[c]=new Array(g),h,v,x=0;x<g;++x)(h=f[x])&&(v=t.call(h,h.__data__,x,f))&&("__data__"in h&&(v.__data__=h.__data__),m[x]=v,Qo(m[x],a,i,x,m,Tn(h,i)));return new ur(u,this._parents,a,i)}function n4(t){var a=this._name,i=this._id;typeof t!="function"&&(t=XE(t));for(var s=this._groups,o=s.length,u=[],c=[],f=0;f<o;++f)for(var g=s[f],m=g.length,h,v=0;v<m;++v)if(h=g[v]){for(var x=t.call(h,h.__data__,v,g),b,S=Tn(h,i),_=0,N=x.length;_<N;++_)(b=x[_])&&Qo(b,a,i,_,x,S);u.push(x),c.push(h)}return new ur(u,c,a,i)}var r4=$s.prototype.constructor;function a4(){return new r4(this._groups,this._parents)}function i4(t,a){var i,s,o;return function(){var u=pi(this,t),c=(this.style.removeProperty(t),pi(this,t));return u===c?null:u===i&&c===s?o:o=a(i=u,s=c)}}function vT(t){return function(){this.style.removeProperty(t)}}function s4(t,a,i){var s,o=i+"",u;return function(){var c=pi(this,t);return c===o?null:c===s?u:u=a(s=c,i)}}function l4(t,a,i){var s,o,u;return function(){var c=pi(this,t),f=i(this),g=f+"";return f==null&&(g=f=(this.style.removeProperty(t),pi(this,t))),c===g?null:c===s&&g===o?u:(o=g,u=a(s=c,f))}}function o4(t,a){var i,s,o,u="style."+a,c="end."+u,f;return function(){var g=Hn(this,t),m=g.on,h=g.value[u]==null?f||(f=vT(a)):void 0;(m!==i||o!==h)&&(s=(i=m).copy()).on(c,o=h),g.on=s}}function u4(t,a,i){var s=(t+="")=="transform"?uR:pT;return a==null?this.styleTween(t,i4(t,s)).on("end.style."+t,vT(t)):typeof a=="function"?this.styleTween(t,l4(t,s,z0(this,"style."+t,a))).each(o4(this._id,t)):this.styleTween(t,s4(t,s,a),i).on("end.style."+t,null)}function c4(t,a,i){return function(s){this.style.setProperty(t,a.call(this,s),i)}}function f4(t,a,i){var s,o;function u(){var c=a.apply(this,arguments);return c!==o&&(s=(o=c)&&c4(t,c,i)),s}return u._value=a,u}function d4(t,a,i){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(a==null)return this.tween(s,null);if(typeof a!="function")throw new Error;return this.tween(s,f4(t,a,i??""))}function h4(t){return function(){this.textContent=t}}function m4(t){return function(){var a=t(this);this.textContent=a??""}}function g4(t){return this.tween("text",typeof t=="function"?m4(z0(this,"text",t)):h4(t==null?"":t+""))}function p4(t){return function(a){this.textContent=t.call(this,a)}}function v4(t){var a,i;function s(){var o=t.apply(this,arguments);return o!==i&&(a=(i=o)&&p4(o)),a}return s._value=t,s}function y4(t){var a="text";if(arguments.length<1)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,v4(t))}function x4(){for(var t=this._name,a=this._id,i=yT(),s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],f=c.length,g,m=0;m<f;++m)if(g=c[m]){var h=Tn(g,a);Qo(g,t,i,m,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ur(s,this._parents,t,i)}function b4(){var t,a,i=this,s=i._id,o=i.size();return new Promise(function(u,c){var f={value:c},g={value:function(){--o===0&&u()}};i.each(function(){var m=Hn(this,s),h=m.on;h!==t&&(a=(t=h).copy(),a._.cancel.push(f),a._.interrupt.push(f),a._.end.push(g)),m.on=a}),o===0&&u()})}var _4=0;function ur(t,a,i,s){this._groups=t,this._parents=a,this._name=i,this._id=s}function yT(){return++_4}var lr=$s.prototype;ur.prototype={constructor:ur,select:t4,selectAll:n4,selectChild:lr.selectChild,selectChildren:lr.selectChildren,filter:KR,merge:ZR,selection:a4,transition:x4,call:lr.call,nodes:lr.nodes,node:lr.node,size:lr.size,empty:lr.empty,each:lr.each,on:PR,attr:qR,attrTween:HR,style:u4,styleTween:d4,text:g4,textTween:y4,remove:e4,tween:ER,delay:UR,duration:IR,ease:YR,easeVarying:XR,end:b4,[Symbol.iterator]:lr[Symbol.iterator]};function S4(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var w4={time:null,delay:0,duration:250,ease:S4};function N4(t,a){for(var i;!(i=t.__transition)||!(i=i[a]);)if(!(t=t.parentNode))throw new Error(`transition ${a} not found`);return i}function E4(t){var a,i;t instanceof ur?(a=t._id,t=t._name):(a=yT(),(i=w4).time=D0(),t=t==null?null:t+"");for(var s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],f=c.length,g,m=0;m<f;++m)(g=c[m])&&Qo(g,t,a,m,c,i||N4(g,a));return new ur(s,this._parents,t,a)}$s.prototype.interrupt=SR;$s.prototype.transition=E4;const No=t=>()=>t;function T4(t,{sourceEvent:a,target:i,transform:s,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:o}})}function or(t,a,i){this.k=t,this.x=a,this.y=i}or.prototype={constructor:or,scale:function(t){return t===1?this:new or(this.k*t,this.x,this.y)},translate:function(t,a){return t===0&a===0?this:new or(this.k,this.x+this.k*t,this.y+this.k*a)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Yr=new or(1,0,0);or.prototype;function If(t){t.stopImmediatePropagation()}function Ss(t){t.preventDefault(),t.stopImmediatePropagation()}function C4(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function j4(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function D1(){return this.__zoom||Yr}function A4(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function M4(){return navigator.maxTouchPoints||"ontouchstart"in this}function R4(t,a,i){var s=t.invertX(a[0][0])-i[0][0],o=t.invertX(a[1][0])-i[1][0],u=t.invertY(a[0][1])-i[0][1],c=t.invertY(a[1][1])-i[1][1];return t.translate(o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function q4(){var t=C4,a=j4,i=R4,s=A4,o=M4,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,g=mR,m=Xo("start","zoom","end"),h,v,x,b=500,S=150,_=0,N=10;function E(L){L.property("__zoom",D1).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",Y).filter(o).on("touchstart.zoom",Z).on("touchmove.zoom",K).on("touchend.zoom touchcancel.zoom",ae).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(L,ee,z,P){var le=L.selection?L.selection():L;le.property("__zoom",D1),L!==le?O(L,ee,z,P):le.interrupt().each(function(){k(this,arguments).event(P).start().zoom(null,typeof ee=="function"?ee.apply(this,arguments):ee).end()})},E.scaleBy=function(L,ee,z,P){E.scaleTo(L,function(){var le=this.__zoom.k,W=typeof ee=="function"?ee.apply(this,arguments):ee;return le*W},z,P)},E.scaleTo=function(L,ee,z,P){E.transform(L,function(){var le=a.apply(this,arguments),W=this.__zoom,X=z==null?M(le):typeof z=="function"?z.apply(this,arguments):z,D=W.invert(X),I=typeof ee=="function"?ee.apply(this,arguments):ee;return i(T(C(W,I),X,D),le,c)},z,P)},E.translateBy=function(L,ee,z,P){E.transform(L,function(){return i(this.__zoom.translate(typeof ee=="function"?ee.apply(this,arguments):ee,typeof z=="function"?z.apply(this,arguments):z),a.apply(this,arguments),c)},null,P)},E.translateTo=function(L,ee,z,P,le){E.transform(L,function(){var W=a.apply(this,arguments),X=this.__zoom,D=P==null?M(W):typeof P=="function"?P.apply(this,arguments):P;return i(Yr.translate(D[0],D[1]).scale(X.k).translate(typeof ee=="function"?-ee.apply(this,arguments):-ee,typeof z=="function"?-z.apply(this,arguments):-z),W,c)},P,le)};function C(L,ee){return ee=Math.max(u[0],Math.min(u[1],ee)),ee===L.k?L:new or(ee,L.x,L.y)}function T(L,ee,z){var P=ee[0]-z[0]*L.k,le=ee[1]-z[1]*L.k;return P===L.x&&le===L.y?L:new or(L.k,P,le)}function M(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function O(L,ee,z,P){L.on("start.zoom",function(){k(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(P).end()}).tween("zoom",function(){var le=this,W=arguments,X=k(le,W).event(P),D=a.apply(le,W),I=z==null?M(D):typeof z=="function"?z.apply(le,W):z,A=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),j=le.__zoom,R=typeof ee=="function"?ee.apply(le,W):ee,G=g(j.invert(I).concat(A/j.k),R.invert(I).concat(A/R.k));return function(F){if(F===1)F=R;else{var re=G(F),te=A/re[2];F=new or(te,I[0]-re[0]*te,I[1]-re[1]*te)}X.zoom(null,F)}})}function k(L,ee,z){return!z&&L.__zooming||new H(L,ee)}function H(L,ee){this.that=L,this.args=ee,this.active=0,this.sourceEvent=null,this.extent=a.apply(L,ee),this.taps=0}H.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,ee){return this.mouse&&L!=="mouse"&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var ee=Sn(this.that).datum();m.call(L,this.that,new T4(L,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:m}),ee)}};function $(L,...ee){if(!t.apply(this,arguments))return;var z=k(this,ee).event(L),P=this.__zoom,le=Math.max(u[0],Math.min(u[1],P.k*Math.pow(2,s.apply(this,arguments)))),W=On(L);if(z.wheel)(z.mouse[0][0]!==W[0]||z.mouse[0][1]!==W[1])&&(z.mouse[1]=P.invert(z.mouse[0]=W)),clearTimeout(z.wheel);else{if(P.k===le)return;z.mouse=[W,P.invert(W)],ko(this),z.start()}Ss(L),z.wheel=setTimeout(X,S),z.zoom("mouse",i(T(C(P,le),z.mouse[0],z.mouse[1]),z.extent,c));function X(){z.wheel=null,z.end()}}function U(L,...ee){if(x||!t.apply(this,arguments))return;var z=L.currentTarget,P=k(this,ee,!0).event(L),le=Sn(L.view).on("mousemove.zoom",I,!0).on("mouseup.zoom",A,!0),W=On(L,z),X=L.clientX,D=L.clientY;aT(L.view),If(L),P.mouse=[W,this.__zoom.invert(W)],ko(this),P.start();function I(j){if(Ss(j),!P.moved){var R=j.clientX-X,G=j.clientY-D;P.moved=R*R+G*G>_}P.event(j).zoom("mouse",i(T(P.that.__zoom,P.mouse[0]=On(j,z),P.mouse[1]),P.extent,c))}function A(j){le.on("mousemove.zoom mouseup.zoom",null),iT(j.view,P.moved),Ss(j),P.event(j).end()}}function Y(L,...ee){if(t.apply(this,arguments)){var z=this.__zoom,P=On(L.changedTouches?L.changedTouches[0]:L,this),le=z.invert(P),W=z.k*(L.shiftKey?.5:2),X=i(T(C(z,W),P,le),a.apply(this,ee),c);Ss(L),f>0?Sn(this).transition().duration(f).call(O,X,P,L):Sn(this).call(E.transform,X,P,L)}}function Z(L,...ee){if(t.apply(this,arguments)){var z=L.touches,P=z.length,le=k(this,ee,L.changedTouches.length===P).event(L),W,X,D,I;for(If(L),X=0;X<P;++X)D=z[X],I=On(D,this),I=[I,this.__zoom.invert(I),D.identifier],le.touch0?!le.touch1&&le.touch0[2]!==I[2]&&(le.touch1=I,le.taps=0):(le.touch0=I,W=!0,le.taps=1+!!h);h&&(h=clearTimeout(h)),W&&(le.taps<2&&(v=I[0],h=setTimeout(function(){h=null},b)),ko(this),le.start())}}function K(L,...ee){if(this.__zooming){var z=k(this,ee).event(L),P=L.changedTouches,le=P.length,W,X,D,I;for(Ss(L),W=0;W<le;++W)X=P[W],D=On(X,this),z.touch0&&z.touch0[2]===X.identifier?z.touch0[0]=D:z.touch1&&z.touch1[2]===X.identifier&&(z.touch1[0]=D);if(X=z.that.__zoom,z.touch1){var A=z.touch0[0],j=z.touch0[1],R=z.touch1[0],G=z.touch1[1],F=(F=R[0]-A[0])*F+(F=R[1]-A[1])*F,re=(re=G[0]-j[0])*re+(re=G[1]-j[1])*re;X=C(X,Math.sqrt(F/re)),D=[(A[0]+R[0])/2,(A[1]+R[1])/2],I=[(j[0]+G[0])/2,(j[1]+G[1])/2]}else if(z.touch0)D=z.touch0[0],I=z.touch0[1];else return;z.zoom("touch",i(T(X,D,I),z.extent,c))}}function ae(L,...ee){if(this.__zooming){var z=k(this,ee).event(L),P=L.changedTouches,le=P.length,W,X;for(If(L),x&&clearTimeout(x),x=setTimeout(function(){x=null},b),W=0;W<le;++W)X=P[W],z.touch0&&z.touch0[2]===X.identifier?delete z.touch0:z.touch1&&z.touch1[2]===X.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(X=On(X,this),Math.hypot(v[0]-X[0],v[1]-X[1])<N)){var D=Sn(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return E.wheelDelta=function(L){return arguments.length?(s=typeof L=="function"?L:No(+L),E):s},E.filter=function(L){return arguments.length?(t=typeof L=="function"?L:No(!!L),E):t},E.touchable=function(L){return arguments.length?(o=typeof L=="function"?L:No(!!L),E):o},E.extent=function(L){return arguments.length?(a=typeof L=="function"?L:No([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),E):a},E.scaleExtent=function(L){return arguments.length?(u[0]=+L[0],u[1]=+L[1],E):[u[0],u[1]]},E.translateExtent=function(L){return arguments.length?(c[0][0]=+L[0][0],c[1][0]=+L[1][0],c[0][1]=+L[0][1],c[1][1]=+L[1][1],E):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},E.constrain=function(L){return arguments.length?(i=L,E):i},E.duration=function(L){return arguments.length?(f=+L,E):f},E.interpolate=function(L){return arguments.length?(g=L,E):g},E.on=function(){var L=m.on.apply(m,arguments);return L===m?E:L},E.clickDistance=function(L){return arguments.length?(_=(L=+L)*L,E):Math.sqrt(_)},E.tapDistance=function(L){return arguments.length?(N=+L,E):N},E}RE();const Jo=B.createContext(null),D4=Jo.Provider,cr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,a)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?a.targetHandle:a.sourceHandle}", edge id: ${a.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},xT=cr.error001();function at(t,a){const i=B.useContext(Jo);if(i===null)throw new Error(xT);return YE(i,t,a)}const wt=()=>{const t=B.useContext(Jo);if(t===null)throw new Error(xT);return B.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},O4=t=>t.userSelectionActive?"none":"all";function Po({position:t,children:a,className:i,style:s,...o}){const u=at(O4),c=`${t}`.split("-");return de.createElement("div",{className:kt(["react-flow__panel",i,...c]),style:{...s,pointerEvents:u},...o},a)}function z4({proOptions:t,position:a="bottom-right"}){return t?.hideAttribution?null:de.createElement(Po,{position:a,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},de.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const k4=({x:t,y:a,label:i,labelStyle:s={},labelShowBg:o=!0,labelBgStyle:u={},labelBgPadding:c=[2,4],labelBgBorderRadius:f=2,children:g,className:m,...h})=>{const v=B.useRef(null),[x,b]=B.useState({x:0,y:0,width:0,height:0}),S=kt(["react-flow__edge-textwrapper",m]);return B.useEffect(()=>{if(v.current){const _=v.current.getBBox();b({x:_.x,y:_.y,width:_.width,height:_.height})}},[i]),typeof i>"u"||!i?null:de.createElement("g",{transform:`translate(${t-x.width/2} ${a-x.height/2})`,className:S,visibility:x.width?"visible":"hidden",...h},o&&de.createElement("rect",{width:x.width+2*c[0],x:-c[0],y:-c[1],height:x.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:f,ry:f}),de.createElement("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:v,style:s},i),g)};var H4=B.memo(k4);const k0=t=>({width:t.offsetWidth,height:t.offsetHeight}),yi=(t,a=0,i=1)=>Math.min(Math.max(t,a),i),H0=(t={x:0,y:0},a)=>({x:yi(t.x,a[0][0],a[1][0]),y:yi(t.y,a[0][1],a[1][1])}),O1=(t,a,i)=>t<a?yi(Math.abs(t-a),1,50)/50:t>i?-yi(Math.abs(t-i),1,50)/50:0,bT=(t,a)=>{const i=O1(t.x,35,a.width-35)*20,s=O1(t.y,35,a.height-35)*20;return[i,s]},_T=t=>t.getRootNode?.()||window?.document,L4=(t,a)=>({x:Math.min(t.x,a.x),y:Math.min(t.y,a.y),x2:Math.max(t.x2,a.x2),y2:Math.max(t.y2,a.y2)}),L0=({x:t,y:a,width:i,height:s})=>({x:t,y:a,x2:t+i,y2:a+s}),B4=({x:t,y:a,x2:i,y2:s})=>({x:t,y:a,width:i-t,height:s-a}),z1=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),b0=(t,a)=>{const i=Math.max(0,Math.min(t.x+t.width,a.x+a.width)-Math.max(t.x,a.x)),s=Math.max(0,Math.min(t.y+t.height,a.y+a.height)-Math.max(t.y,a.y));return Math.ceil(i*s)},U4=t=>hn(t.width)&&hn(t.height)&&hn(t.x)&&hn(t.y),hn=t=>!isNaN(t)&&isFinite(t),ot=Symbol.for("internals"),ST=["Enter"," ","Escape"],$4=(t,a)=>{},G4=t=>"nativeEvent"in t;function _0(t){const i=(G4(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(i?.nodeName)||i?.hasAttribute("contenteditable")||!!i?.closest(".nokey")}const wT=t=>"clientX"in t,Fr=(t,a)=>{const i=wT(t),s=i?t.clientX:t.touches?.[0].clientX,o=i?t.clientY:t.touches?.[0].clientY;return{x:s-(a?.left??0),y:o-(a?.top??0)}},Io=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Is=({id:t,path:a,labelX:i,labelY:s,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:m,style:h,markerEnd:v,markerStart:x,interactionWidth:b=20})=>de.createElement(de.Fragment,null,de.createElement("path",{id:t,style:h,d:a,fill:"none",className:"react-flow__edge-path",markerEnd:v,markerStart:x}),b&&de.createElement("path",{d:a,fill:"none",strokeOpacity:0,strokeWidth:b,className:"react-flow__edge-interaction"}),o&&hn(i)&&hn(s)?de.createElement(H4,{x:i,y:s,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:m}):null);Is.displayName="BaseEdge";function ws(t,a,i){return i===void 0?i:s=>{const o=a().edges.find(u=>u.id===t);o&&i(s,{...o})}}function NT({sourceX:t,sourceY:a,targetX:i,targetY:s}){const o=Math.abs(i-t)/2,u=i<t?i+o:i-o,c=Math.abs(s-a)/2,f=s<a?s+c:s-c;return[u,f,o,c]}function ET({sourceX:t,sourceY:a,targetX:i,targetY:s,sourceControlX:o,sourceControlY:u,targetControlX:c,targetControlY:f}){const g=t*.125+o*.375+c*.375+i*.125,m=a*.125+u*.375+f*.375+s*.125,h=Math.abs(g-t),v=Math.abs(m-a);return[g,m,h,v]}var ba;(function(t){t.Strict="strict",t.Loose="loose"})(ba||(ba={}));var va;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(va||(va={}));var Hs;(function(t){t.Partial="partial",t.Full="full"})(Hs||(Hs={}));var Ir;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Ir||(Ir={}));var Ls;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Ls||(Ls={}));var _e;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(_e||(_e={}));function k1({pos:t,x1:a,y1:i,x2:s,y2:o}){return t===_e.Left||t===_e.Right?[.5*(a+s),i]:[a,.5*(i+o)]}function TT({sourceX:t,sourceY:a,sourcePosition:i=_e.Bottom,targetX:s,targetY:o,targetPosition:u=_e.Top}){const[c,f]=k1({pos:i,x1:t,y1:a,x2:s,y2:o}),[g,m]=k1({pos:u,x1:s,y1:o,x2:t,y2:a}),[h,v,x,b]=ET({sourceX:t,sourceY:a,targetX:s,targetY:o,sourceControlX:c,sourceControlY:f,targetControlX:g,targetControlY:m});return[`M${t},${a} C${c},${f} ${g},${m} ${s},${o}`,h,v,x,b]}const B0=B.memo(({sourceX:t,sourceY:a,targetX:i,targetY:s,sourcePosition:o=_e.Bottom,targetPosition:u=_e.Top,label:c,labelStyle:f,labelShowBg:g,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:v,style:x,markerEnd:b,markerStart:S,interactionWidth:_})=>{const[N,E,C]=TT({sourceX:t,sourceY:a,sourcePosition:o,targetX:i,targetY:s,targetPosition:u});return de.createElement(Is,{path:N,labelX:E,labelY:C,label:c,labelStyle:f,labelShowBg:g,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:v,style:x,markerEnd:b,markerStart:S,interactionWidth:_})});B0.displayName="SimpleBezierEdge";const H1={[_e.Left]:{x:-1,y:0},[_e.Right]:{x:1,y:0},[_e.Top]:{x:0,y:-1},[_e.Bottom]:{x:0,y:1}},I4=({source:t,sourcePosition:a=_e.Bottom,target:i})=>a===_e.Left||a===_e.Right?t.x<i.x?{x:1,y:0}:{x:-1,y:0}:t.y<i.y?{x:0,y:1}:{x:0,y:-1},L1=(t,a)=>Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2));function V4({source:t,sourcePosition:a=_e.Bottom,target:i,targetPosition:s=_e.Top,center:o,offset:u}){const c=H1[a],f=H1[s],g={x:t.x+c.x*u,y:t.y+c.y*u},m={x:i.x+f.x*u,y:i.y+f.y*u},h=I4({source:g,sourcePosition:a,target:m}),v=h.x!==0?"x":"y",x=h[v];let b=[],S,_;const N={x:0,y:0},E={x:0,y:0},[C,T,M,O]=NT({sourceX:t.x,sourceY:t.y,targetX:i.x,targetY:i.y});if(c[v]*f[v]===-1){S=o.x??C,_=o.y??T;const H=[{x:S,y:g.y},{x:S,y:m.y}],$=[{x:g.x,y:_},{x:m.x,y:_}];c[v]===x?b=v==="x"?H:$:b=v==="x"?$:H}else{const H=[{x:g.x,y:m.y}],$=[{x:m.x,y:g.y}];if(v==="x"?b=c.x===x?$:H:b=c.y===x?H:$,a===s){const ae=Math.abs(t[v]-i[v]);if(ae<=u){const L=Math.min(u-1,u-ae);c[v]===x?N[v]=(g[v]>t[v]?-1:1)*L:E[v]=(m[v]>i[v]?-1:1)*L}}if(a!==s){const ae=v==="x"?"y":"x",L=c[v]===f[ae],ee=g[ae]>m[ae],z=g[ae]<m[ae];(c[v]===1&&(!L&&ee||L&&z)||c[v]!==1&&(!L&&z||L&&ee))&&(b=v==="x"?H:$)}const U={x:g.x+N.x,y:g.y+N.y},Y={x:m.x+E.x,y:m.y+E.y},Z=Math.max(Math.abs(U.x-b[0].x),Math.abs(Y.x-b[0].x)),K=Math.max(Math.abs(U.y-b[0].y),Math.abs(Y.y-b[0].y));Z>=K?(S=(U.x+Y.x)/2,_=b[0].y):(S=b[0].x,_=(U.y+Y.y)/2)}return[[t,{x:g.x+N.x,y:g.y+N.y},...b,{x:m.x+E.x,y:m.y+E.y},i],S,_,M,O]}function Y4(t,a,i,s){const o=Math.min(L1(t,a)/2,L1(a,i)/2,s),{x:u,y:c}=a;if(t.x===u&&u===i.x||t.y===c&&c===i.y)return`L${u} ${c}`;if(t.y===c){const m=t.x<i.x?-1:1,h=t.y<i.y?1:-1;return`L ${u+o*m},${c}Q ${u},${c} ${u},${c+o*h}`}const f=t.x<i.x?1:-1,g=t.y<i.y?-1:1;return`L ${u},${c+o*g}Q ${u},${c} ${u+o*f},${c}`}function S0({sourceX:t,sourceY:a,sourcePosition:i=_e.Bottom,targetX:s,targetY:o,targetPosition:u=_e.Top,borderRadius:c=5,centerX:f,centerY:g,offset:m=20}){const[h,v,x,b,S]=V4({source:{x:t,y:a},sourcePosition:i,target:{x:s,y:o},targetPosition:u,center:{x:f,y:g},offset:m});return[h.reduce((N,E,C)=>{let T="";return C>0&&C<h.length-1?T=Y4(h[C-1],E,h[C+1],c):T=`${C===0?"M":"L"}${E.x} ${E.y}`,N+=T,N},""),v,x,b,S]}const Wo=B.memo(({sourceX:t,sourceY:a,targetX:i,targetY:s,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:m,style:h,sourcePosition:v=_e.Bottom,targetPosition:x=_e.Top,markerEnd:b,markerStart:S,pathOptions:_,interactionWidth:N})=>{const[E,C,T]=S0({sourceX:t,sourceY:a,sourcePosition:v,targetX:i,targetY:s,targetPosition:x,borderRadius:_?.borderRadius,offset:_?.offset});return de.createElement(Is,{path:E,labelX:C,labelY:T,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:m,style:h,markerEnd:b,markerStart:S,interactionWidth:N})});Wo.displayName="SmoothStepEdge";const U0=B.memo(t=>de.createElement(Wo,{...t,pathOptions:B.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));U0.displayName="StepEdge";function F4({sourceX:t,sourceY:a,targetX:i,targetY:s}){const[o,u,c,f]=NT({sourceX:t,sourceY:a,targetX:i,targetY:s});return[`M ${t},${a}L ${i},${s}`,o,u,c,f]}const $0=B.memo(({sourceX:t,sourceY:a,targetX:i,targetY:s,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:m,style:h,markerEnd:v,markerStart:x,interactionWidth:b})=>{const[S,_,N]=F4({sourceX:t,sourceY:a,targetX:i,targetY:s});return de.createElement(Is,{path:S,labelX:_,labelY:N,label:o,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:m,style:h,markerEnd:v,markerStart:x,interactionWidth:b})});$0.displayName="StraightEdge";function Eo(t,a){return t>=0?.5*t:a*25*Math.sqrt(-t)}function B1({pos:t,x1:a,y1:i,x2:s,y2:o,c:u}){switch(t){case _e.Left:return[a-Eo(a-s,u),i];case _e.Right:return[a+Eo(s-a,u),i];case _e.Top:return[a,i-Eo(i-o,u)];case _e.Bottom:return[a,i+Eo(o-i,u)]}}function CT({sourceX:t,sourceY:a,sourcePosition:i=_e.Bottom,targetX:s,targetY:o,targetPosition:u=_e.Top,curvature:c=.25}){const[f,g]=B1({pos:i,x1:t,y1:a,x2:s,y2:o,c}),[m,h]=B1({pos:u,x1:s,y1:o,x2:t,y2:a,c}),[v,x,b,S]=ET({sourceX:t,sourceY:a,targetX:s,targetY:o,sourceControlX:f,sourceControlY:g,targetControlX:m,targetControlY:h});return[`M${t},${a} C${f},${g} ${m},${h} ${s},${o}`,v,x,b,S]}const Vo=B.memo(({sourceX:t,sourceY:a,targetX:i,targetY:s,sourcePosition:o=_e.Bottom,targetPosition:u=_e.Top,label:c,labelStyle:f,labelShowBg:g,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:v,style:x,markerEnd:b,markerStart:S,pathOptions:_,interactionWidth:N})=>{const[E,C,T]=CT({sourceX:t,sourceY:a,sourcePosition:o,targetX:i,targetY:s,targetPosition:u,curvature:_?.curvature});return de.createElement(Is,{path:E,labelX:C,labelY:T,label:c,labelStyle:f,labelShowBg:g,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:v,style:x,markerEnd:b,markerStart:S,interactionWidth:N})});Vo.displayName="BezierEdge";const G0=B.createContext(null),X4=G0.Provider;G0.Consumer;const K4=()=>B.useContext(G0),Z4=t=>"id"in t&&"source"in t&&"target"in t,Q4=({source:t,sourceHandle:a,target:i,targetHandle:s})=>`reactflow__edge-${t}${a||""}-${i}${s||""}`,w0=(t,a)=>typeof t>"u"?"":typeof t=="string"?t:`${a?`${a}__`:""}${Object.keys(t).sort().map(s=>`${s}=${t[s]}`).join("&")}`,J4=(t,a)=>a.some(i=>i.source===t.source&&i.target===t.target&&(i.sourceHandle===t.sourceHandle||!i.sourceHandle&&!t.sourceHandle)&&(i.targetHandle===t.targetHandle||!i.targetHandle&&!t.targetHandle)),P4=(t,a)=>{if(!t.source||!t.target)return a;let i;return Z4(t)?i={...t}:i={...t,id:Q4(t)},J4(i,a)?a:a.concat(i)},N0=({x:t,y:a},[i,s,o],u,[c,f])=>{const g={x:(t-i)/o,y:(a-s)/o};return u?{x:c*Math.round(g.x/c),y:f*Math.round(g.y/f)}:g},jT=({x:t,y:a},[i,s,o])=>({x:t*o+i,y:a*o+s}),mi=(t,a=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const i=(t.width??0)*a[0],s=(t.height??0)*a[1],o={x:t.position.x-i,y:t.position.y-s};return{...o,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-i,y:t.positionAbsolute.y-s}:o}},I0=(t,a=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const i=t.reduce((s,o)=>{const{x:u,y:c}=mi(o,a).positionAbsolute;return L4(s,L0({x:u,y:c,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return B4(i)},AT=(t,a,[i,s,o]=[0,0,1],u=!1,c=!1,f=[0,0])=>{const g={x:(a.x-i)/o,y:(a.y-s)/o,width:a.width/o,height:a.height/o},m=[];return t.forEach(h=>{const{width:v,height:x,selectable:b=!0,hidden:S=!1}=h;if(c&&!b||S)return!1;const{positionAbsolute:_}=mi(h,f),N={x:_.x,y:_.y,width:v||0,height:x||0},E=b0(g,N),C=typeof v>"u"||typeof x>"u"||v===null||x===null,T=u&&E>0,M=(v||0)*(x||0);(C||T||E>=M||h.dragging)&&m.push(h)}),m},MT=(t,a)=>{const i=t.map(s=>s.id);return a.filter(s=>i.includes(s.source)||i.includes(s.target))},RT=(t,a,i,s,o,u=.1)=>{const c=a/(t.width*(1+u)),f=i/(t.height*(1+u)),g=Math.min(c,f),m=yi(g,s,o),h=t.x+t.width/2,v=t.y+t.height/2,x=a/2-h*m,b=i/2-v*m;return{x,y:b,zoom:m}},ga=(t,a=0)=>t.transition().duration(a);function U1(t,a,i,s){return(a[i]||[]).reduce((o,u)=>(`${t.id}-${u.id}-${i}`!==s&&o.push({id:u.id||null,type:i,nodeId:t.id,x:(t.positionAbsolute?.x??0)+u.x+u.width/2,y:(t.positionAbsolute?.y??0)+u.y+u.height/2}),o),[])}function W4(t,a,i,s,o,u){const{x:c,y:f}=Fr(t),m=a.elementsFromPoint(c,f).find(S=>S.classList.contains("react-flow__handle"));if(m){const S=m.getAttribute("data-nodeid");if(S){const _=V0(void 0,m),N=m.getAttribute("data-handleid"),E=u({nodeId:S,id:N,type:_});if(E){const C=o.find(T=>T.nodeId===S&&T.type===_&&T.id===N);return{handle:{id:N,type:_,nodeId:S,x:C?.x||i.x,y:C?.y||i.y},validHandleResult:E}}}}let h=[],v=1/0;if(o.forEach(S=>{const _=Math.sqrt((S.x-i.x)**2+(S.y-i.y)**2);if(_<=s){const N=u(S);_<=v&&(_<v?h=[{handle:S,validHandleResult:N}]:_===v&&h.push({handle:S,validHandleResult:N}),v=_)}}),!h.length)return{handle:null,validHandleResult:qT()};if(h.length===1)return h[0];const x=h.some(({validHandleResult:S})=>S.isValid),b=h.some(({handle:S})=>S.type==="target");return h.find(({handle:S,validHandleResult:_})=>b?S.type==="target":x?_.isValid:!0)||h[0]}const eq={source:null,target:null,sourceHandle:null,targetHandle:null},qT=()=>({handleDomNode:null,isValid:!1,connection:eq,endHandle:null});function DT(t,a,i,s,o,u,c){const f=o==="target",g=c.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),m={...qT(),handleDomNode:g};if(g){const h=V0(void 0,g),v=g.getAttribute("data-nodeid"),x=g.getAttribute("data-handleid"),b=g.classList.contains("connectable"),S=g.classList.contains("connectableend"),_={source:f?v:i,sourceHandle:f?x:s,target:f?i:v,targetHandle:f?s:x};m.connection=_,b&&S&&(a===ba.Strict?f&&h==="source"||!f&&h==="target":v!==i||x!==s)&&(m.endHandle={nodeId:v,handleId:x,type:h},m.isValid=u(_))}return m}function tq({nodes:t,nodeId:a,handleId:i,handleType:s}){return t.reduce((o,u)=>{if(u[ot]){const{handleBounds:c}=u[ot];let f=[],g=[];c&&(f=U1(u,c,"source",`${a}-${i}-${s}`),g=U1(u,c,"target",`${a}-${i}-${s}`)),o.push(...f,...g)}return o},[])}function V0(t,a){return t||(a?.classList.contains("target")?"target":a?.classList.contains("source")?"source":null)}function Vf(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function nq(t,a){let i=null;return a?i="valid":t&&!a&&(i="invalid"),i}function OT({event:t,handleId:a,nodeId:i,onConnect:s,isTarget:o,getState:u,setState:c,isValidConnection:f,edgeUpdaterType:g,onReconnectEnd:m}){const h=_T(t.target),{connectionMode:v,domNode:x,autoPanOnConnect:b,connectionRadius:S,onConnectStart:_,panBy:N,getNodes:E,cancelConnection:C}=u();let T=0,M;const{x:O,y:k}=Fr(t),H=h?.elementFromPoint(O,k),$=V0(g,H),U=x?.getBoundingClientRect();if(!U||!$)return;let Y,Z=Fr(t,U),K=!1,ae=null,L=!1,ee=null;const z=tq({nodes:E(),nodeId:i,handleId:a,handleType:$}),P=()=>{if(!b)return;const[X,D]=bT(Z,U);N({x:X,y:D}),T=requestAnimationFrame(P)};c({connectionPosition:Z,connectionStatus:null,connectionNodeId:i,connectionHandleId:a,connectionHandleType:$,connectionStartHandle:{nodeId:i,handleId:a,type:$},connectionEndHandle:null}),_?.(t,{nodeId:i,handleId:a,handleType:$});function le(X){const{transform:D}=u();Z=Fr(X,U);const{handle:I,validHandleResult:A}=W4(X,h,N0(Z,D,!1,[1,1]),S,z,j=>DT(j,v,i,a,o?"target":"source",f,h));if(M=I,K||(P(),K=!0),ee=A.handleDomNode,ae=A.connection,L=A.isValid,c({connectionPosition:M&&L?jT({x:M.x,y:M.y},D):Z,connectionStatus:nq(!!M,L),connectionEndHandle:A.endHandle}),!M&&!L&&!ee)return Vf(Y);ae.source!==ae.target&&ee&&(Vf(Y),Y=ee,ee.classList.add("connecting","react-flow__handle-connecting"),ee.classList.toggle("valid",L),ee.classList.toggle("react-flow__handle-valid",L))}function W(X){(M||ee)&&ae&&L&&s?.(ae),u().onConnectEnd?.(X),g&&m?.(X),Vf(Y),C(),cancelAnimationFrame(T),K=!1,L=!1,ae=null,ee=null,h.removeEventListener("mousemove",le),h.removeEventListener("mouseup",W),h.removeEventListener("touchmove",le),h.removeEventListener("touchend",W)}h.addEventListener("mousemove",le),h.addEventListener("mouseup",W),h.addEventListener("touchmove",le),h.addEventListener("touchend",W)}const $1=()=>!0,rq=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),aq=(t,a,i)=>s=>{const{connectionStartHandle:o,connectionEndHandle:u,connectionClickStartHandle:c}=s;return{connecting:o?.nodeId===t&&o?.handleId===a&&o?.type===i||u?.nodeId===t&&u?.handleId===a&&u?.type===i,clickConnecting:c?.nodeId===t&&c?.handleId===a&&c?.type===i}},zT=B.forwardRef(({type:t="source",position:a=_e.Top,isValidConnection:i,isConnectable:s=!0,isConnectableStart:o=!0,isConnectableEnd:u=!0,id:c,onConnect:f,children:g,className:m,onMouseDown:h,onTouchStart:v,...x},b)=>{const S=c||null,_=t==="target",N=wt(),E=K4(),{connectOnClick:C,noPanClassName:T}=at(rq,Mt),{connecting:M,clickConnecting:O}=at(aq(E,S,t),Mt);E||N.getState().onError?.("010",cr.error010());const k=U=>{const{defaultEdgeOptions:Y,onConnect:Z,hasDefaultEdges:K}=N.getState(),ae={...Y,...U};if(K){const{edges:L,setEdges:ee}=N.getState();ee(P4(ae,L))}Z?.(ae),f?.(ae)},H=U=>{if(!E)return;const Y=wT(U);o&&(Y&&U.button===0||!Y)&&OT({event:U,handleId:S,nodeId:E,onConnect:k,isTarget:_,getState:N.getState,setState:N.setState,isValidConnection:i||N.getState().isValidConnection||$1}),Y?h?.(U):v?.(U)},$=U=>{const{onClickConnectStart:Y,onClickConnectEnd:Z,connectionClickStartHandle:K,connectionMode:ae,isValidConnection:L}=N.getState();if(!E||!K&&!o)return;if(!K){Y?.(U,{nodeId:E,handleId:S,handleType:t}),N.setState({connectionClickStartHandle:{nodeId:E,type:t,handleId:S}});return}const ee=_T(U.target),z=i||L||$1,{connection:P,isValid:le}=DT({nodeId:E,id:S,type:t},ae,K.nodeId,K.handleId||null,K.type,z,ee);le&&k(P),Z?.(U),N.setState({connectionClickStartHandle:null})};return de.createElement("div",{"data-handleid":S,"data-nodeid":E,"data-handlepos":a,"data-id":`${E}-${S}-${t}`,className:kt(["react-flow__handle",`react-flow__handle-${a}`,"nodrag",T,m,{source:!_,target:_,connectable:s,connectablestart:o,connectableend:u,connecting:O,connectionindicator:s&&(o&&!M||u&&M)}]),onMouseDown:H,onTouchStart:H,onClick:C?$:void 0,ref:b,...x},g)});zT.displayName="Handle";var kn=B.memo(zT);const kT=({data:t,isConnectable:a,targetPosition:i=_e.Top,sourcePosition:s=_e.Bottom})=>de.createElement(de.Fragment,null,de.createElement(kn,{type:"target",position:i,isConnectable:a}),t?.label,de.createElement(kn,{type:"source",position:s,isConnectable:a}));kT.displayName="DefaultNode";var E0=B.memo(kT);const HT=({data:t,isConnectable:a,sourcePosition:i=_e.Bottom})=>de.createElement(de.Fragment,null,t?.label,de.createElement(kn,{type:"source",position:i,isConnectable:a}));HT.displayName="InputNode";var LT=B.memo(HT);const BT=({data:t,isConnectable:a,targetPosition:i=_e.Top})=>de.createElement(de.Fragment,null,de.createElement(kn,{type:"target",position:i,isConnectable:a}),t?.label);BT.displayName="OutputNode";var UT=B.memo(BT);const Y0=()=>null;Y0.displayName="GroupNode";const iq=t=>({selectedNodes:t.getNodes().filter(a=>a.selected),selectedEdges:t.edges.filter(a=>a.selected).map(a=>({...a}))}),To=t=>t.id;function sq(t,a){return Mt(t.selectedNodes.map(To),a.selectedNodes.map(To))&&Mt(t.selectedEdges.map(To),a.selectedEdges.map(To))}const $T=B.memo(({onSelectionChange:t})=>{const a=wt(),{selectedNodes:i,selectedEdges:s}=at(iq,sq);return B.useEffect(()=>{const o={nodes:i,edges:s};t?.(o),a.getState().onSelectionChange.forEach(u=>u(o))},[i,s,t]),null});$T.displayName="SelectionListener";const lq=t=>!!t.onSelectionChange;function oq({onSelectionChange:t}){const a=at(lq);return t||a?de.createElement($T,{onSelectionChange:t}):null}const uq=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function si(t,a){B.useEffect(()=>{typeof t<"u"&&a(t)},[t])}function De(t,a,i){B.useEffect(()=>{typeof a<"u"&&i({[t]:a})},[a])}const cq=({nodes:t,edges:a,defaultNodes:i,defaultEdges:s,onConnect:o,onConnectStart:u,onConnectEnd:c,onClickConnectStart:f,onClickConnectEnd:g,nodesDraggable:m,nodesConnectable:h,nodesFocusable:v,edgesFocusable:x,edgesUpdatable:b,elevateNodesOnSelect:S,minZoom:_,maxZoom:N,nodeExtent:E,onNodesChange:C,onEdgesChange:T,elementsSelectable:M,connectionMode:O,snapGrid:k,snapToGrid:H,translateExtent:$,connectOnClick:U,defaultEdgeOptions:Y,fitView:Z,fitViewOptions:K,onNodesDelete:ae,onEdgesDelete:L,onNodeDrag:ee,onNodeDragStart:z,onNodeDragStop:P,onSelectionDrag:le,onSelectionDragStart:W,onSelectionDragStop:X,noPanClassName:D,nodeOrigin:I,rfId:A,autoPanOnConnect:j,autoPanOnNodeDrag:R,onError:G,connectionRadius:F,isValidConnection:re,nodeDragThreshold:te})=>{const{setNodes:ge,setEdges:ce,setDefaultNodesAndEdges:Q,setMinZoom:ve,setMaxZoom:be,setTranslateExtent:pe,setNodeExtent:Ce,reset:ye}=at(uq,Mt),xe=wt();return B.useEffect(()=>{const qe=s?.map(Je=>({...Je,...Y}));return Q(i,qe),()=>{ye()}},[]),De("defaultEdgeOptions",Y,xe.setState),De("connectionMode",O,xe.setState),De("onConnect",o,xe.setState),De("onConnectStart",u,xe.setState),De("onConnectEnd",c,xe.setState),De("onClickConnectStart",f,xe.setState),De("onClickConnectEnd",g,xe.setState),De("nodesDraggable",m,xe.setState),De("nodesConnectable",h,xe.setState),De("nodesFocusable",v,xe.setState),De("edgesFocusable",x,xe.setState),De("edgesUpdatable",b,xe.setState),De("elementsSelectable",M,xe.setState),De("elevateNodesOnSelect",S,xe.setState),De("snapToGrid",H,xe.setState),De("snapGrid",k,xe.setState),De("onNodesChange",C,xe.setState),De("onEdgesChange",T,xe.setState),De("connectOnClick",U,xe.setState),De("fitViewOnInit",Z,xe.setState),De("fitViewOnInitOptions",K,xe.setState),De("onNodesDelete",ae,xe.setState),De("onEdgesDelete",L,xe.setState),De("onNodeDrag",ee,xe.setState),De("onNodeDragStart",z,xe.setState),De("onNodeDragStop",P,xe.setState),De("onSelectionDrag",le,xe.setState),De("onSelectionDragStart",W,xe.setState),De("onSelectionDragStop",X,xe.setState),De("noPanClassName",D,xe.setState),De("nodeOrigin",I,xe.setState),De("rfId",A,xe.setState),De("autoPanOnConnect",j,xe.setState),De("autoPanOnNodeDrag",R,xe.setState),De("onError",G,xe.setState),De("connectionRadius",F,xe.setState),De("isValidConnection",re,xe.setState),De("nodeDragThreshold",te,xe.setState),si(t,ge),si(a,ce),si(_,ve),si(N,be),si($,pe),si(E,Ce),null},G1={display:"none"},fq={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},GT="react-flow__node-desc",IT="react-flow__edge-desc",dq="react-flow__aria-live",hq=t=>t.ariaLiveMessage;function mq({rfId:t}){const a=at(hq);return de.createElement("div",{id:`${dq}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:fq},a)}function gq({rfId:t,disableKeyboardA11y:a}){return de.createElement(de.Fragment,null,de.createElement("div",{id:`${GT}-${t}`,style:G1},"Press enter or space to select a node.",!a&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),de.createElement("div",{id:`${IT}-${t}`,style:G1},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!a&&de.createElement(mq,{rfId:t}))}var Bs=(t=null,a={actInsideInputWithModifier:!0})=>{const[i,s]=B.useState(!1),o=B.useRef(!1),u=B.useRef(new Set([])),[c,f]=B.useMemo(()=>{if(t!==null){const m=(Array.isArray(t)?t:[t]).filter(v=>typeof v=="string").map(v=>v.split("+")),h=m.reduce((v,x)=>v.concat(...x),[]);return[m,h]}return[[],[]]},[t]);return B.useEffect(()=>{const g=typeof document<"u"?document:null,m=a?.target||g;if(t!==null){const h=b=>{if(o.current=b.ctrlKey||b.metaKey||b.shiftKey,(!o.current||o.current&&!a.actInsideInputWithModifier)&&_0(b))return!1;const _=V1(b.code,f);u.current.add(b[_]),I1(c,u.current,!1)&&(b.preventDefault(),s(!0))},v=b=>{if((!o.current||o.current&&!a.actInsideInputWithModifier)&&_0(b))return!1;const _=V1(b.code,f);I1(c,u.current,!0)?(s(!1),u.current.clear()):u.current.delete(b[_]),b.key==="Meta"&&u.current.clear(),o.current=!1},x=()=>{u.current.clear(),s(!1)};return m?.addEventListener("keydown",h),m?.addEventListener("keyup",v),window.addEventListener("blur",x),()=>{m?.removeEventListener("keydown",h),m?.removeEventListener("keyup",v),window.removeEventListener("blur",x)}}},[t,s]),i};function I1(t,a,i){return t.filter(s=>i||s.length===a.size).some(s=>s.every(o=>a.has(o)))}function V1(t,a){return a.includes(t)?"code":"key"}function VT(t,a,i,s){const o=t.parentNode||t.parentId;if(!o)return i;const u=a.get(o),c=mi(u,s);return VT(u,a,{x:(i.x??0)+c.x,y:(i.y??0)+c.y,z:(u[ot]?.z??0)>(i.z??0)?u[ot]?.z??0:i.z??0},s)}function YT(t,a,i){t.forEach(s=>{const o=s.parentNode||s.parentId;if(o&&!t.has(o))throw new Error(`Parent node ${o} not found`);if(o||i?.[s.id]){const{x:u,y:c,z:f}=VT(s,t,{...s.position,z:s[ot]?.z??0},a);s.positionAbsolute={x:u,y:c},s[ot].z=f,i?.[s.id]&&(s[ot].isParent=!0)}})}function Yf(t,a,i,s){const o=new Map,u={},c=s?1e3:0;return t.forEach(f=>{const g=(hn(f.zIndex)?f.zIndex:0)+(f.selected?c:0),m=a.get(f.id),h={...f,positionAbsolute:{x:f.position.x,y:f.position.y}},v=f.parentNode||f.parentId;v&&(u[v]=!0);const x=m?.type&&m?.type!==f.type;Object.defineProperty(h,ot,{enumerable:!1,value:{handleBounds:x?void 0:m?.[ot]?.handleBounds,z:g}}),o.set(f.id,h)}),YT(o,i,u),o}function FT(t,a={}){const{getNodes:i,width:s,height:o,minZoom:u,maxZoom:c,d3Zoom:f,d3Selection:g,fitViewOnInitDone:m,fitViewOnInit:h,nodeOrigin:v}=t(),x=a.initial&&!m&&h;if(f&&g&&(x||!a.initial)){const S=i().filter(N=>{const E=a.includeHiddenNodes?N.width&&N.height:!N.hidden;return a.nodes?.length?E&&a.nodes.some(C=>C.id===N.id):E}),_=S.every(N=>N.width&&N.height);if(S.length>0&&_){const N=I0(S,v),{x:E,y:C,zoom:T}=RT(N,s,o,a.minZoom??u,a.maxZoom??c,a.padding??.1),M=Yr.translate(E,C).scale(T);return typeof a.duration=="number"&&a.duration>0?f.transform(ga(g,a.duration),M):f.transform(g,M),!0}}return!1}function pq(t,a){return t.forEach(i=>{const s=a.get(i.id);s&&a.set(s.id,{...s,[ot]:s[ot],selected:i.selected})}),new Map(a)}function vq(t,a){return a.map(i=>{const s=t.find(o=>o.id===i.id);return s&&(i.selected=s.selected),i})}function Co({changedNodes:t,changedEdges:a,get:i,set:s}){const{nodeInternals:o,edges:u,onNodesChange:c,onEdgesChange:f,hasDefaultNodes:g,hasDefaultEdges:m}=i();t?.length&&(g&&s({nodeInternals:pq(t,o)}),c?.(t)),a?.length&&(m&&s({edges:vq(a,u)}),f?.(a))}const li=()=>{},yq={zoomIn:li,zoomOut:li,zoomTo:li,getZoom:()=>1,setViewport:li,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:li,fitBounds:li,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},xq=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),bq=()=>{const t=wt(),{d3Zoom:a,d3Selection:i}=at(xq,Mt);return B.useMemo(()=>i&&a?{zoomIn:o=>a.scaleBy(ga(i,o?.duration),1.2),zoomOut:o=>a.scaleBy(ga(i,o?.duration),1/1.2),zoomTo:(o,u)=>a.scaleTo(ga(i,u?.duration),o),getZoom:()=>t.getState().transform[2],setViewport:(o,u)=>{const[c,f,g]=t.getState().transform,m=Yr.translate(o.x??c,o.y??f).scale(o.zoom??g);a.transform(ga(i,u?.duration),m)},getViewport:()=>{const[o,u,c]=t.getState().transform;return{x:o,y:u,zoom:c}},fitView:o=>FT(t.getState,o),setCenter:(o,u,c)=>{const{width:f,height:g,maxZoom:m}=t.getState(),h=typeof c?.zoom<"u"?c.zoom:m,v=f/2-o*h,x=g/2-u*h,b=Yr.translate(v,x).scale(h);a.transform(ga(i,c?.duration),b)},fitBounds:(o,u)=>{const{width:c,height:f,minZoom:g,maxZoom:m}=t.getState(),{x:h,y:v,zoom:x}=RT(o,c,f,g,m,u?.padding??.1),b=Yr.translate(h,v).scale(x);a.transform(ga(i,u?.duration),b)},project:o=>{const{transform:u,snapToGrid:c,snapGrid:f}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),N0(o,u,c,f)},screenToFlowPosition:o=>{const{transform:u,snapToGrid:c,snapGrid:f,domNode:g}=t.getState();if(!g)return o;const{x:m,y:h}=g.getBoundingClientRect(),v={x:o.x-m,y:o.y-h};return N0(v,u,c,f)},flowToScreenPosition:o=>{const{transform:u,domNode:c}=t.getState();if(!c)return o;const{x:f,y:g}=c.getBoundingClientRect(),m=jT(o,u);return{x:m.x+f,y:m.y+g}},viewportInitialized:!0}:yq,[a,i])};function F0(){const t=bq(),a=wt(),i=B.useCallback(()=>a.getState().getNodes().map(_=>({..._})),[]),s=B.useCallback(_=>a.getState().nodeInternals.get(_),[]),o=B.useCallback(()=>{const{edges:_=[]}=a.getState();return _.map(N=>({...N}))},[]),u=B.useCallback(_=>{const{edges:N=[]}=a.getState();return N.find(E=>E.id===_)},[]),c=B.useCallback(_=>{const{getNodes:N,setNodes:E,hasDefaultNodes:C,onNodesChange:T}=a.getState(),M=N(),O=typeof _=="function"?_(M):_;if(C)E(O);else if(T){const k=O.length===0?M.map(H=>({type:"remove",id:H.id})):O.map(H=>({item:H,type:"reset"}));T(k)}},[]),f=B.useCallback(_=>{const{edges:N=[],setEdges:E,hasDefaultEdges:C,onEdgesChange:T}=a.getState(),M=typeof _=="function"?_(N):_;if(C)E(M);else if(T){const O=M.length===0?N.map(k=>({type:"remove",id:k.id})):M.map(k=>({item:k,type:"reset"}));T(O)}},[]),g=B.useCallback(_=>{const N=Array.isArray(_)?_:[_],{getNodes:E,setNodes:C,hasDefaultNodes:T,onNodesChange:M}=a.getState();if(T){const k=[...E(),...N];C(k)}else if(M){const O=N.map(k=>({item:k,type:"add"}));M(O)}},[]),m=B.useCallback(_=>{const N=Array.isArray(_)?_:[_],{edges:E=[],setEdges:C,hasDefaultEdges:T,onEdgesChange:M}=a.getState();if(T)C([...E,...N]);else if(M){const O=N.map(k=>({item:k,type:"add"}));M(O)}},[]),h=B.useCallback(()=>{const{getNodes:_,edges:N=[],transform:E}=a.getState(),[C,T,M]=E;return{nodes:_().map(O=>({...O})),edges:N.map(O=>({...O})),viewport:{x:C,y:T,zoom:M}}},[]),v=B.useCallback(({nodes:_,edges:N})=>{const{nodeInternals:E,getNodes:C,edges:T,hasDefaultNodes:M,hasDefaultEdges:O,onNodesDelete:k,onEdgesDelete:H,onNodesChange:$,onEdgesChange:U}=a.getState(),Y=(_||[]).map(ee=>ee.id),Z=(N||[]).map(ee=>ee.id),K=C().reduce((ee,z)=>{const P=z.parentNode||z.parentId,le=!Y.includes(z.id)&&P&&ee.find(X=>X.id===P);return(typeof z.deletable!="boolean"||z.deletable)&&(Y.includes(z.id)||le)&&ee.push(z),ee},[]),ae=T.filter(ee=>typeof ee.deletable=="boolean"?ee.deletable:!0),L=ae.filter(ee=>Z.includes(ee.id));if(K||L){const ee=MT(K,ae),z=[...L,...ee],P=z.reduce((le,W)=>(le.includes(W.id)||le.push(W.id),le),[]);if((O||M)&&(O&&a.setState({edges:T.filter(le=>!P.includes(le.id))}),M&&(K.forEach(le=>{E.delete(le.id)}),a.setState({nodeInternals:new Map(E)}))),P.length>0&&(H?.(z),U&&U(P.map(le=>({id:le,type:"remove"})))),K.length>0&&(k?.(K),$)){const le=K.map(W=>({id:W.id,type:"remove"}));$(le)}}},[]),x=B.useCallback(_=>{const N=U4(_),E=N?null:a.getState().nodeInternals.get(_.id);return!N&&!E?[null,null,N]:[N?_:z1(E),E,N]},[]),b=B.useCallback((_,N=!0,E)=>{const[C,T,M]=x(_);return C?(E||a.getState().getNodes()).filter(O=>{if(!M&&(O.id===T.id||!O.positionAbsolute))return!1;const k=z1(O),H=b0(k,C);return N&&H>0||H>=C.width*C.height}):[]},[]),S=B.useCallback((_,N,E=!0)=>{const[C]=x(_);if(!C)return!1;const T=b0(C,N);return E&&T>0||T>=C.width*C.height},[]);return B.useMemo(()=>({...t,getNodes:i,getNode:s,getEdges:o,getEdge:u,setNodes:c,setEdges:f,addNodes:g,addEdges:m,toObject:h,deleteElements:v,getIntersectingNodes:b,isNodeIntersecting:S}),[t,i,s,o,u,c,f,g,m,h,v,b,S])}const _q={actInsideInputWithModifier:!1};var Sq=({deleteKeyCode:t,multiSelectionKeyCode:a})=>{const i=wt(),{deleteElements:s}=F0(),o=Bs(t,_q),u=Bs(a);B.useEffect(()=>{if(o){const{edges:c,getNodes:f}=i.getState(),g=f().filter(h=>h.selected),m=c.filter(h=>h.selected);s({nodes:g,edges:m}),i.setState({nodesSelectionActive:!1})}},[o]),B.useEffect(()=>{i.setState({multiSelectionActive:u})},[u])};function wq(t){const a=wt();B.useEffect(()=>{let i;const s=()=>{if(!t.current)return;const o=k0(t.current);(o.height===0||o.width===0)&&a.getState().onError?.("004",cr.error004()),a.setState({width:o.width||500,height:o.height||500})};return s(),window.addEventListener("resize",s),t.current&&(i=new ResizeObserver(()=>s()),i.observe(t.current)),()=>{window.removeEventListener("resize",s),i&&t.current&&i.unobserve(t.current)}},[])}const X0={position:"absolute",width:"100%",height:"100%",top:0,left:0},Nq=(t,a)=>t.x!==a.x||t.y!==a.y||t.zoom!==a.k,jo=t=>({x:t.x,y:t.y,zoom:t.k}),oi=(t,a)=>t.target.closest(`.${a}`),Y1=(t,a)=>a===2&&Array.isArray(t)&&t.includes(2),F1=t=>{const a=t.ctrlKey&&Io()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*a},Eq=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),Tq=({onMove:t,onMoveStart:a,onMoveEnd:i,onPaneContextMenu:s,zoomOnScroll:o=!0,zoomOnPinch:u=!0,panOnScroll:c=!1,panOnScrollSpeed:f=.5,panOnScrollMode:g=va.Free,zoomOnDoubleClick:m=!0,elementsSelectable:h,panOnDrag:v=!0,defaultViewport:x,translateExtent:b,minZoom:S,maxZoom:_,zoomActivationKeyCode:N,preventScrolling:E=!0,children:C,noWheelClassName:T,noPanClassName:M})=>{const O=B.useRef(),k=wt(),H=B.useRef(!1),$=B.useRef(!1),U=B.useRef(null),Y=B.useRef({x:0,y:0,zoom:0}),{d3Zoom:Z,d3Selection:K,d3ZoomHandler:ae,userSelectionActive:L}=at(Eq,Mt),ee=Bs(N),z=B.useRef(0),P=B.useRef(!1),le=B.useRef();return wq(U),B.useEffect(()=>{if(U.current){const W=U.current.getBoundingClientRect(),X=q4().scaleExtent([S,_]).translateExtent(b),D=Sn(U.current).call(X),I=Yr.translate(x.x,x.y).scale(yi(x.zoom,S,_)),A=[[0,0],[W.width,W.height]],j=X.constrain()(I,A,b);X.transform(D,j),X.wheelDelta(F1),k.setState({d3Zoom:X,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[j.x,j.y,j.k],domNode:U.current.closest(".react-flow")})}},[]),B.useEffect(()=>{K&&Z&&(c&&!ee&&!L?K.on("wheel.zoom",W=>{if(oi(W,T))return!1;W.preventDefault(),W.stopImmediatePropagation();const X=K.property("__zoom").k||1;if(W.ctrlKey&&u){const re=On(W),te=F1(W),ge=X*Math.pow(2,te);Z.scaleTo(K,ge,re,W);return}const D=W.deltaMode===1?20:1;let I=g===va.Vertical?0:W.deltaX*D,A=g===va.Horizontal?0:W.deltaY*D;!Io()&&W.shiftKey&&g!==va.Vertical&&(I=W.deltaY*D,A=0),Z.translateBy(K,-(I/X)*f,-(A/X)*f,{internal:!0});const j=jo(K.property("__zoom")),{onViewportChangeStart:R,onViewportChange:G,onViewportChangeEnd:F}=k.getState();clearTimeout(le.current),P.current||(P.current=!0,a?.(W,j),R?.(j)),P.current&&(t?.(W,j),G?.(j),le.current=setTimeout(()=>{i?.(W,j),F?.(j),P.current=!1},150))},{passive:!1}):typeof ae<"u"&&K.on("wheel.zoom",function(W,X){if(!E&&W.type==="wheel"&&!W.ctrlKey||oi(W,T))return null;W.preventDefault(),ae.call(this,W,X)},{passive:!1}))},[L,c,g,K,Z,ae,ee,u,E,T,a,t,i]),B.useEffect(()=>{Z&&Z.on("start",W=>{if(!W.sourceEvent||W.sourceEvent.internal)return null;z.current=W.sourceEvent?.button;const{onViewportChangeStart:X}=k.getState(),D=jo(W.transform);H.current=!0,Y.current=D,W.sourceEvent?.type==="mousedown"&&k.setState({paneDragging:!0}),X?.(D),a?.(W.sourceEvent,D)})},[Z,a]),B.useEffect(()=>{Z&&(L&&!H.current?Z.on("zoom",null):L||Z.on("zoom",W=>{const{onViewportChange:X}=k.getState();if(k.setState({transform:[W.transform.x,W.transform.y,W.transform.k]}),$.current=!!(s&&Y1(v,z.current??0)),(t||X)&&!W.sourceEvent?.internal){const D=jo(W.transform);X?.(D),t?.(W.sourceEvent,D)}}))},[L,Z,t,v,s]),B.useEffect(()=>{Z&&Z.on("end",W=>{if(!W.sourceEvent||W.sourceEvent.internal)return null;const{onViewportChangeEnd:X}=k.getState();if(H.current=!1,k.setState({paneDragging:!1}),s&&Y1(v,z.current??0)&&!$.current&&s(W.sourceEvent),$.current=!1,(i||X)&&Nq(Y.current,W.transform)){const D=jo(W.transform);Y.current=D,clearTimeout(O.current),O.current=setTimeout(()=>{X?.(D),i?.(W.sourceEvent,D)},c?150:0)}})},[Z,c,v,i,s]),B.useEffect(()=>{Z&&Z.filter(W=>{const X=ee||o,D=u&&W.ctrlKey;if((v===!0||Array.isArray(v)&&v.includes(1))&&W.button===1&&W.type==="mousedown"&&(oi(W,"react-flow__node")||oi(W,"react-flow__edge")))return!0;if(!v&&!X&&!c&&!m&&!u||L||!m&&W.type==="dblclick"||oi(W,T)&&W.type==="wheel"||oi(W,M)&&(W.type!=="wheel"||c&&W.type==="wheel"&&!ee)||!u&&W.ctrlKey&&W.type==="wheel"||!X&&!c&&!D&&W.type==="wheel"||!v&&(W.type==="mousedown"||W.type==="touchstart")||Array.isArray(v)&&!v.includes(W.button)&&W.type==="mousedown")return!1;const I=Array.isArray(v)&&v.includes(W.button)||!W.button||W.button<=1;return(!W.ctrlKey||W.type==="wheel")&&I})},[L,Z,o,u,c,m,v,h,ee]),de.createElement("div",{className:"react-flow__renderer",ref:U,style:X0},C)},Cq=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function jq(){const{userSelectionActive:t,userSelectionRect:a}=at(Cq,Mt);return t&&a?de.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:a.width,height:a.height,transform:`translate(${a.x}px, ${a.y}px)`}}):null}function X1(t,a){const i=a.parentNode||a.parentId,s=t.find(o=>o.id===i);if(s){const o=a.position.x+a.width-s.width,u=a.position.y+a.height-s.height;if(o>0||u>0||a.position.x<0||a.position.y<0){if(s.style={...s.style},s.style.width=s.style.width??s.width,s.style.height=s.style.height??s.height,o>0&&(s.style.width+=o),u>0&&(s.style.height+=u),a.position.x<0){const c=Math.abs(a.position.x);s.position.x=s.position.x-c,s.style.width+=c,a.position.x=0}if(a.position.y<0){const c=Math.abs(a.position.y);s.position.y=s.position.y-c,s.style.height+=c,a.position.y=0}s.width=s.style.width,s.height=s.style.height}}}function XT(t,a){if(t.some(s=>s.type==="reset"))return t.filter(s=>s.type==="reset").map(s=>s.item);const i=t.filter(s=>s.type==="add").map(s=>s.item);return a.reduce((s,o)=>{const u=t.filter(f=>f.id===o.id);if(u.length===0)return s.push(o),s;const c={...o};for(const f of u)if(f)switch(f.type){case"select":{c.selected=f.selected;break}case"position":{typeof f.position<"u"&&(c.position=f.position),typeof f.positionAbsolute<"u"&&(c.positionAbsolute=f.positionAbsolute),typeof f.dragging<"u"&&(c.dragging=f.dragging),c.expandParent&&X1(s,c);break}case"dimensions":{typeof f.dimensions<"u"&&(c.width=f.dimensions.width,c.height=f.dimensions.height),typeof f.updateStyle<"u"&&(c.style={...c.style||{},...f.dimensions}),typeof f.resizing=="boolean"&&(c.resizing=f.resizing),c.expandParent&&X1(s,c);break}case"remove":return s}return s.push(c),s},i)}function KT(t,a){return XT(t,a)}function Aq(t,a){return XT(t,a)}const Gr=(t,a)=>({id:t,type:"select",selected:a});function fi(t,a){return t.reduce((i,s)=>{const o=a.includes(s.id);return!s.selected&&o?(s.selected=!0,i.push(Gr(s.id,!0))):s.selected&&!o&&(s.selected=!1,i.push(Gr(s.id,!1))),i},[])}const Ff=(t,a)=>i=>{i.target===a.current&&t?.(i)},Mq=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),ZT=B.memo(({isSelecting:t,selectionMode:a=Hs.Full,panOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:f,onPaneMouseEnter:g,onPaneMouseMove:m,onPaneMouseLeave:h,children:v})=>{const x=B.useRef(null),b=wt(),S=B.useRef(0),_=B.useRef(0),N=B.useRef(),{userSelectionActive:E,elementsSelectable:C,dragging:T}=at(Mq,Mt),M=()=>{b.setState({userSelectionActive:!1,userSelectionRect:null}),S.current=0,_.current=0},O=ae=>{u?.(ae),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},k=ae=>{if(Array.isArray(i)&&i?.includes(2)){ae.preventDefault();return}c?.(ae)},H=f?ae=>f(ae):void 0,$=ae=>{const{resetSelectedElements:L,domNode:ee}=b.getState();if(N.current=ee?.getBoundingClientRect(),!C||!t||ae.button!==0||ae.target!==x.current||!N.current)return;const{x:z,y:P}=Fr(ae,N.current);L(),b.setState({userSelectionRect:{width:0,height:0,startX:z,startY:P,x:z,y:P}}),s?.(ae)},U=ae=>{const{userSelectionRect:L,nodeInternals:ee,edges:z,transform:P,onNodesChange:le,onEdgesChange:W,nodeOrigin:X,getNodes:D}=b.getState();if(!t||!N.current||!L)return;b.setState({userSelectionActive:!0,nodesSelectionActive:!1});const I=Fr(ae,N.current),A=L.startX??0,j=L.startY??0,R={...L,x:I.x<A?I.x:A,y:I.y<j?I.y:j,width:Math.abs(I.x-A),height:Math.abs(I.y-j)},G=D(),F=AT(ee,R,P,a===Hs.Partial,!0,X),re=MT(F,z).map(ge=>ge.id),te=F.map(ge=>ge.id);if(S.current!==te.length){S.current=te.length;const ge=fi(G,te);ge.length&&le?.(ge)}if(_.current!==re.length){_.current=re.length;const ge=fi(z,re);ge.length&&W?.(ge)}b.setState({userSelectionRect:R})},Y=ae=>{if(ae.button!==0)return;const{userSelectionRect:L}=b.getState();!E&&L&&ae.target===x.current&&O?.(ae),b.setState({nodesSelectionActive:S.current>0}),M(),o?.(ae)},Z=ae=>{E&&(b.setState({nodesSelectionActive:S.current>0}),o?.(ae)),M()},K=C&&(t||E);return de.createElement("div",{className:kt(["react-flow__pane",{dragging:T,selection:t}]),onClick:K?void 0:Ff(O,x),onContextMenu:Ff(k,x),onWheel:Ff(H,x),onMouseEnter:K?void 0:g,onMouseDown:K?$:void 0,onMouseMove:K?U:m,onMouseUp:K?Y:void 0,onMouseLeave:K?Z:h,ref:x,style:X0},v,de.createElement(jq,null))});ZT.displayName="Pane";function QT(t,a){const i=t.parentNode||t.parentId;if(!i)return!1;const s=a.get(i);return s?s.selected?!0:QT(s,a):!1}function K1(t,a,i){let s=t;do{if(s?.matches(a))return!0;if(s===i.current)return!1;s=s.parentElement}while(s);return!1}function Rq(t,a,i,s){return Array.from(t.values()).filter(o=>(o.selected||o.id===s)&&(!o.parentNode||o.parentId||!QT(o,t))&&(o.draggable||a&&typeof o.draggable>"u")).map(o=>({id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:i.x-(o.positionAbsolute?.x??0),y:i.y-(o.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}))}function qq(t,a){return!a||a==="parent"?a:[a[0],[a[1][0]-(t.width||0),a[1][1]-(t.height||0)]]}function JT(t,a,i,s,o=[0,0],u){const c=qq(t,t.extent||s);let f=c;const g=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(g&&t.width&&t.height){const v=i.get(g),{x,y:b}=mi(v,o).positionAbsolute;f=v&&hn(x)&&hn(b)&&hn(v.width)&&hn(v.height)?[[x+t.width*o[0],b+t.height*o[1]],[x+v.width-t.width+t.width*o[0],b+v.height-t.height+t.height*o[1]]]:f}else u?.("005",cr.error005()),f=c;else if(t.extent&&g&&t.extent!=="parent"){const v=i.get(g),{x,y:b}=mi(v,o).positionAbsolute;f=[[t.extent[0][0]+x,t.extent[0][1]+b],[t.extent[1][0]+x,t.extent[1][1]+b]]}let m={x:0,y:0};if(g){const v=i.get(g);m=mi(v,o).positionAbsolute}const h=f&&f!=="parent"?H0(a,f):a;return{position:{x:h.x-m.x,y:h.y-m.y},positionAbsolute:h}}function Xf({nodeId:t,dragItems:a,nodeInternals:i}){const s=a.map(o=>({...i.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[t?s.find(o=>o.id===t):s[0],s]}const Z1=(t,a,i,s)=>{const o=a.querySelectorAll(t);if(!o||!o.length)return null;const u=Array.from(o),c=a.getBoundingClientRect(),f={x:c.width*s[0],y:c.height*s[1]};return u.map(g=>{const m=g.getBoundingClientRect();return{id:g.getAttribute("data-handleid"),position:g.getAttribute("data-handlepos"),x:(m.left-c.left-f.x)/i,y:(m.top-c.top-f.y)/i,...k0(g)}})};function Ns(t,a,i){return i===void 0?i:s=>{const o=a().nodeInternals.get(t);o&&i(s,{...o})}}function T0({id:t,store:a,unselect:i=!1,nodeRef:s}){const{addSelectedNodes:o,unselectNodesAndEdges:u,multiSelectionActive:c,nodeInternals:f,onError:g}=a.getState(),m=f.get(t);if(!m){g?.("012",cr.error012(t));return}a.setState({nodesSelectionActive:!1}),m.selected?(i||m.selected&&c)&&(u({nodes:[m],edges:[]}),requestAnimationFrame(()=>s?.current?.blur())):o([t])}function Dq(){const t=wt();return B.useCallback(({sourceEvent:i})=>{const{transform:s,snapGrid:o,snapToGrid:u}=t.getState(),c=i.touches?i.touches[0].clientX:i.clientX,f=i.touches?i.touches[0].clientY:i.clientY,g={x:(c-s[0])/s[2],y:(f-s[1])/s[2]};return{xSnapped:u?o[0]*Math.round(g.x/o[0]):g.x,ySnapped:u?o[1]*Math.round(g.y/o[1]):g.y,...g}},[])}function Kf(t){return(a,i,s)=>t?.(a,s)}function PT({nodeRef:t,disabled:a=!1,noDragClassName:i,handleSelector:s,nodeId:o,isSelectable:u,selectNodesOnDrag:c}){const f=wt(),[g,m]=B.useState(!1),h=B.useRef([]),v=B.useRef({x:null,y:null}),x=B.useRef(0),b=B.useRef(null),S=B.useRef({x:0,y:0}),_=B.useRef(null),N=B.useRef(!1),E=B.useRef(!1),C=B.useRef(!1),T=Dq();return B.useEffect(()=>{if(t?.current){const M=Sn(t.current),O=({x:$,y:U})=>{const{nodeInternals:Y,onNodeDrag:Z,onSelectionDrag:K,updateNodePositions:ae,nodeExtent:L,snapGrid:ee,snapToGrid:z,nodeOrigin:P,onError:le}=f.getState();v.current={x:$,y:U};let W=!1,X={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&L){const I=I0(h.current,P);X=L0(I)}if(h.current=h.current.map(I=>{const A={x:$-I.distance.x,y:U-I.distance.y};z&&(A.x=ee[0]*Math.round(A.x/ee[0]),A.y=ee[1]*Math.round(A.y/ee[1]));const j=[[L[0][0],L[0][1]],[L[1][0],L[1][1]]];h.current.length>1&&L&&!I.extent&&(j[0][0]=I.positionAbsolute.x-X.x+L[0][0],j[1][0]=I.positionAbsolute.x+(I.width??0)-X.x2+L[1][0],j[0][1]=I.positionAbsolute.y-X.y+L[0][1],j[1][1]=I.positionAbsolute.y+(I.height??0)-X.y2+L[1][1]);const R=JT(I,A,Y,j,P,le);return W=W||I.position.x!==R.position.x||I.position.y!==R.position.y,I.position=R.position,I.positionAbsolute=R.positionAbsolute,I}),!W)return;ae(h.current,!0,!0),m(!0);const D=o?Z:Kf(K);if(D&&_.current){const[I,A]=Xf({nodeId:o,dragItems:h.current,nodeInternals:Y});D(_.current,I,A)}},k=()=>{if(!b.current)return;const[$,U]=bT(S.current,b.current);if($!==0||U!==0){const{transform:Y,panBy:Z}=f.getState();v.current.x=(v.current.x??0)-$/Y[2],v.current.y=(v.current.y??0)-U/Y[2],Z({x:$,y:U})&&O(v.current)}x.current=requestAnimationFrame(k)},H=$=>{const{nodeInternals:U,multiSelectionActive:Y,nodesDraggable:Z,unselectNodesAndEdges:K,onNodeDragStart:ae,onSelectionDragStart:L}=f.getState();E.current=!0;const ee=o?ae:Kf(L);(!c||!u)&&!Y&&o&&(U.get(o)?.selected||K()),o&&u&&c&&T0({id:o,store:f,nodeRef:t});const z=T($);if(v.current=z,h.current=Rq(U,Z,z,o),ee&&h.current){const[P,le]=Xf({nodeId:o,dragItems:h.current,nodeInternals:U});ee($.sourceEvent,P,le)}};if(a)M.on(".drag",null);else{const $=GM().on("start",U=>{const{domNode:Y,nodeDragThreshold:Z}=f.getState();Z===0&&H(U),C.current=!1;const K=T(U);v.current=K,b.current=Y?.getBoundingClientRect()||null,S.current=Fr(U.sourceEvent,b.current)}).on("drag",U=>{const Y=T(U),{autoPanOnNodeDrag:Z,nodeDragThreshold:K}=f.getState();if(U.sourceEvent.type==="touchmove"&&U.sourceEvent.touches.length>1&&(C.current=!0),!C.current){if(!N.current&&E.current&&Z&&(N.current=!0,k()),!E.current){const ae=Y.xSnapped-(v?.current?.x??0),L=Y.ySnapped-(v?.current?.y??0);Math.sqrt(ae*ae+L*L)>K&&H(U)}(v.current.x!==Y.xSnapped||v.current.y!==Y.ySnapped)&&h.current&&E.current&&(_.current=U.sourceEvent,S.current=Fr(U.sourceEvent,b.current),O(Y))}}).on("end",U=>{if(!(!E.current||C.current)&&(m(!1),N.current=!1,E.current=!1,cancelAnimationFrame(x.current),h.current)){const{updateNodePositions:Y,nodeInternals:Z,onNodeDragStop:K,onSelectionDragStop:ae}=f.getState(),L=o?K:Kf(ae);if(Y(h.current,!1,!1),L){const[ee,z]=Xf({nodeId:o,dragItems:h.current,nodeInternals:Z});L(U.sourceEvent,ee,z)}}}).filter(U=>{const Y=U.target;return!U.button&&(!i||!K1(Y,`.${i}`,t))&&(!s||K1(Y,s,t))});return M.call($),()=>{M.on(".drag",null)}}}},[t,a,i,s,u,f,o,c,T]),g}function WT(){const t=wt();return B.useCallback(i=>{const{nodeInternals:s,nodeExtent:o,updateNodePositions:u,getNodes:c,snapToGrid:f,snapGrid:g,onError:m,nodesDraggable:h}=t.getState(),v=c().filter(C=>C.selected&&(C.draggable||h&&typeof C.draggable>"u")),x=f?g[0]:5,b=f?g[1]:5,S=i.isShiftPressed?4:1,_=i.x*x*S,N=i.y*b*S,E=v.map(C=>{if(C.positionAbsolute){const T={x:C.positionAbsolute.x+_,y:C.positionAbsolute.y+N};f&&(T.x=g[0]*Math.round(T.x/g[0]),T.y=g[1]*Math.round(T.y/g[1]));const{positionAbsolute:M,position:O}=JT(C,T,s,o,void 0,m);C.position=O,C.positionAbsolute=M}return C});u(E,!0,!1)},[])}const gi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Es=t=>{const a=({id:i,type:s,data:o,xPos:u,yPos:c,xPosOrigin:f,yPosOrigin:g,selected:m,onClick:h,onMouseEnter:v,onMouseMove:x,onMouseLeave:b,onContextMenu:S,onDoubleClick:_,style:N,className:E,isDraggable:C,isSelectable:T,isConnectable:M,isFocusable:O,selectNodesOnDrag:k,sourcePosition:H,targetPosition:$,hidden:U,resizeObserver:Y,dragHandle:Z,zIndex:K,isParent:ae,noDragClassName:L,noPanClassName:ee,initialized:z,disableKeyboardA11y:P,ariaLabel:le,rfId:W,hasHandleBounds:X})=>{const D=wt(),I=B.useRef(null),A=B.useRef(null),j=B.useRef(H),R=B.useRef($),G=B.useRef(s),F=T||C||h||v||x||b,re=WT(),te=Ns(i,D.getState,v),ge=Ns(i,D.getState,x),ce=Ns(i,D.getState,b),Q=Ns(i,D.getState,S),ve=Ns(i,D.getState,_),be=ye=>{const{nodeDragThreshold:xe}=D.getState();if(T&&(!k||!C||xe>0)&&T0({id:i,store:D,nodeRef:I}),h){const qe=D.getState().nodeInternals.get(i);qe&&h(ye,{...qe})}},pe=ye=>{if(!_0(ye)&&!P)if(ST.includes(ye.key)&&T){const xe=ye.key==="Escape";T0({id:i,store:D,unselect:xe,nodeRef:I})}else C&&m&&Object.prototype.hasOwnProperty.call(gi,ye.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${ye.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~u}, y: ${~~c}`}),re({x:gi[ye.key].x,y:gi[ye.key].y,isShiftPressed:ye.shiftKey}))};B.useEffect(()=>()=>{A.current&&(Y?.unobserve(A.current),A.current=null)},[]),B.useEffect(()=>{if(I.current&&!U){const ye=I.current;(!z||!X||A.current!==ye)&&(A.current&&Y?.unobserve(A.current),Y?.observe(ye),A.current=ye)}},[U,z,X]),B.useEffect(()=>{const ye=G.current!==s,xe=j.current!==H,qe=R.current!==$;I.current&&(ye||xe||qe)&&(ye&&(G.current=s),xe&&(j.current=H),qe&&(R.current=$),D.getState().updateNodeDimensions([{id:i,nodeElement:I.current,forceUpdate:!0}]))},[i,s,H,$]);const Ce=PT({nodeRef:I,disabled:U||!C,noDragClassName:L,handleSelector:Z,nodeId:i,isSelectable:T,selectNodesOnDrag:k});return U?null:de.createElement("div",{className:kt(["react-flow__node",`react-flow__node-${s}`,{[ee]:C},E,{selected:m,selectable:T,parent:ae,dragging:Ce}]),ref:I,style:{zIndex:K,transform:`translate(${f}px,${g}px)`,pointerEvents:F?"all":"none",visibility:z?"visible":"hidden",...N},"data-id":i,"data-testid":`rf__node-${i}`,onMouseEnter:te,onMouseMove:ge,onMouseLeave:ce,onContextMenu:Q,onClick:be,onDoubleClick:ve,onKeyDown:O?pe:void 0,tabIndex:O?0:void 0,role:O?"button":void 0,"aria-describedby":P?void 0:`${GT}-${W}`,"aria-label":le},de.createElement(X4,{value:i},de.createElement(t,{id:i,data:o,type:s,xPos:u,yPos:c,selected:m,isConnectable:M,sourcePosition:H,targetPosition:$,dragging:Ce,dragHandle:Z,zIndex:K})))};return a.displayName="NodeWrapper",B.memo(a)};const Oq=t=>{const a=t.getNodes().filter(i=>i.selected);return{...I0(a,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function zq({onSelectionContextMenu:t,noPanClassName:a,disableKeyboardA11y:i}){const s=wt(),{width:o,height:u,x:c,y:f,transformString:g,userSelectionActive:m}=at(Oq,Mt),h=WT(),v=B.useRef(null);if(B.useEffect(()=>{i||v.current?.focus({preventScroll:!0})},[i]),PT({nodeRef:v}),m||!o||!u)return null;const x=t?S=>{const _=s.getState().getNodes().filter(N=>N.selected);t(S,_)}:void 0,b=S=>{Object.prototype.hasOwnProperty.call(gi,S.key)&&h({x:gi[S.key].x,y:gi[S.key].y,isShiftPressed:S.shiftKey})};return de.createElement("div",{className:kt(["react-flow__nodesselection","react-flow__container",a]),style:{transform:g}},de.createElement("div",{ref:v,className:"react-flow__nodesselection-rect",onContextMenu:x,tabIndex:i?void 0:-1,onKeyDown:i?void 0:b,style:{width:o,height:u,top:f,left:c}}))}var kq=B.memo(zq);const Hq=t=>t.nodesSelectionActive,e3=({children:t,onPaneClick:a,onPaneMouseEnter:i,onPaneMouseMove:s,onPaneMouseLeave:o,onPaneContextMenu:u,onPaneScroll:c,deleteKeyCode:f,onMove:g,onMoveStart:m,onMoveEnd:h,selectionKeyCode:v,selectionOnDrag:x,selectionMode:b,onSelectionStart:S,onSelectionEnd:_,multiSelectionKeyCode:N,panActivationKeyCode:E,zoomActivationKeyCode:C,elementsSelectable:T,zoomOnScroll:M,zoomOnPinch:O,panOnScroll:k,panOnScrollSpeed:H,panOnScrollMode:$,zoomOnDoubleClick:U,panOnDrag:Y,defaultViewport:Z,translateExtent:K,minZoom:ae,maxZoom:L,preventScrolling:ee,onSelectionContextMenu:z,noWheelClassName:P,noPanClassName:le,disableKeyboardA11y:W})=>{const X=at(Hq),D=Bs(v),I=Bs(E),A=I||Y,j=I||k,R=D||x&&A!==!0;return Sq({deleteKeyCode:f,multiSelectionKeyCode:N}),de.createElement(Tq,{onMove:g,onMoveStart:m,onMoveEnd:h,onPaneContextMenu:u,elementsSelectable:T,zoomOnScroll:M,zoomOnPinch:O,panOnScroll:j,panOnScrollSpeed:H,panOnScrollMode:$,zoomOnDoubleClick:U,panOnDrag:!D&&A,defaultViewport:Z,translateExtent:K,minZoom:ae,maxZoom:L,zoomActivationKeyCode:C,preventScrolling:ee,noWheelClassName:P,noPanClassName:le},de.createElement(ZT,{onSelectionStart:S,onSelectionEnd:_,onPaneClick:a,onPaneMouseEnter:i,onPaneMouseMove:s,onPaneMouseLeave:o,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:A,isSelecting:!!R,selectionMode:b},t,X&&de.createElement(kq,{onSelectionContextMenu:z,noPanClassName:le,disableKeyboardA11y:W})))};e3.displayName="FlowRenderer";var Lq=B.memo(e3);function Bq(t){return at(B.useCallback(i=>t?AT(i.nodeInternals,{x:0,y:0,width:i.width,height:i.height},i.transform,!0):i.getNodes(),[t]))}function Uq(t){const a={input:Es(t.input||LT),default:Es(t.default||E0),output:Es(t.output||UT),group:Es(t.group||Y0)},i={},s=Object.keys(t).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,u)=>(o[u]=Es(t[u]||E0),o),i);return{...a,...s}}const $q=({x:t,y:a,width:i,height:s,origin:o})=>!i||!s?{x:t,y:a}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:t,y:a}:{x:t-i*o[0],y:a-s*o[1]},Gq=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),t3=t=>{const{nodesDraggable:a,nodesConnectable:i,nodesFocusable:s,elementsSelectable:o,updateNodeDimensions:u,onError:c}=at(Gq,Mt),f=Bq(t.onlyRenderVisibleElements),g=B.useRef(),m=B.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const h=new ResizeObserver(v=>{const x=v.map(b=>({id:b.target.getAttribute("data-id"),nodeElement:b.target,forceUpdate:!0}));u(x)});return g.current=h,h},[]);return B.useEffect(()=>()=>{g?.current?.disconnect()},[]),de.createElement("div",{className:"react-flow__nodes",style:X0},f.map(h=>{let v=h.type||"default";t.nodeTypes[v]||(c?.("003",cr.error003(v)),v="default");const x=t.nodeTypes[v]||t.nodeTypes.default,b=!!(h.draggable||a&&typeof h.draggable>"u"),S=!!(h.selectable||o&&typeof h.selectable>"u"),_=!!(h.connectable||i&&typeof h.connectable>"u"),N=!!(h.focusable||s&&typeof h.focusable>"u"),E=t.nodeExtent?H0(h.positionAbsolute,t.nodeExtent):h.positionAbsolute,C=E?.x??0,T=E?.y??0,M=$q({x:C,y:T,width:h.width??0,height:h.height??0,origin:t.nodeOrigin});return de.createElement(x,{key:h.id,id:h.id,className:h.className,style:h.style,type:v,data:h.data,sourcePosition:h.sourcePosition||_e.Bottom,targetPosition:h.targetPosition||_e.Top,hidden:h.hidden,xPos:C,yPos:T,xPosOrigin:M.x,yPosOrigin:M.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!h.selected,isDraggable:b,isSelectable:S,isConnectable:_,isFocusable:N,resizeObserver:m,dragHandle:h.dragHandle,zIndex:h[ot]?.z??0,isParent:!!h[ot]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!h.width&&!!h.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:h.ariaLabel,hasHandleBounds:!!h[ot]?.handleBounds})}))};t3.displayName="NodeRenderer";var Iq=B.memo(t3);const Vq=(t,a,i)=>i===_e.Left?t-a:i===_e.Right?t+a:t,Yq=(t,a,i)=>i===_e.Top?t-a:i===_e.Bottom?t+a:t,Q1="react-flow__edgeupdater",J1=({position:t,centerX:a,centerY:i,radius:s=10,onMouseDown:o,onMouseEnter:u,onMouseOut:c,type:f})=>de.createElement("circle",{onMouseDown:o,onMouseEnter:u,onMouseOut:c,className:kt([Q1,`${Q1}-${f}`]),cx:Vq(a,s,t),cy:Yq(i,s,t),r:s,stroke:"transparent",fill:"transparent"}),Fq=()=>!0;var ui=t=>{const a=({id:i,className:s,type:o,data:u,onClick:c,onEdgeDoubleClick:f,selected:g,animated:m,label:h,labelStyle:v,labelShowBg:x,labelBgStyle:b,labelBgPadding:S,labelBgBorderRadius:_,style:N,source:E,target:C,sourceX:T,sourceY:M,targetX:O,targetY:k,sourcePosition:H,targetPosition:$,elementsSelectable:U,hidden:Y,sourceHandleId:Z,targetHandleId:K,onContextMenu:ae,onMouseEnter:L,onMouseMove:ee,onMouseLeave:z,reconnectRadius:P,onReconnect:le,onReconnectStart:W,onReconnectEnd:X,markerEnd:D,markerStart:I,rfId:A,ariaLabel:j,isFocusable:R,isReconnectable:G,pathOptions:F,interactionWidth:re,disableKeyboardA11y:te})=>{const ge=B.useRef(null),[ce,Q]=B.useState(!1),[ve,be]=B.useState(!1),pe=wt(),Ce=B.useMemo(()=>`url('#${w0(I,A)}')`,[I,A]),ye=B.useMemo(()=>`url('#${w0(D,A)}')`,[D,A]);if(Y)return null;const xe=dt=>{const{edges:qt,addSelectedEdges:it,unselectNodesAndEdges:Ye,multiSelectionActive:Dt}=pe.getState(),tt=qt.find(Bn=>Bn.id===i);tt&&(U&&(pe.setState({nodesSelectionActive:!1}),tt.selected&&Dt?(Ye({nodes:[],edges:[tt]}),ge.current?.blur()):it([i])),c&&c(dt,tt))},qe=ws(i,pe.getState,f),Je=ws(i,pe.getState,ae),Oe=ws(i,pe.getState,L),Ae=ws(i,pe.getState,ee),Ve=ws(i,pe.getState,z),Ge=(dt,qt)=>{if(dt.button!==0)return;const{edges:it,isValidConnection:Ye}=pe.getState(),Dt=qt?C:E,tt=(qt?K:Z)||null,Bn=qt?"target":"source",Ni=Ye||Fq,Ei=qt,jn=it.find(Ot=>Ot.id===i);be(!0),W?.(dt,jn,Bn);const hr=Ot=>{be(!1),X?.(Ot,jn,Bn)};OT({event:dt,handleId:tt,nodeId:Dt,onConnect:Ot=>le?.(jn,Ot),isTarget:Ei,getState:pe.getState,setState:pe.setState,isValidConnection:Ni,edgeUpdaterType:Bn,onReconnectEnd:hr})},Rt=dt=>Ge(dt,!0),tn=dt=>Ge(dt,!1),Yt=()=>Q(!0),_t=()=>Q(!1),vn=!U&&!c,yn=dt=>{if(!te&&ST.includes(dt.key)&&U){const{unselectNodesAndEdges:qt,addSelectedEdges:it,edges:Ye}=pe.getState();dt.key==="Escape"?(ge.current?.blur(),qt({edges:[Ye.find(tt=>tt.id===i)]})):it([i])}};return de.createElement("g",{className:kt(["react-flow__edge",`react-flow__edge-${o}`,s,{selected:g,animated:m,inactive:vn,updating:ce}]),onClick:xe,onDoubleClick:qe,onContextMenu:Je,onMouseEnter:Oe,onMouseMove:Ae,onMouseLeave:Ve,onKeyDown:R?yn:void 0,tabIndex:R?0:void 0,role:R?"button":"img","data-testid":`rf__edge-${i}`,"aria-label":j===null?void 0:j||`Edge from ${E} to ${C}`,"aria-describedby":R?`${IT}-${A}`:void 0,ref:ge},!ve&&de.createElement(t,{id:i,source:E,target:C,selected:g,animated:m,label:h,labelStyle:v,labelShowBg:x,labelBgStyle:b,labelBgPadding:S,labelBgBorderRadius:_,data:u,style:N,sourceX:T,sourceY:M,targetX:O,targetY:k,sourcePosition:H,targetPosition:$,sourceHandleId:Z,targetHandleId:K,markerStart:Ce,markerEnd:ye,pathOptions:F,interactionWidth:re}),G&&de.createElement(de.Fragment,null,(G==="source"||G===!0)&&de.createElement(J1,{position:H,centerX:T,centerY:M,radius:P,onMouseDown:Rt,onMouseEnter:Yt,onMouseOut:_t,type:"source"}),(G==="target"||G===!0)&&de.createElement(J1,{position:$,centerX:O,centerY:k,radius:P,onMouseDown:tn,onMouseEnter:Yt,onMouseOut:_t,type:"target"})))};return a.displayName="EdgeWrapper",B.memo(a)};function Xq(t){const a={default:ui(t.default||Vo),straight:ui(t.bezier||$0),step:ui(t.step||U0),smoothstep:ui(t.step||Wo),simplebezier:ui(t.simplebezier||B0)},i={},s=Object.keys(t).filter(o=>!["default","bezier"].includes(o)).reduce((o,u)=>(o[u]=ui(t[u]||Vo),o),i);return{...a,...s}}function P1(t,a,i=null){const s=(i?.x||0)+a.x,o=(i?.y||0)+a.y,u=i?.width||a.width,c=i?.height||a.height;switch(t){case _e.Top:return{x:s+u/2,y:o};case _e.Right:return{x:s+u,y:o+c/2};case _e.Bottom:return{x:s+u/2,y:o+c};case _e.Left:return{x:s,y:o+c/2}}}function W1(t,a){return t?t.length===1||!a?t[0]:a&&t.find(i=>i.id===a)||null:null}const Kq=(t,a,i,s,o,u)=>{const c=P1(i,t,a),f=P1(u,s,o);return{sourceX:c.x,sourceY:c.y,targetX:f.x,targetY:f.y}};function Zq({sourcePos:t,targetPos:a,sourceWidth:i,sourceHeight:s,targetWidth:o,targetHeight:u,width:c,height:f,transform:g}){const m={x:Math.min(t.x,a.x),y:Math.min(t.y,a.y),x2:Math.max(t.x+i,a.x+o),y2:Math.max(t.y+s,a.y+u)};m.x===m.x2&&(m.x2+=1),m.y===m.y2&&(m.y2+=1);const h=L0({x:(0-g[0])/g[2],y:(0-g[1])/g[2],width:c/g[2],height:f/g[2]}),v=Math.max(0,Math.min(h.x2,m.x2)-Math.max(h.x,m.x)),x=Math.max(0,Math.min(h.y2,m.y2)-Math.max(h.y,m.y));return Math.ceil(v*x)>0}function e_(t){const a=t?.[ot]?.handleBounds||null,i=a&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},a,!!i]}const Qq=[{level:0,isMaxLevel:!0,edges:[]}];function Jq(t,a,i=!1){let s=-1;const o=t.reduce((c,f)=>{const g=hn(f.zIndex);let m=g?f.zIndex:0;if(i){const h=a.get(f.target),v=a.get(f.source),x=f.selected||h?.selected||v?.selected,b=Math.max(v?.[ot]?.z||0,h?.[ot]?.z||0,1e3);m=(g?f.zIndex:0)+(x?b:0)}return c[m]?c[m].push(f):c[m]=[f],s=m>s?m:s,c},{}),u=Object.entries(o).map(([c,f])=>{const g=+c;return{edges:f,level:g,isMaxLevel:g===s}});return u.length===0?Qq:u}function Pq(t,a,i){const s=at(B.useCallback(o=>t?o.edges.filter(u=>{const c=a.get(u.source),f=a.get(u.target);return c?.width&&c?.height&&f?.width&&f?.height&&Zq({sourcePos:c.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:c.width,sourceHeight:c.height,targetWidth:f.width,targetHeight:f.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[t,a]));return Jq(s,a,i)}const Wq=({color:t="none",strokeWidth:a=1})=>de.createElement("polyline",{style:{stroke:t,strokeWidth:a},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),eD=({color:t="none",strokeWidth:a=1})=>de.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:a},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),t_={[Ls.Arrow]:Wq,[Ls.ArrowClosed]:eD};function tD(t){const a=wt();return B.useMemo(()=>Object.prototype.hasOwnProperty.call(t_,t)?t_[t]:(a.getState().onError?.("009",cr.error009(t)),null),[t])}const nD=({id:t,type:a,color:i,width:s=12.5,height:o=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:f="auto-start-reverse"})=>{const g=tD(a);return g?de.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${s}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:f,refX:"0",refY:"0"},de.createElement(g,{color:i,strokeWidth:c})):null},rD=({defaultColor:t,rfId:a})=>i=>{const s=[];return i.edges.reduce((o,u)=>([u.markerStart,u.markerEnd].forEach(c=>{if(c&&typeof c=="object"){const f=w0(c,a);s.includes(f)||(o.push({id:f,color:c.color||t,...c}),s.push(f))}}),o),[]).sort((o,u)=>o.id.localeCompare(u.id))},n3=({defaultColor:t,rfId:a})=>{const i=at(B.useCallback(rD({defaultColor:t,rfId:a}),[t,a]),(s,o)=>!(s.length!==o.length||s.some((u,c)=>u.id!==o[c].id)));return de.createElement("defs",null,i.map(s=>de.createElement(nD,{id:s.id,key:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient})))};n3.displayName="MarkerDefinitions";var aD=B.memo(n3);const iD=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),r3=({defaultMarkerColor:t,onlyRenderVisibleElements:a,elevateEdgesOnSelect:i,rfId:s,edgeTypes:o,noPanClassName:u,onEdgeContextMenu:c,onEdgeMouseEnter:f,onEdgeMouseMove:g,onEdgeMouseLeave:m,onEdgeClick:h,onEdgeDoubleClick:v,onReconnect:x,onReconnectStart:b,onReconnectEnd:S,reconnectRadius:_,children:N,disableKeyboardA11y:E})=>{const{edgesFocusable:C,edgesUpdatable:T,elementsSelectable:M,width:O,height:k,connectionMode:H,nodeInternals:$,onError:U}=at(iD,Mt),Y=Pq(a,$,i);return O?de.createElement(de.Fragment,null,Y.map(({level:Z,edges:K,isMaxLevel:ae})=>de.createElement("svg",{key:Z,style:{zIndex:Z},width:O,height:k,className:"react-flow__edges react-flow__container"},ae&&de.createElement(aD,{defaultColor:t,rfId:s}),de.createElement("g",null,K.map(L=>{const[ee,z,P]=e_($.get(L.source)),[le,W,X]=e_($.get(L.target));if(!P||!X)return null;let D=L.type||"default";o[D]||(U?.("011",cr.error011(D)),D="default");const I=o[D]||o.default,A=H===ba.Strict?W.target:(W.target??[]).concat(W.source??[]),j=W1(z.source,L.sourceHandle),R=W1(A,L.targetHandle),G=j?.position||_e.Bottom,F=R?.position||_e.Top,re=!!(L.focusable||C&&typeof L.focusable>"u"),te=L.reconnectable||L.updatable,ge=typeof x<"u"&&(te||T&&typeof te>"u");if(!j||!R)return U?.("008",cr.error008(j,L)),null;const{sourceX:ce,sourceY:Q,targetX:ve,targetY:be}=Kq(ee,j,G,le,R,F);return de.createElement(I,{key:L.id,id:L.id,className:kt([L.className,u]),type:D,data:L.data,selected:!!L.selected,animated:!!L.animated,hidden:!!L.hidden,label:L.label,labelStyle:L.labelStyle,labelShowBg:L.labelShowBg,labelBgStyle:L.labelBgStyle,labelBgPadding:L.labelBgPadding,labelBgBorderRadius:L.labelBgBorderRadius,style:L.style,source:L.source,target:L.target,sourceHandleId:L.sourceHandle,targetHandleId:L.targetHandle,markerEnd:L.markerEnd,markerStart:L.markerStart,sourceX:ce,sourceY:Q,targetX:ve,targetY:be,sourcePosition:G,targetPosition:F,elementsSelectable:M,onContextMenu:c,onMouseEnter:f,onMouseMove:g,onMouseLeave:m,onClick:h,onEdgeDoubleClick:v,onReconnect:x,onReconnectStart:b,onReconnectEnd:S,reconnectRadius:_,rfId:s,ariaLabel:L.ariaLabel,isFocusable:re,isReconnectable:ge,pathOptions:"pathOptions"in L?L.pathOptions:void 0,interactionWidth:L.interactionWidth,disableKeyboardA11y:E})})))),N):null};r3.displayName="EdgeRenderer";var sD=B.memo(r3);const lD=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function oD({children:t}){const a=at(lD);return de.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:a}},t)}function uD(t){const a=F0(),i=B.useRef(!1);B.useEffect(()=>{!i.current&&a.viewportInitialized&&t&&(setTimeout(()=>t(a),1),i.current=!0)},[t,a.viewportInitialized])}const cD={[_e.Left]:_e.Right,[_e.Right]:_e.Left,[_e.Top]:_e.Bottom,[_e.Bottom]:_e.Top},a3=({nodeId:t,handleType:a,style:i,type:s=Ir.Bezier,CustomComponent:o,connectionStatus:u})=>{const{fromNode:c,handleId:f,toX:g,toY:m,connectionMode:h}=at(B.useCallback(k=>({fromNode:k.nodeInternals.get(t),handleId:k.connectionHandleId,toX:(k.connectionPosition.x-k.transform[0])/k.transform[2],toY:(k.connectionPosition.y-k.transform[1])/k.transform[2],connectionMode:k.connectionMode}),[t]),Mt),v=c?.[ot]?.handleBounds;let x=v?.[a];if(h===ba.Loose&&(x=x||v?.[a==="source"?"target":"source"]),!c||!x)return null;const b=f?x.find(k=>k.id===f):x[0],S=b?b.x+b.width/2:(c.width??0)/2,_=b?b.y+b.height/2:c.height??0,N=(c.positionAbsolute?.x??0)+S,E=(c.positionAbsolute?.y??0)+_,C=b?.position,T=C?cD[C]:null;if(!C||!T)return null;if(o)return de.createElement(o,{connectionLineType:s,connectionLineStyle:i,fromNode:c,fromHandle:b,fromX:N,fromY:E,toX:g,toY:m,fromPosition:C,toPosition:T,connectionStatus:u});let M="";const O={sourceX:N,sourceY:E,sourcePosition:C,targetX:g,targetY:m,targetPosition:T};return s===Ir.Bezier?[M]=CT(O):s===Ir.Step?[M]=S0({...O,borderRadius:0}):s===Ir.SmoothStep?[M]=S0(O):s===Ir.SimpleBezier?[M]=TT(O):M=`M${N},${E} ${g},${m}`,de.createElement("path",{d:M,fill:"none",className:"react-flow__connection-path",style:i})};a3.displayName="ConnectionLine";const fD=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function dD({containerStyle:t,style:a,type:i,component:s}){const{nodeId:o,handleType:u,nodesConnectable:c,width:f,height:g,connectionStatus:m}=at(fD,Mt);return!(o&&u&&f&&c)?null:de.createElement("svg",{style:t,width:f,height:g,className:"react-flow__edges react-flow__connectionline react-flow__container"},de.createElement("g",{className:kt(["react-flow__connection",m])},de.createElement(a3,{nodeId:o,handleType:u,style:a,type:i,CustomComponent:s,connectionStatus:m})))}function n_(t,a){return B.useRef(null),wt(),B.useMemo(()=>a(t),[t])}const i3=({nodeTypes:t,edgeTypes:a,onMove:i,onMoveStart:s,onMoveEnd:o,onInit:u,onNodeClick:c,onEdgeClick:f,onNodeDoubleClick:g,onEdgeDoubleClick:m,onNodeMouseEnter:h,onNodeMouseMove:v,onNodeMouseLeave:x,onNodeContextMenu:b,onSelectionContextMenu:S,onSelectionStart:_,onSelectionEnd:N,connectionLineType:E,connectionLineStyle:C,connectionLineComponent:T,connectionLineContainerStyle:M,selectionKeyCode:O,selectionOnDrag:k,selectionMode:H,multiSelectionKeyCode:$,panActivationKeyCode:U,zoomActivationKeyCode:Y,deleteKeyCode:Z,onlyRenderVisibleElements:K,elementsSelectable:ae,selectNodesOnDrag:L,defaultViewport:ee,translateExtent:z,minZoom:P,maxZoom:le,preventScrolling:W,defaultMarkerColor:X,zoomOnScroll:D,zoomOnPinch:I,panOnScroll:A,panOnScrollSpeed:j,panOnScrollMode:R,zoomOnDoubleClick:G,panOnDrag:F,onPaneClick:re,onPaneMouseEnter:te,onPaneMouseMove:ge,onPaneMouseLeave:ce,onPaneScroll:Q,onPaneContextMenu:ve,onEdgeContextMenu:be,onEdgeMouseEnter:pe,onEdgeMouseMove:Ce,onEdgeMouseLeave:ye,onReconnect:xe,onReconnectStart:qe,onReconnectEnd:Je,reconnectRadius:Oe,noDragClassName:Ae,noWheelClassName:Ve,noPanClassName:Ge,elevateEdgesOnSelect:Rt,disableKeyboardA11y:tn,nodeOrigin:Yt,nodeExtent:_t,rfId:vn})=>{const yn=n_(t,Uq),dt=n_(a,Xq);return uD(u),de.createElement(Lq,{onPaneClick:re,onPaneMouseEnter:te,onPaneMouseMove:ge,onPaneMouseLeave:ce,onPaneContextMenu:ve,onPaneScroll:Q,deleteKeyCode:Z,selectionKeyCode:O,selectionOnDrag:k,selectionMode:H,onSelectionStart:_,onSelectionEnd:N,multiSelectionKeyCode:$,panActivationKeyCode:U,zoomActivationKeyCode:Y,elementsSelectable:ae,onMove:i,onMoveStart:s,onMoveEnd:o,zoomOnScroll:D,zoomOnPinch:I,zoomOnDoubleClick:G,panOnScroll:A,panOnScrollSpeed:j,panOnScrollMode:R,panOnDrag:F,defaultViewport:ee,translateExtent:z,minZoom:P,maxZoom:le,onSelectionContextMenu:S,preventScrolling:W,noDragClassName:Ae,noWheelClassName:Ve,noPanClassName:Ge,disableKeyboardA11y:tn},de.createElement(oD,null,de.createElement(sD,{edgeTypes:dt,onEdgeClick:f,onEdgeDoubleClick:m,onlyRenderVisibleElements:K,onEdgeContextMenu:be,onEdgeMouseEnter:pe,onEdgeMouseMove:Ce,onEdgeMouseLeave:ye,onReconnect:xe,onReconnectStart:qe,onReconnectEnd:Je,reconnectRadius:Oe,defaultMarkerColor:X,noPanClassName:Ge,elevateEdgesOnSelect:!!Rt,disableKeyboardA11y:tn,rfId:vn},de.createElement(dD,{style:C,type:E,component:T,containerStyle:M})),de.createElement("div",{className:"react-flow__edgelabel-renderer"}),de.createElement(Iq,{nodeTypes:yn,onNodeClick:c,onNodeDoubleClick:g,onNodeMouseEnter:h,onNodeMouseMove:v,onNodeMouseLeave:x,onNodeContextMenu:b,selectNodesOnDrag:L,onlyRenderVisibleElements:K,noPanClassName:Ge,noDragClassName:Ae,disableKeyboardA11y:tn,nodeOrigin:Yt,nodeExtent:_t,rfId:vn})))};i3.displayName="GraphView";var hD=B.memo(i3);const C0=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ur={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:C0,nodeExtent:C0,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ba.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:$4,isValidConnection:void 0},mD=()=>e5((t,a)=>({...Ur,setNodes:i=>{const{nodeInternals:s,nodeOrigin:o,elevateNodesOnSelect:u}=a();t({nodeInternals:Yf(i,s,o,u)})},getNodes:()=>Array.from(a().nodeInternals.values()),setEdges:i=>{const{defaultEdgeOptions:s={}}=a();t({edges:i.map(o=>({...s,...o}))})},setDefaultNodesAndEdges:(i,s)=>{const o=typeof i<"u",u=typeof s<"u",c=o?Yf(i,new Map,a().nodeOrigin,a().elevateNodesOnSelect):new Map;t({nodeInternals:c,edges:u?s:[],hasDefaultNodes:o,hasDefaultEdges:u})},updateNodeDimensions:i=>{const{onNodesChange:s,nodeInternals:o,fitViewOnInit:u,fitViewOnInitDone:c,fitViewOnInitOptions:f,domNode:g,nodeOrigin:m}=a(),h=g?.querySelector(".react-flow__viewport");if(!h)return;const v=window.getComputedStyle(h),{m22:x}=new window.DOMMatrixReadOnly(v.transform),b=i.reduce((_,N)=>{const E=o.get(N.id);if(E?.hidden)o.set(E.id,{...E,[ot]:{...E[ot],handleBounds:void 0}});else if(E){const C=k0(N.nodeElement);C.width&&C.height&&(E.width!==C.width||E.height!==C.height||N.forceUpdate)&&(o.set(E.id,{...E,[ot]:{...E[ot],handleBounds:{source:Z1(".source",N.nodeElement,x,m),target:Z1(".target",N.nodeElement,x,m)}},...C}),_.push({id:E.id,type:"dimensions",dimensions:C}))}return _},[]);YT(o,m);const S=c||u&&!c&&FT(a,{initial:!0,...f});t({nodeInternals:new Map(o),fitViewOnInitDone:S}),b?.length>0&&s?.(b)},updateNodePositions:(i,s=!0,o=!1)=>{const{triggerNodeChanges:u}=a(),c=i.map(f=>{const g={id:f.id,type:"position",dragging:o};return s&&(g.positionAbsolute=f.positionAbsolute,g.position=f.position),g});u(c)},triggerNodeChanges:i=>{const{onNodesChange:s,nodeInternals:o,hasDefaultNodes:u,nodeOrigin:c,getNodes:f,elevateNodesOnSelect:g}=a();if(i?.length){if(u){const m=KT(i,f()),h=Yf(m,o,c,g);t({nodeInternals:h})}s?.(i)}},addSelectedNodes:i=>{const{multiSelectionActive:s,edges:o,getNodes:u}=a();let c,f=null;s?c=i.map(g=>Gr(g,!0)):(c=fi(u(),i),f=fi(o,[])),Co({changedNodes:c,changedEdges:f,get:a,set:t})},addSelectedEdges:i=>{const{multiSelectionActive:s,edges:o,getNodes:u}=a();let c,f=null;s?c=i.map(g=>Gr(g,!0)):(c=fi(o,i),f=fi(u(),[])),Co({changedNodes:f,changedEdges:c,get:a,set:t})},unselectNodesAndEdges:({nodes:i,edges:s}={})=>{const{edges:o,getNodes:u}=a(),c=i||u(),f=s||o,g=c.map(h=>(h.selected=!1,Gr(h.id,!1))),m=f.map(h=>Gr(h.id,!1));Co({changedNodes:g,changedEdges:m,get:a,set:t})},setMinZoom:i=>{const{d3Zoom:s,maxZoom:o}=a();s?.scaleExtent([i,o]),t({minZoom:i})},setMaxZoom:i=>{const{d3Zoom:s,minZoom:o}=a();s?.scaleExtent([o,i]),t({maxZoom:i})},setTranslateExtent:i=>{a().d3Zoom?.translateExtent(i),t({translateExtent:i})},resetSelectedElements:()=>{const{edges:i,getNodes:s}=a(),u=s().filter(f=>f.selected).map(f=>Gr(f.id,!1)),c=i.filter(f=>f.selected).map(f=>Gr(f.id,!1));Co({changedNodes:u,changedEdges:c,get:a,set:t})},setNodeExtent:i=>{const{nodeInternals:s}=a();s.forEach(o=>{o.positionAbsolute=H0(o.position,i)}),t({nodeExtent:i,nodeInternals:new Map(s)})},panBy:i=>{const{transform:s,width:o,height:u,d3Zoom:c,d3Selection:f,translateExtent:g}=a();if(!c||!f||!i.x&&!i.y)return!1;const m=Yr.translate(s[0]+i.x,s[1]+i.y).scale(s[2]),h=[[0,0],[o,u]],v=c?.constrain()(m,h,g);return c.transform(f,v),s[0]!==v.x||s[1]!==v.y||s[2]!==v.k},cancelConnection:()=>t({connectionNodeId:Ur.connectionNodeId,connectionHandleId:Ur.connectionHandleId,connectionHandleType:Ur.connectionHandleType,connectionStatus:Ur.connectionStatus,connectionStartHandle:Ur.connectionStartHandle,connectionEndHandle:Ur.connectionEndHandle}),reset:()=>t({...Ur})}),Object.is),s3=({children:t})=>{const a=B.useRef(null);return a.current||(a.current=mD()),de.createElement(D4,{value:a.current},t)};s3.displayName="ReactFlowProvider";const l3=({children:t})=>B.useContext(Jo)?de.createElement(de.Fragment,null,t):de.createElement(s3,null,t);l3.displayName="ReactFlowWrapper";const gD={input:LT,default:E0,output:UT,group:Y0},pD={default:Vo,straight:$0,step:U0,smoothstep:Wo,simplebezier:B0},vD=[0,0],yD=[15,15],xD={x:0,y:0,zoom:1},bD={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},K0=B.forwardRef(({nodes:t,edges:a,defaultNodes:i,defaultEdges:s,className:o,nodeTypes:u=gD,edgeTypes:c=pD,onNodeClick:f,onEdgeClick:g,onInit:m,onMove:h,onMoveStart:v,onMoveEnd:x,onConnect:b,onConnectStart:S,onConnectEnd:_,onClickConnectStart:N,onClickConnectEnd:E,onNodeMouseEnter:C,onNodeMouseMove:T,onNodeMouseLeave:M,onNodeContextMenu:O,onNodeDoubleClick:k,onNodeDragStart:H,onNodeDrag:$,onNodeDragStop:U,onNodesDelete:Y,onEdgesDelete:Z,onSelectionChange:K,onSelectionDragStart:ae,onSelectionDrag:L,onSelectionDragStop:ee,onSelectionContextMenu:z,onSelectionStart:P,onSelectionEnd:le,connectionMode:W=ba.Strict,connectionLineType:X=Ir.Bezier,connectionLineStyle:D,connectionLineComponent:I,connectionLineContainerStyle:A,deleteKeyCode:j="Backspace",selectionKeyCode:R="Shift",selectionOnDrag:G=!1,selectionMode:F=Hs.Full,panActivationKeyCode:re="Space",multiSelectionKeyCode:te=Io()?"Meta":"Control",zoomActivationKeyCode:ge=Io()?"Meta":"Control",snapToGrid:ce=!1,snapGrid:Q=yD,onlyRenderVisibleElements:ve=!1,selectNodesOnDrag:be=!0,nodesDraggable:pe,nodesConnectable:Ce,nodesFocusable:ye,nodeOrigin:xe=vD,edgesFocusable:qe,edgesUpdatable:Je,elementsSelectable:Oe,defaultViewport:Ae=xD,minZoom:Ve=.5,maxZoom:Ge=2,translateExtent:Rt=C0,preventScrolling:tn=!0,nodeExtent:Yt,defaultMarkerColor:_t="#b1b1b7",zoomOnScroll:vn=!0,zoomOnPinch:yn=!0,panOnScroll:dt=!1,panOnScrollSpeed:qt=.5,panOnScrollMode:it=va.Free,zoomOnDoubleClick:Ye=!0,panOnDrag:Dt=!0,onPaneClick:tt,onPaneMouseEnter:Bn,onPaneMouseMove:Ni,onPaneMouseLeave:Ei,onPaneScroll:jn,onPaneContextMenu:hr,children:Kr,onEdgeContextMenu:Ot,onEdgeDoubleClick:Ta,onEdgeMouseEnter:Zr,onEdgeMouseMove:vu,onEdgeMouseLeave:Zs,onEdgeUpdate:Ti,onEdgeUpdateStart:Qr,onEdgeUpdateEnd:yu,onReconnect:Qs,onReconnectStart:Js,onReconnectEnd:Ps,reconnectRadius:Ci=10,edgeUpdaterRadius:ji=10,onNodesChange:Ws,onEdgesChange:el,noDragClassName:An="nodrag",noWheelClassName:xt="nowheel",noPanClassName:Nt="nopan",fitView:mr=!1,fitViewOptions:Ai,connectOnClick:xu=!0,attributionPosition:bu,proOptions:tl,defaultEdgeOptions:Jr,elevateNodesOnSelect:Mi=!0,elevateEdgesOnSelect:gr=!1,disableKeyboardA11y:Un=!1,autoPanOnConnect:Pr=!0,autoPanOnNodeDrag:pr=!0,connectionRadius:ht=20,isValidConnection:nl,onError:rl,style:$n,id:Gn,nodeDragThreshold:_u,...al},il)=>{const Ri=Gn||"1";return de.createElement("div",{...al,style:{...$n,...bD},ref:il,className:kt(["react-flow",o]),"data-testid":"rf__wrapper",id:Gn},de.createElement(l3,null,de.createElement(hD,{onInit:m,onMove:h,onMoveStart:v,onMoveEnd:x,onNodeClick:f,onEdgeClick:g,onNodeMouseEnter:C,onNodeMouseMove:T,onNodeMouseLeave:M,onNodeContextMenu:O,onNodeDoubleClick:k,nodeTypes:u,edgeTypes:c,connectionLineType:X,connectionLineStyle:D,connectionLineComponent:I,connectionLineContainerStyle:A,selectionKeyCode:R,selectionOnDrag:G,selectionMode:F,deleteKeyCode:j,multiSelectionKeyCode:te,panActivationKeyCode:re,zoomActivationKeyCode:ge,onlyRenderVisibleElements:ve,selectNodesOnDrag:be,defaultViewport:Ae,translateExtent:Rt,minZoom:Ve,maxZoom:Ge,preventScrolling:tn,zoomOnScroll:vn,zoomOnPinch:yn,zoomOnDoubleClick:Ye,panOnScroll:dt,panOnScrollSpeed:qt,panOnScrollMode:it,panOnDrag:Dt,onPaneClick:tt,onPaneMouseEnter:Bn,onPaneMouseMove:Ni,onPaneMouseLeave:Ei,onPaneScroll:jn,onPaneContextMenu:hr,onSelectionContextMenu:z,onSelectionStart:P,onSelectionEnd:le,onEdgeContextMenu:Ot,onEdgeDoubleClick:Ta,onEdgeMouseEnter:Zr,onEdgeMouseMove:vu,onEdgeMouseLeave:Zs,onReconnect:Qs??Ti,onReconnectStart:Js??Qr,onReconnectEnd:Ps??yu,reconnectRadius:Ci??ji,defaultMarkerColor:_t,noDragClassName:An,noWheelClassName:xt,noPanClassName:Nt,elevateEdgesOnSelect:gr,rfId:Ri,disableKeyboardA11y:Un,nodeOrigin:xe,nodeExtent:Yt}),de.createElement(cq,{nodes:t,edges:a,defaultNodes:i,defaultEdges:s,onConnect:b,onConnectStart:S,onConnectEnd:_,onClickConnectStart:N,onClickConnectEnd:E,nodesDraggable:pe,nodesConnectable:Ce,nodesFocusable:ye,edgesFocusable:qe,edgesUpdatable:Je,elementsSelectable:Oe,elevateNodesOnSelect:Mi,minZoom:Ve,maxZoom:Ge,nodeExtent:Yt,onNodesChange:Ws,onEdgesChange:el,snapToGrid:ce,snapGrid:Q,connectionMode:W,translateExtent:Rt,connectOnClick:xu,defaultEdgeOptions:Jr,fitView:mr,fitViewOptions:Ai,onNodesDelete:Y,onEdgesDelete:Z,onNodeDragStart:H,onNodeDrag:$,onNodeDragStop:U,onSelectionDrag:L,onSelectionDragStart:ae,onSelectionDragStop:ee,noPanClassName:Nt,nodeOrigin:xe,rfId:Ri,autoPanOnConnect:Pr,autoPanOnNodeDrag:pr,onError:rl,connectionRadius:ht,isValidConnection:nl,nodeDragThreshold:_u}),de.createElement(oq,{onSelectionChange:K}),Kr,de.createElement(z4,{proOptions:tl,position:bu}),de.createElement(gq,{rfId:Ri,disableKeyboardA11y:Un})))});K0.displayName="ReactFlow";function o3(t){return a=>{const[i,s]=B.useState(a),o=B.useCallback(u=>s(c=>t(u,c)),[]);return[i,s,o]}}const u3=o3(KT),c3=o3(Aq);function _D(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},de.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function SD(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},de.createElement("path",{d:"M0 0h32v4.2H0z"}))}function wD(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},de.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function ND(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},de.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ED(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},de.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const js=({children:t,className:a,...i})=>de.createElement("button",{type:"button",className:kt(["react-flow__controls-button",a]),...i},t);js.displayName="ControlButton";const TD=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),f3=({style:t,showZoom:a=!0,showFitView:i=!0,showInteractive:s=!0,fitViewOptions:o,onZoomIn:u,onZoomOut:c,onFitView:f,onInteractiveChange:g,className:m,children:h,position:v="bottom-left"})=>{const x=wt(),[b,S]=B.useState(!1),{isInteractive:_,minZoomReached:N,maxZoomReached:E}=at(TD,Mt),{zoomIn:C,zoomOut:T,fitView:M}=F0();if(B.useEffect(()=>{S(!0)},[]),!b)return null;const O=()=>{C(),u?.()},k=()=>{T(),c?.()},H=()=>{M(o),f?.()},$=()=>{x.setState({nodesDraggable:!_,nodesConnectable:!_,elementsSelectable:!_}),g?.(!_)};return de.createElement(Po,{className:kt(["react-flow__controls",m]),position:v,style:t,"data-testid":"rf__controls"},a&&de.createElement(de.Fragment,null,de.createElement(js,{onClick:O,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:E},de.createElement(_D,null)),de.createElement(js,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:N},de.createElement(SD,null))),i&&de.createElement(js,{className:"react-flow__controls-fitview",onClick:H,title:"fit view","aria-label":"fit view"},de.createElement(wD,null)),s&&de.createElement(js,{className:"react-flow__controls-interactive",onClick:$,title:"toggle interactivity","aria-label":"toggle interactivity"},_?de.createElement(ED,null):de.createElement(ND,null)),h)};f3.displayName="Controls";var d3=B.memo(f3),Nn;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Nn||(Nn={}));function CD({color:t,dimensions:a,lineWidth:i}){return de.createElement("path",{stroke:t,strokeWidth:i,d:`M${a[0]/2} 0 V${a[1]} M0 ${a[1]/2} H${a[0]}`})}function jD({color:t,radius:a}){return de.createElement("circle",{cx:a,cy:a,r:a,fill:t})}const AD={[Nn.Dots]:"#91919a",[Nn.Lines]:"#eee",[Nn.Cross]:"#e2e2e2"},MD={[Nn.Dots]:1,[Nn.Lines]:1,[Nn.Cross]:6},RD=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function h3({id:t,variant:a=Nn.Dots,gap:i=20,size:s,lineWidth:o=1,offset:u=2,color:c,style:f,className:g}){const m=B.useRef(null),{transform:h,patternId:v}=at(RD,Mt),x=c||AD[a],b=s||MD[a],S=a===Nn.Dots,_=a===Nn.Cross,N=Array.isArray(i)?i:[i,i],E=[N[0]*h[2]||1,N[1]*h[2]||1],C=b*h[2],T=_?[C,C]:E,M=S?[C/u,C/u]:[T[0]/u,T[1]/u];return de.createElement("svg",{className:kt(["react-flow__background",g]),style:{...f,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:m,"data-testid":"rf__background"},de.createElement("pattern",{id:v+t,x:h[0]%E[0],y:h[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`},S?de.createElement(jD,{color:x,radius:C/u}):de.createElement(CD,{dimensions:T,color:x,lineWidth:o})),de.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${v+t})`}))}h3.displayName="Background";var m3=B.memo(h3);function Z0(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zf,r_;function qD(){if(r_)return Zf;r_=1;function t(){this.__data__=[],this.size=0}return Zf=t,Zf}var Qf,a_;function xi(){if(a_)return Qf;a_=1;function t(a,i){return a===i||a!==a&&i!==i}return Qf=t,Qf}var Jf,i_;function eu(){if(i_)return Jf;i_=1;var t=xi();function a(i,s){for(var o=i.length;o--;)if(t(i[o][0],s))return o;return-1}return Jf=a,Jf}var Pf,s_;function DD(){if(s_)return Pf;s_=1;var t=eu(),a=Array.prototype,i=a.splice;function s(o){var u=this.__data__,c=t(u,o);if(c<0)return!1;var f=u.length-1;return c==f?u.pop():i.call(u,c,1),--this.size,!0}return Pf=s,Pf}var Wf,l_;function OD(){if(l_)return Wf;l_=1;var t=eu();function a(i){var s=this.__data__,o=t(s,i);return o<0?void 0:s[o][1]}return Wf=a,Wf}var ed,o_;function zD(){if(o_)return ed;o_=1;var t=eu();function a(i){return t(this.__data__,i)>-1}return ed=a,ed}var td,u_;function kD(){if(u_)return td;u_=1;var t=eu();function a(i,s){var o=this.__data__,u=t(o,i);return u<0?(++this.size,o.push([i,s])):o[u][1]=s,this}return td=a,td}var nd,c_;function tu(){if(c_)return nd;c_=1;var t=qD(),a=DD(),i=OD(),s=zD(),o=kD();function u(c){var f=-1,g=c==null?0:c.length;for(this.clear();++f<g;){var m=c[f];this.set(m[0],m[1])}}return u.prototype.clear=t,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=s,u.prototype.set=o,nd=u,nd}var rd,f_;function HD(){if(f_)return rd;f_=1;var t=tu();function a(){this.__data__=new t,this.size=0}return rd=a,rd}var ad,d_;function LD(){if(d_)return ad;d_=1;function t(a){var i=this.__data__,s=i.delete(a);return this.size=i.size,s}return ad=t,ad}var id,h_;function BD(){if(h_)return id;h_=1;function t(a){return this.__data__.get(a)}return id=t,id}var sd,m_;function UD(){if(m_)return sd;m_=1;function t(a){return this.__data__.has(a)}return sd=t,sd}var ld,g_;function g3(){if(g_)return ld;g_=1;var t=typeof xo=="object"&&xo&&xo.Object===Object&&xo;return ld=t,ld}var od,p_;function Cn(){if(p_)return od;p_=1;var t=g3(),a=typeof self=="object"&&self&&self.Object===Object&&self,i=t||a||Function("return this")();return od=i,od}var ud,v_;function bi(){if(v_)return ud;v_=1;var t=Cn(),a=t.Symbol;return ud=a,ud}var cd,y_;function $D(){if(y_)return cd;y_=1;var t=bi(),a=Object.prototype,i=a.hasOwnProperty,s=a.toString,o=t?t.toStringTag:void 0;function u(c){var f=i.call(c,o),g=c[o];try{c[o]=void 0;var m=!0}catch{}var h=s.call(c);return m&&(f?c[o]=g:delete c[o]),h}return cd=u,cd}var fd,x_;function GD(){if(x_)return fd;x_=1;var t=Object.prototype,a=t.toString;function i(s){return a.call(s)}return fd=i,fd}var dd,b_;function Sa(){if(b_)return dd;b_=1;var t=bi(),a=$D(),i=GD(),s="[object Null]",o="[object Undefined]",u=t?t.toStringTag:void 0;function c(f){return f==null?f===void 0?o:s:u&&u in Object(f)?a(f):i(f)}return dd=c,dd}var hd,__;function gn(){if(__)return hd;__=1;function t(a){var i=typeof a;return a!=null&&(i=="object"||i=="function")}return hd=t,hd}var md,S_;function Vs(){if(S_)return md;S_=1;var t=Sa(),a=gn(),i="[object AsyncFunction]",s="[object Function]",o="[object GeneratorFunction]",u="[object Proxy]";function c(f){if(!a(f))return!1;var g=t(f);return g==s||g==o||g==i||g==u}return md=c,md}var gd,w_;function ID(){if(w_)return gd;w_=1;var t=Cn(),a=t["__core-js_shared__"];return gd=a,gd}var pd,N_;function VD(){if(N_)return pd;N_=1;var t=ID(),a=(function(){var s=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function i(s){return!!a&&a in s}return pd=i,pd}var vd,E_;function p3(){if(E_)return vd;E_=1;var t=Function.prototype,a=t.toString;function i(s){if(s!=null){try{return a.call(s)}catch{}try{return s+""}catch{}}return""}return vd=i,vd}var yd,T_;function YD(){if(T_)return yd;T_=1;var t=Vs(),a=VD(),i=gn(),s=p3(),o=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,g=c.toString,m=f.hasOwnProperty,h=RegExp("^"+g.call(m).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(x){if(!i(x)||a(x))return!1;var b=t(x)?h:u;return b.test(s(x))}return yd=v,yd}var xd,C_;function FD(){if(C_)return xd;C_=1;function t(a,i){return a?.[i]}return xd=t,xd}var bd,j_;function wa(){if(j_)return bd;j_=1;var t=YD(),a=FD();function i(s,o){var u=a(s,o);return t(u)?u:void 0}return bd=i,bd}var _d,A_;function Q0(){if(A_)return _d;A_=1;var t=wa(),a=Cn(),i=t(a,"Map");return _d=i,_d}var Sd,M_;function nu(){if(M_)return Sd;M_=1;var t=wa(),a=t(Object,"create");return Sd=a,Sd}var wd,R_;function XD(){if(R_)return wd;R_=1;var t=nu();function a(){this.__data__=t?t(null):{},this.size=0}return wd=a,wd}var Nd,q_;function KD(){if(q_)return Nd;q_=1;function t(a){var i=this.has(a)&&delete this.__data__[a];return this.size-=i?1:0,i}return Nd=t,Nd}var Ed,D_;function ZD(){if(D_)return Ed;D_=1;var t=nu(),a="__lodash_hash_undefined__",i=Object.prototype,s=i.hasOwnProperty;function o(u){var c=this.__data__;if(t){var f=c[u];return f===a?void 0:f}return s.call(c,u)?c[u]:void 0}return Ed=o,Ed}var Td,O_;function QD(){if(O_)return Td;O_=1;var t=nu(),a=Object.prototype,i=a.hasOwnProperty;function s(o){var u=this.__data__;return t?u[o]!==void 0:i.call(u,o)}return Td=s,Td}var Cd,z_;function JD(){if(z_)return Cd;z_=1;var t=nu(),a="__lodash_hash_undefined__";function i(s,o){var u=this.__data__;return this.size+=this.has(s)?0:1,u[s]=t&&o===void 0?a:o,this}return Cd=i,Cd}var jd,k_;function PD(){if(k_)return jd;k_=1;var t=XD(),a=KD(),i=ZD(),s=QD(),o=JD();function u(c){var f=-1,g=c==null?0:c.length;for(this.clear();++f<g;){var m=c[f];this.set(m[0],m[1])}}return u.prototype.clear=t,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=s,u.prototype.set=o,jd=u,jd}var Ad,H_;function WD(){if(H_)return Ad;H_=1;var t=PD(),a=tu(),i=Q0();function s(){this.size=0,this.__data__={hash:new t,map:new(i||a),string:new t}}return Ad=s,Ad}var Md,L_;function e6(){if(L_)return Md;L_=1;function t(a){var i=typeof a;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?a!=="__proto__":a===null}return Md=t,Md}var Rd,B_;function ru(){if(B_)return Rd;B_=1;var t=e6();function a(i,s){var o=i.__data__;return t(s)?o[typeof s=="string"?"string":"hash"]:o.map}return Rd=a,Rd}var qd,U_;function t6(){if(U_)return qd;U_=1;var t=ru();function a(i){var s=t(this,i).delete(i);return this.size-=s?1:0,s}return qd=a,qd}var Dd,$_;function n6(){if($_)return Dd;$_=1;var t=ru();function a(i){return t(this,i).get(i)}return Dd=a,Dd}var Od,G_;function r6(){if(G_)return Od;G_=1;var t=ru();function a(i){return t(this,i).has(i)}return Od=a,Od}var zd,I_;function a6(){if(I_)return zd;I_=1;var t=ru();function a(i,s){var o=t(this,i),u=o.size;return o.set(i,s),this.size+=o.size==u?0:1,this}return zd=a,zd}var kd,V_;function J0(){if(V_)return kd;V_=1;var t=WD(),a=t6(),i=n6(),s=r6(),o=a6();function u(c){var f=-1,g=c==null?0:c.length;for(this.clear();++f<g;){var m=c[f];this.set(m[0],m[1])}}return u.prototype.clear=t,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=s,u.prototype.set=o,kd=u,kd}var Hd,Y_;function i6(){if(Y_)return Hd;Y_=1;var t=tu(),a=Q0(),i=J0(),s=200;function o(u,c){var f=this.__data__;if(f instanceof t){var g=f.__data__;if(!a||g.length<s-1)return g.push([u,c]),this.size=++f.size,this;f=this.__data__=new i(g)}return f.set(u,c),this.size=f.size,this}return Hd=o,Hd}var Ld,F_;function au(){if(F_)return Ld;F_=1;var t=tu(),a=HD(),i=LD(),s=BD(),o=UD(),u=i6();function c(f){var g=this.__data__=new t(f);this.size=g.size}return c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=u,Ld=c,Ld}var Bd,X_;function P0(){if(X_)return Bd;X_=1;function t(a,i){for(var s=-1,o=a==null?0:a.length;++s<o&&i(a[s],s,a)!==!1;);return a}return Bd=t,Bd}var Ud,K_;function v3(){if(K_)return Ud;K_=1;var t=wa(),a=(function(){try{var i=t(Object,"defineProperty");return i({},"",{}),i}catch{}})();return Ud=a,Ud}var $d,Z_;function iu(){if(Z_)return $d;Z_=1;var t=v3();function a(i,s,o){s=="__proto__"&&t?t(i,s,{configurable:!0,enumerable:!0,value:o,writable:!0}):i[s]=o}return $d=a,$d}var Gd,Q_;function su(){if(Q_)return Gd;Q_=1;var t=iu(),a=xi(),i=Object.prototype,s=i.hasOwnProperty;function o(u,c,f){var g=u[c];(!(s.call(u,c)&&a(g,f))||f===void 0&&!(c in u))&&t(u,c,f)}return Gd=o,Gd}var Id,J_;function Ys(){if(J_)return Id;J_=1;var t=su(),a=iu();function i(s,o,u,c){var f=!u;u||(u={});for(var g=-1,m=o.length;++g<m;){var h=o[g],v=c?c(u[h],s[h],h,u,s):void 0;v===void 0&&(v=s[h]),f?a(u,h,v):t(u,h,v)}return u}return Id=i,Id}var Vd,P_;function s6(){if(P_)return Vd;P_=1;function t(a,i){for(var s=-1,o=Array(a);++s<a;)o[s]=i(s);return o}return Vd=t,Vd}var Yd,W_;function Ln(){if(W_)return Yd;W_=1;function t(a){return a!=null&&typeof a=="object"}return Yd=t,Yd}var Fd,e2;function l6(){if(e2)return Fd;e2=1;var t=Sa(),a=Ln(),i="[object Arguments]";function s(o){return a(o)&&t(o)==i}return Fd=s,Fd}var Xd,t2;function Fs(){if(t2)return Xd;t2=1;var t=l6(),a=Ln(),i=Object.prototype,s=i.hasOwnProperty,o=i.propertyIsEnumerable,u=t((function(){return arguments})())?t:function(c){return a(c)&&s.call(c,"callee")&&!o.call(c,"callee")};return Xd=u,Xd}var Kd,n2;function yt(){if(n2)return Kd;n2=1;var t=Array.isArray;return Kd=t,Kd}var As={exports:{}},Zd,r2;function o6(){if(r2)return Zd;r2=1;function t(){return!1}return Zd=t,Zd}As.exports;var a2;function _i(){return a2||(a2=1,(function(t,a){var i=Cn(),s=o6(),o=a&&!a.nodeType&&a,u=o&&!0&&t&&!t.nodeType&&t,c=u&&u.exports===o,f=c?i.Buffer:void 0,g=f?f.isBuffer:void 0,m=g||s;t.exports=m})(As,As.exports)),As.exports}var Qd,i2;function lu(){if(i2)return Qd;i2=1;var t=9007199254740991,a=/^(?:0|[1-9]\d*)$/;function i(s,o){var u=typeof s;return o=o??t,!!o&&(u=="number"||u!="symbol"&&a.test(s))&&s>-1&&s%1==0&&s<o}return Qd=i,Qd}var Jd,s2;function W0(){if(s2)return Jd;s2=1;var t=9007199254740991;function a(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=t}return Jd=a,Jd}var Pd,l2;function u6(){if(l2)return Pd;l2=1;var t=Sa(),a=W0(),i=Ln(),s="[object Arguments]",o="[object Array]",u="[object Boolean]",c="[object Date]",f="[object Error]",g="[object Function]",m="[object Map]",h="[object Number]",v="[object Object]",x="[object RegExp]",b="[object Set]",S="[object String]",_="[object WeakMap]",N="[object ArrayBuffer]",E="[object DataView]",C="[object Float32Array]",T="[object Float64Array]",M="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",H="[object Uint8Array]",$="[object Uint8ClampedArray]",U="[object Uint16Array]",Y="[object Uint32Array]",Z={};Z[C]=Z[T]=Z[M]=Z[O]=Z[k]=Z[H]=Z[$]=Z[U]=Z[Y]=!0,Z[s]=Z[o]=Z[N]=Z[u]=Z[E]=Z[c]=Z[f]=Z[g]=Z[m]=Z[h]=Z[v]=Z[x]=Z[b]=Z[S]=Z[_]=!1;function K(ae){return i(ae)&&a(ae.length)&&!!Z[t(ae)]}return Pd=K,Pd}var Wd,o2;function ou(){if(o2)return Wd;o2=1;function t(a){return function(i){return a(i)}}return Wd=t,Wd}var Ms={exports:{}};Ms.exports;var u2;function ev(){return u2||(u2=1,(function(t,a){var i=g3(),s=a&&!a.nodeType&&a,o=s&&!0&&t&&!t.nodeType&&t,u=o&&o.exports===s,c=u&&i.process,f=(function(){try{var g=o&&o.require&&o.require("util").types;return g||c&&c.binding&&c.binding("util")}catch{}})();t.exports=f})(Ms,Ms.exports)),Ms.exports}var eh,c2;function Xs(){if(c2)return eh;c2=1;var t=u6(),a=ou(),i=ev(),s=i&&i.isTypedArray,o=s?a(s):t;return eh=o,eh}var th,f2;function y3(){if(f2)return th;f2=1;var t=s6(),a=Fs(),i=yt(),s=_i(),o=lu(),u=Xs(),c=Object.prototype,f=c.hasOwnProperty;function g(m,h){var v=i(m),x=!v&&a(m),b=!v&&!x&&s(m),S=!v&&!x&&!b&&u(m),_=v||x||b||S,N=_?t(m.length,String):[],E=N.length;for(var C in m)(h||f.call(m,C))&&!(_&&(C=="length"||b&&(C=="offset"||C=="parent")||S&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||o(C,E)))&&N.push(C);return N}return th=g,th}var nh,d2;function uu(){if(d2)return nh;d2=1;var t=Object.prototype;function a(i){var s=i&&i.constructor,o=typeof s=="function"&&s.prototype||t;return i===o}return nh=a,nh}var rh,h2;function x3(){if(h2)return rh;h2=1;function t(a,i){return function(s){return a(i(s))}}return rh=t,rh}var ah,m2;function c6(){if(m2)return ah;m2=1;var t=x3(),a=t(Object.keys,Object);return ah=a,ah}var ih,g2;function tv(){if(g2)return ih;g2=1;var t=uu(),a=c6(),i=Object.prototype,s=i.hasOwnProperty;function o(u){if(!t(u))return a(u);var c=[];for(var f in Object(u))s.call(u,f)&&f!="constructor"&&c.push(f);return c}return ih=o,ih}var sh,p2;function fr(){if(p2)return sh;p2=1;var t=Vs(),a=W0();function i(s){return s!=null&&a(s.length)&&!t(s)}return sh=i,sh}var lh,v2;function Xr(){if(v2)return lh;v2=1;var t=y3(),a=tv(),i=fr();function s(o){return i(o)?t(o):a(o)}return lh=s,lh}var oh,y2;function f6(){if(y2)return oh;y2=1;var t=Ys(),a=Xr();function i(s,o){return s&&t(o,a(o),s)}return oh=i,oh}var uh,x2;function d6(){if(x2)return uh;x2=1;function t(a){var i=[];if(a!=null)for(var s in Object(a))i.push(s);return i}return uh=t,uh}var ch,b2;function h6(){if(b2)return ch;b2=1;var t=gn(),a=uu(),i=d6(),s=Object.prototype,o=s.hasOwnProperty;function u(c){if(!t(c))return i(c);var f=a(c),g=[];for(var m in c)m=="constructor"&&(f||!o.call(c,m))||g.push(m);return g}return ch=u,ch}var fh,_2;function Na(){if(_2)return fh;_2=1;var t=y3(),a=h6(),i=fr();function s(o){return i(o)?t(o,!0):a(o)}return fh=s,fh}var dh,S2;function m6(){if(S2)return dh;S2=1;var t=Ys(),a=Na();function i(s,o){return s&&t(o,a(o),s)}return dh=i,dh}var Rs={exports:{}};Rs.exports;var w2;function b3(){return w2||(w2=1,(function(t,a){var i=Cn(),s=a&&!a.nodeType&&a,o=s&&!0&&t&&!t.nodeType&&t,u=o&&o.exports===s,c=u?i.Buffer:void 0,f=c?c.allocUnsafe:void 0;function g(m,h){if(h)return m.slice();var v=m.length,x=f?f(v):new m.constructor(v);return m.copy(x),x}t.exports=g})(Rs,Rs.exports)),Rs.exports}var hh,N2;function _3(){if(N2)return hh;N2=1;function t(a,i){var s=-1,o=a.length;for(i||(i=Array(o));++s<o;)i[s]=a[s];return i}return hh=t,hh}var mh,E2;function S3(){if(E2)return mh;E2=1;function t(a,i){for(var s=-1,o=a==null?0:a.length,u=0,c=[];++s<o;){var f=a[s];i(f,s,a)&&(c[u++]=f)}return c}return mh=t,mh}var gh,T2;function w3(){if(T2)return gh;T2=1;function t(){return[]}return gh=t,gh}var ph,C2;function nv(){if(C2)return ph;C2=1;var t=S3(),a=w3(),i=Object.prototype,s=i.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(c){return c==null?[]:(c=Object(c),t(o(c),function(f){return s.call(c,f)}))}:a;return ph=u,ph}var vh,j2;function g6(){if(j2)return vh;j2=1;var t=Ys(),a=nv();function i(s,o){return t(s,a(s),o)}return vh=i,vh}var yh,A2;function rv(){if(A2)return yh;A2=1;function t(a,i){for(var s=-1,o=i.length,u=a.length;++s<o;)a[u+s]=i[s];return a}return yh=t,yh}var xh,M2;function cu(){if(M2)return xh;M2=1;var t=x3(),a=t(Object.getPrototypeOf,Object);return xh=a,xh}var bh,R2;function N3(){if(R2)return bh;R2=1;var t=rv(),a=cu(),i=nv(),s=w3(),o=Object.getOwnPropertySymbols,u=o?function(c){for(var f=[];c;)t(f,i(c)),c=a(c);return f}:s;return bh=u,bh}var _h,q2;function p6(){if(q2)return _h;q2=1;var t=Ys(),a=N3();function i(s,o){return t(s,a(s),o)}return _h=i,_h}var Sh,D2;function E3(){if(D2)return Sh;D2=1;var t=rv(),a=yt();function i(s,o,u){var c=o(s);return a(s)?c:t(c,u(s))}return Sh=i,Sh}var wh,O2;function T3(){if(O2)return wh;O2=1;var t=E3(),a=nv(),i=Xr();function s(o){return t(o,i,a)}return wh=s,wh}var Nh,z2;function v6(){if(z2)return Nh;z2=1;var t=E3(),a=N3(),i=Na();function s(o){return t(o,i,a)}return Nh=s,Nh}var Eh,k2;function y6(){if(k2)return Eh;k2=1;var t=wa(),a=Cn(),i=t(a,"DataView");return Eh=i,Eh}var Th,H2;function x6(){if(H2)return Th;H2=1;var t=wa(),a=Cn(),i=t(a,"Promise");return Th=i,Th}var Ch,L2;function C3(){if(L2)return Ch;L2=1;var t=wa(),a=Cn(),i=t(a,"Set");return Ch=i,Ch}var jh,B2;function b6(){if(B2)return jh;B2=1;var t=wa(),a=Cn(),i=t(a,"WeakMap");return jh=i,jh}var Ah,U2;function Si(){if(U2)return Ah;U2=1;var t=y6(),a=Q0(),i=x6(),s=C3(),o=b6(),u=Sa(),c=p3(),f="[object Map]",g="[object Object]",m="[object Promise]",h="[object Set]",v="[object WeakMap]",x="[object DataView]",b=c(t),S=c(a),_=c(i),N=c(s),E=c(o),C=u;return(t&&C(new t(new ArrayBuffer(1)))!=x||a&&C(new a)!=f||i&&C(i.resolve())!=m||s&&C(new s)!=h||o&&C(new o)!=v)&&(C=function(T){var M=u(T),O=M==g?T.constructor:void 0,k=O?c(O):"";if(k)switch(k){case b:return x;case S:return f;case _:return m;case N:return h;case E:return v}return M}),Ah=C,Ah}var Mh,$2;function _6(){if($2)return Mh;$2=1;var t=Object.prototype,a=t.hasOwnProperty;function i(s){var o=s.length,u=new s.constructor(o);return o&&typeof s[0]=="string"&&a.call(s,"index")&&(u.index=s.index,u.input=s.input),u}return Mh=i,Mh}var Rh,G2;function j3(){if(G2)return Rh;G2=1;var t=Cn(),a=t.Uint8Array;return Rh=a,Rh}var qh,I2;function av(){if(I2)return qh;I2=1;var t=j3();function a(i){var s=new i.constructor(i.byteLength);return new t(s).set(new t(i)),s}return qh=a,qh}var Dh,V2;function S6(){if(V2)return Dh;V2=1;var t=av();function a(i,s){var o=s?t(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.byteLength)}return Dh=a,Dh}var Oh,Y2;function w6(){if(Y2)return Oh;Y2=1;var t=/\w*$/;function a(i){var s=new i.constructor(i.source,t.exec(i));return s.lastIndex=i.lastIndex,s}return Oh=a,Oh}var zh,F2;function N6(){if(F2)return zh;F2=1;var t=bi(),a=t?t.prototype:void 0,i=a?a.valueOf:void 0;function s(o){return i?Object(i.call(o)):{}}return zh=s,zh}var kh,X2;function A3(){if(X2)return kh;X2=1;var t=av();function a(i,s){var o=s?t(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.length)}return kh=a,kh}var Hh,K2;function E6(){if(K2)return Hh;K2=1;var t=av(),a=S6(),i=w6(),s=N6(),o=A3(),u="[object Boolean]",c="[object Date]",f="[object Map]",g="[object Number]",m="[object RegExp]",h="[object Set]",v="[object String]",x="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",_="[object Float32Array]",N="[object Float64Array]",E="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",M="[object Uint8Array]",O="[object Uint8ClampedArray]",k="[object Uint16Array]",H="[object Uint32Array]";function $(U,Y,Z){var K=U.constructor;switch(Y){case b:return t(U);case u:case c:return new K(+U);case S:return a(U,Z);case _:case N:case E:case C:case T:case M:case O:case k:case H:return o(U,Z);case f:return new K;case g:case v:return new K(U);case m:return i(U);case h:return new K;case x:return s(U)}}return Hh=$,Hh}var Lh,Z2;function M3(){if(Z2)return Lh;Z2=1;var t=gn(),a=Object.create,i=(function(){function s(){}return function(o){if(!t(o))return{};if(a)return a(o);s.prototype=o;var u=new s;return s.prototype=void 0,u}})();return Lh=i,Lh}var Bh,Q2;function R3(){if(Q2)return Bh;Q2=1;var t=M3(),a=cu(),i=uu();function s(o){return typeof o.constructor=="function"&&!i(o)?t(a(o)):{}}return Bh=s,Bh}var Uh,J2;function T6(){if(J2)return Uh;J2=1;var t=Si(),a=Ln(),i="[object Map]";function s(o){return a(o)&&t(o)==i}return Uh=s,Uh}var $h,P2;function C6(){if(P2)return $h;P2=1;var t=T6(),a=ou(),i=ev(),s=i&&i.isMap,o=s?a(s):t;return $h=o,$h}var Gh,W2;function j6(){if(W2)return Gh;W2=1;var t=Si(),a=Ln(),i="[object Set]";function s(o){return a(o)&&t(o)==i}return Gh=s,Gh}var Ih,eS;function A6(){if(eS)return Ih;eS=1;var t=j6(),a=ou(),i=ev(),s=i&&i.isSet,o=s?a(s):t;return Ih=o,Ih}var Vh,tS;function q3(){if(tS)return Vh;tS=1;var t=au(),a=P0(),i=su(),s=f6(),o=m6(),u=b3(),c=_3(),f=g6(),g=p6(),m=T3(),h=v6(),v=Si(),x=_6(),b=E6(),S=R3(),_=yt(),N=_i(),E=C6(),C=gn(),T=A6(),M=Xr(),O=Na(),k=1,H=2,$=4,U="[object Arguments]",Y="[object Array]",Z="[object Boolean]",K="[object Date]",ae="[object Error]",L="[object Function]",ee="[object GeneratorFunction]",z="[object Map]",P="[object Number]",le="[object Object]",W="[object RegExp]",X="[object Set]",D="[object String]",I="[object Symbol]",A="[object WeakMap]",j="[object ArrayBuffer]",R="[object DataView]",G="[object Float32Array]",F="[object Float64Array]",re="[object Int8Array]",te="[object Int16Array]",ge="[object Int32Array]",ce="[object Uint8Array]",Q="[object Uint8ClampedArray]",ve="[object Uint16Array]",be="[object Uint32Array]",pe={};pe[U]=pe[Y]=pe[j]=pe[R]=pe[Z]=pe[K]=pe[G]=pe[F]=pe[re]=pe[te]=pe[ge]=pe[z]=pe[P]=pe[le]=pe[W]=pe[X]=pe[D]=pe[I]=pe[ce]=pe[Q]=pe[ve]=pe[be]=!0,pe[ae]=pe[L]=pe[A]=!1;function Ce(ye,xe,qe,Je,Oe,Ae){var Ve,Ge=xe&k,Rt=xe&H,tn=xe&$;if(qe&&(Ve=Oe?qe(ye,Je,Oe,Ae):qe(ye)),Ve!==void 0)return Ve;if(!C(ye))return ye;var Yt=_(ye);if(Yt){if(Ve=x(ye),!Ge)return c(ye,Ve)}else{var _t=v(ye),vn=_t==L||_t==ee;if(N(ye))return u(ye,Ge);if(_t==le||_t==U||vn&&!Oe){if(Ve=Rt||vn?{}:S(ye),!Ge)return Rt?g(ye,o(Ve,ye)):f(ye,s(Ve,ye))}else{if(!pe[_t])return Oe?ye:{};Ve=b(ye,_t,Ge)}}Ae||(Ae=new t);var yn=Ae.get(ye);if(yn)return yn;Ae.set(ye,Ve),T(ye)?ye.forEach(function(it){Ve.add(Ce(it,xe,qe,it,ye,Ae))}):E(ye)&&ye.forEach(function(it,Ye){Ve.set(Ye,Ce(it,xe,qe,Ye,ye,Ae))});var dt=tn?Rt?h:m:Rt?O:M,qt=Yt?void 0:dt(ye);return a(qt||ye,function(it,Ye){qt&&(Ye=it,it=ye[Ye]),i(Ve,Ye,Ce(it,xe,qe,Ye,ye,Ae))}),Ve}return Vh=Ce,Vh}var Yh,nS;function M6(){if(nS)return Yh;nS=1;var t=q3(),a=4;function i(s){return t(s,a)}return Yh=i,Yh}var Fh,rS;function iv(){if(rS)return Fh;rS=1;function t(a){return function(){return a}}return Fh=t,Fh}var Xh,aS;function R6(){if(aS)return Xh;aS=1;function t(a){return function(i,s,o){for(var u=-1,c=Object(i),f=o(i),g=f.length;g--;){var m=f[a?g:++u];if(s(c[m],m,c)===!1)break}return i}}return Xh=t,Xh}var Kh,iS;function sv(){if(iS)return Kh;iS=1;var t=R6(),a=t();return Kh=a,Kh}var Zh,sS;function lv(){if(sS)return Zh;sS=1;var t=sv(),a=Xr();function i(s,o){return s&&t(s,o,a)}return Zh=i,Zh}var Qh,lS;function q6(){if(lS)return Qh;lS=1;var t=fr();function a(i,s){return function(o,u){if(o==null)return o;if(!t(o))return i(o,u);for(var c=o.length,f=s?c:-1,g=Object(o);(s?f--:++f<c)&&u(g[f],f,g)!==!1;);return o}}return Qh=a,Qh}var Jh,oS;function fu(){if(oS)return Jh;oS=1;var t=lv(),a=q6(),i=a(t);return Jh=i,Jh}var Ph,uS;function Ea(){if(uS)return Ph;uS=1;function t(a){return a}return Ph=t,Ph}var Wh,cS;function D3(){if(cS)return Wh;cS=1;var t=Ea();function a(i){return typeof i=="function"?i:t}return Wh=a,Wh}var em,fS;function O3(){if(fS)return em;fS=1;var t=P0(),a=fu(),i=D3(),s=yt();function o(u,c){var f=s(u)?t:a;return f(u,i(c))}return em=o,em}var tm,dS;function z3(){return dS||(dS=1,tm=O3()),tm}var nm,hS;function D6(){if(hS)return nm;hS=1;var t=fu();function a(i,s){var o=[];return t(i,function(u,c,f){s(u,c,f)&&o.push(u)}),o}return nm=a,nm}var rm,mS;function O6(){if(mS)return rm;mS=1;var t="__lodash_hash_undefined__";function a(i){return this.__data__.set(i,t),this}return rm=a,rm}var am,gS;function z6(){if(gS)return am;gS=1;function t(a){return this.__data__.has(a)}return am=t,am}var im,pS;function k3(){if(pS)return im;pS=1;var t=J0(),a=O6(),i=z6();function s(o){var u=-1,c=o==null?0:o.length;for(this.__data__=new t;++u<c;)this.add(o[u])}return s.prototype.add=s.prototype.push=a,s.prototype.has=i,im=s,im}var sm,vS;function k6(){if(vS)return sm;vS=1;function t(a,i){for(var s=-1,o=a==null?0:a.length;++s<o;)if(i(a[s],s,a))return!0;return!1}return sm=t,sm}var lm,yS;function H3(){if(yS)return lm;yS=1;function t(a,i){return a.has(i)}return lm=t,lm}var om,xS;function L3(){if(xS)return om;xS=1;var t=k3(),a=k6(),i=H3(),s=1,o=2;function u(c,f,g,m,h,v){var x=g&s,b=c.length,S=f.length;if(b!=S&&!(x&&S>b))return!1;var _=v.get(c),N=v.get(f);if(_&&N)return _==f&&N==c;var E=-1,C=!0,T=g&o?new t:void 0;for(v.set(c,f),v.set(f,c);++E<b;){var M=c[E],O=f[E];if(m)var k=x?m(O,M,E,f,c,v):m(M,O,E,c,f,v);if(k!==void 0){if(k)continue;C=!1;break}if(T){if(!a(f,function(H,$){if(!i(T,$)&&(M===H||h(M,H,g,m,v)))return T.push($)})){C=!1;break}}else if(!(M===O||h(M,O,g,m,v))){C=!1;break}}return v.delete(c),v.delete(f),C}return om=u,om}var um,bS;function H6(){if(bS)return um;bS=1;function t(a){var i=-1,s=Array(a.size);return a.forEach(function(o,u){s[++i]=[u,o]}),s}return um=t,um}var cm,_S;function ov(){if(_S)return cm;_S=1;function t(a){var i=-1,s=Array(a.size);return a.forEach(function(o){s[++i]=o}),s}return cm=t,cm}var fm,SS;function L6(){if(SS)return fm;SS=1;var t=bi(),a=j3(),i=xi(),s=L3(),o=H6(),u=ov(),c=1,f=2,g="[object Boolean]",m="[object Date]",h="[object Error]",v="[object Map]",x="[object Number]",b="[object RegExp]",S="[object Set]",_="[object String]",N="[object Symbol]",E="[object ArrayBuffer]",C="[object DataView]",T=t?t.prototype:void 0,M=T?T.valueOf:void 0;function O(k,H,$,U,Y,Z,K){switch($){case C:if(k.byteLength!=H.byteLength||k.byteOffset!=H.byteOffset)return!1;k=k.buffer,H=H.buffer;case E:return!(k.byteLength!=H.byteLength||!Z(new a(k),new a(H)));case g:case m:case x:return i(+k,+H);case h:return k.name==H.name&&k.message==H.message;case b:case _:return k==H+"";case v:var ae=o;case S:var L=U&c;if(ae||(ae=u),k.size!=H.size&&!L)return!1;var ee=K.get(k);if(ee)return ee==H;U|=f,K.set(k,H);var z=s(ae(k),ae(H),U,Y,Z,K);return K.delete(k),z;case N:if(M)return M.call(k)==M.call(H)}return!1}return fm=O,fm}var dm,wS;function B6(){if(wS)return dm;wS=1;var t=T3(),a=1,i=Object.prototype,s=i.hasOwnProperty;function o(u,c,f,g,m,h){var v=f&a,x=t(u),b=x.length,S=t(c),_=S.length;if(b!=_&&!v)return!1;for(var N=b;N--;){var E=x[N];if(!(v?E in c:s.call(c,E)))return!1}var C=h.get(u),T=h.get(c);if(C&&T)return C==c&&T==u;var M=!0;h.set(u,c),h.set(c,u);for(var O=v;++N<b;){E=x[N];var k=u[E],H=c[E];if(g)var $=v?g(H,k,E,c,u,h):g(k,H,E,u,c,h);if(!($===void 0?k===H||m(k,H,f,g,h):$)){M=!1;break}O||(O=E=="constructor")}if(M&&!O){var U=u.constructor,Y=c.constructor;U!=Y&&"constructor"in u&&"constructor"in c&&!(typeof U=="function"&&U instanceof U&&typeof Y=="function"&&Y instanceof Y)&&(M=!1)}return h.delete(u),h.delete(c),M}return dm=o,dm}var hm,NS;function U6(){if(NS)return hm;NS=1;var t=au(),a=L3(),i=L6(),s=B6(),o=Si(),u=yt(),c=_i(),f=Xs(),g=1,m="[object Arguments]",h="[object Array]",v="[object Object]",x=Object.prototype,b=x.hasOwnProperty;function S(_,N,E,C,T,M){var O=u(_),k=u(N),H=O?h:o(_),$=k?h:o(N);H=H==m?v:H,$=$==m?v:$;var U=H==v,Y=$==v,Z=H==$;if(Z&&c(_)){if(!c(N))return!1;O=!0,U=!1}if(Z&&!U)return M||(M=new t),O||f(_)?a(_,N,E,C,T,M):i(_,N,H,E,C,T,M);if(!(E&g)){var K=U&&b.call(_,"__wrapped__"),ae=Y&&b.call(N,"__wrapped__");if(K||ae){var L=K?_.value():_,ee=ae?N.value():N;return M||(M=new t),T(L,ee,E,C,M)}}return Z?(M||(M=new t),s(_,N,E,C,T,M)):!1}return hm=S,hm}var mm,ES;function B3(){if(ES)return mm;ES=1;var t=U6(),a=Ln();function i(s,o,u,c,f){return s===o?!0:s==null||o==null||!a(s)&&!a(o)?s!==s&&o!==o:t(s,o,u,c,i,f)}return mm=i,mm}var gm,TS;function $6(){if(TS)return gm;TS=1;var t=au(),a=B3(),i=1,s=2;function o(u,c,f,g){var m=f.length,h=m,v=!g;if(u==null)return!h;for(u=Object(u);m--;){var x=f[m];if(v&&x[2]?x[1]!==u[x[0]]:!(x[0]in u))return!1}for(;++m<h;){x=f[m];var b=x[0],S=u[b],_=x[1];if(v&&x[2]){if(S===void 0&&!(b in u))return!1}else{var N=new t;if(g)var E=g(S,_,b,u,c,N);if(!(E===void 0?a(_,S,i|s,g,N):E))return!1}}return!0}return gm=o,gm}var pm,CS;function U3(){if(CS)return pm;CS=1;var t=gn();function a(i){return i===i&&!t(i)}return pm=a,pm}var vm,jS;function G6(){if(jS)return vm;jS=1;var t=U3(),a=Xr();function i(s){for(var o=a(s),u=o.length;u--;){var c=o[u],f=s[c];o[u]=[c,f,t(f)]}return o}return vm=i,vm}var ym,AS;function $3(){if(AS)return ym;AS=1;function t(a,i){return function(s){return s==null?!1:s[a]===i&&(i!==void 0||a in Object(s))}}return ym=t,ym}var xm,MS;function I6(){if(MS)return xm;MS=1;var t=$6(),a=G6(),i=$3();function s(o){var u=a(o);return u.length==1&&u[0][2]?i(u[0][0],u[0][1]):function(c){return c===o||t(c,o,u)}}return xm=s,xm}var bm,RS;function wi(){if(RS)return bm;RS=1;var t=Sa(),a=Ln(),i="[object Symbol]";function s(o){return typeof o=="symbol"||a(o)&&t(o)==i}return bm=s,bm}var _m,qS;function uv(){if(qS)return _m;qS=1;var t=yt(),a=wi(),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function o(u,c){if(t(u))return!1;var f=typeof u;return f=="number"||f=="symbol"||f=="boolean"||u==null||a(u)?!0:s.test(u)||!i.test(u)||c!=null&&u in Object(c)}return _m=o,_m}var Sm,DS;function V6(){if(DS)return Sm;DS=1;var t=J0(),a="Expected a function";function i(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new TypeError(a);var u=function(){var c=arguments,f=o?o.apply(this,c):c[0],g=u.cache;if(g.has(f))return g.get(f);var m=s.apply(this,c);return u.cache=g.set(f,m)||g,m};return u.cache=new(i.Cache||t),u}return i.Cache=t,Sm=i,Sm}var wm,OS;function Y6(){if(OS)return wm;OS=1;var t=V6(),a=500;function i(s){var o=t(s,function(c){return u.size===a&&u.clear(),c}),u=o.cache;return o}return wm=i,wm}var Nm,zS;function F6(){if(zS)return Nm;zS=1;var t=Y6(),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=t(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(a,function(c,f,g,m){u.push(g?m.replace(i,"$1"):f||c)}),u});return Nm=s,Nm}var Em,kS;function du(){if(kS)return Em;kS=1;function t(a,i){for(var s=-1,o=a==null?0:a.length,u=Array(o);++s<o;)u[s]=i(a[s],s,a);return u}return Em=t,Em}var Tm,HS;function X6(){if(HS)return Tm;HS=1;var t=bi(),a=du(),i=yt(),s=wi(),o=t?t.prototype:void 0,u=o?o.toString:void 0;function c(f){if(typeof f=="string")return f;if(i(f))return a(f,c)+"";if(s(f))return u?u.call(f):"";var g=f+"";return g=="0"&&1/f==-1/0?"-0":g}return Tm=c,Tm}var Cm,LS;function G3(){if(LS)return Cm;LS=1;var t=X6();function a(i){return i==null?"":t(i)}return Cm=a,Cm}var jm,BS;function hu(){if(BS)return jm;BS=1;var t=yt(),a=uv(),i=F6(),s=G3();function o(u,c){return t(u)?u:a(u,c)?[u]:i(s(u))}return jm=o,jm}var Am,US;function Ks(){if(US)return Am;US=1;var t=wi();function a(i){if(typeof i=="string"||t(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}return Am=a,Am}var Mm,$S;function mu(){if($S)return Mm;$S=1;var t=hu(),a=Ks();function i(s,o){o=t(o,s);for(var u=0,c=o.length;s!=null&&u<c;)s=s[a(o[u++])];return u&&u==c?s:void 0}return Mm=i,Mm}var Rm,GS;function K6(){if(GS)return Rm;GS=1;var t=mu();function a(i,s,o){var u=i==null?void 0:t(i,s);return u===void 0?o:u}return Rm=a,Rm}var qm,IS;function Z6(){if(IS)return qm;IS=1;function t(a,i){return a!=null&&i in Object(a)}return qm=t,qm}var Dm,VS;function I3(){if(VS)return Dm;VS=1;var t=hu(),a=Fs(),i=yt(),s=lu(),o=W0(),u=Ks();function c(f,g,m){g=t(g,f);for(var h=-1,v=g.length,x=!1;++h<v;){var b=u(g[h]);if(!(x=f!=null&&m(f,b)))break;f=f[b]}return x||++h!=v?x:(v=f==null?0:f.length,!!v&&o(v)&&s(b,v)&&(i(f)||a(f)))}return Dm=c,Dm}var Om,YS;function V3(){if(YS)return Om;YS=1;var t=Z6(),a=I3();function i(s,o){return s!=null&&a(s,o,t)}return Om=i,Om}var zm,FS;function Q6(){if(FS)return zm;FS=1;var t=B3(),a=K6(),i=V3(),s=uv(),o=U3(),u=$3(),c=Ks(),f=1,g=2;function m(h,v){return s(h)&&o(v)?u(c(h),v):function(x){var b=a(x,h);return b===void 0&&b===v?i(x,h):t(v,b,f|g)}}return zm=m,zm}var km,XS;function Y3(){if(XS)return km;XS=1;function t(a){return function(i){return i?.[a]}}return km=t,km}var Hm,KS;function J6(){if(KS)return Hm;KS=1;var t=mu();function a(i){return function(s){return t(s,i)}}return Hm=a,Hm}var Lm,ZS;function P6(){if(ZS)return Lm;ZS=1;var t=Y3(),a=J6(),i=uv(),s=Ks();function o(u){return i(u)?t(s(u)):a(u)}return Lm=o,Lm}var Bm,QS;function dr(){if(QS)return Bm;QS=1;var t=I6(),a=Q6(),i=Ea(),s=yt(),o=P6();function u(c){return typeof c=="function"?c:c==null?i:typeof c=="object"?s(c)?a(c[0],c[1]):t(c):o(c)}return Bm=u,Bm}var Um,JS;function F3(){if(JS)return Um;JS=1;var t=S3(),a=D6(),i=dr(),s=yt();function o(u,c){var f=s(u)?t:a;return f(u,i(c,3))}return Um=o,Um}var $m,PS;function W6(){if(PS)return $m;PS=1;var t=Object.prototype,a=t.hasOwnProperty;function i(s,o){return s!=null&&a.call(s,o)}return $m=i,$m}var Gm,WS;function X3(){if(WS)return Gm;WS=1;var t=W6(),a=I3();function i(s,o){return s!=null&&a(s,o,t)}return Gm=i,Gm}var Im,ew;function eO(){if(ew)return Im;ew=1;var t=tv(),a=Si(),i=Fs(),s=yt(),o=fr(),u=_i(),c=uu(),f=Xs(),g="[object Map]",m="[object Set]",h=Object.prototype,v=h.hasOwnProperty;function x(b){if(b==null)return!0;if(o(b)&&(s(b)||typeof b=="string"||typeof b.splice=="function"||u(b)||f(b)||i(b)))return!b.length;var S=a(b);if(S==g||S==m)return!b.size;if(c(b))return!t(b).length;for(var _ in b)if(v.call(b,_))return!1;return!0}return Im=x,Im}var Vm,tw;function K3(){if(tw)return Vm;tw=1;function t(a){return a===void 0}return Vm=t,Vm}var Ym,nw;function Z3(){if(nw)return Ym;nw=1;var t=fu(),a=fr();function i(s,o){var u=-1,c=a(s)?Array(s.length):[];return t(s,function(f,g,m){c[++u]=o(f,g,m)}),c}return Ym=i,Ym}var Fm,rw;function Q3(){if(rw)return Fm;rw=1;var t=du(),a=dr(),i=Z3(),s=yt();function o(u,c){var f=s(u)?t:i;return f(u,a(c,3))}return Fm=o,Fm}var Xm,aw;function tO(){if(aw)return Xm;aw=1;function t(a,i,s,o){var u=-1,c=a==null?0:a.length;for(o&&c&&(s=a[++u]);++u<c;)s=i(s,a[u],u,a);return s}return Xm=t,Xm}var Km,iw;function nO(){if(iw)return Km;iw=1;function t(a,i,s,o,u){return u(a,function(c,f,g){s=o?(o=!1,c):i(s,c,f,g)}),s}return Km=t,Km}var Zm,sw;function J3(){if(sw)return Zm;sw=1;var t=tO(),a=fu(),i=dr(),s=nO(),o=yt();function u(c,f,g){var m=o(c)?t:s,h=arguments.length<3;return m(c,i(f,4),g,h,a)}return Zm=u,Zm}var Qm,lw;function rO(){if(lw)return Qm;lw=1;var t=Sa(),a=yt(),i=Ln(),s="[object String]";function o(u){return typeof u=="string"||!a(u)&&i(u)&&t(u)==s}return Qm=o,Qm}var Jm,ow;function aO(){if(ow)return Jm;ow=1;var t=Y3(),a=t("length");return Jm=a,Jm}var Pm,uw;function iO(){if(uw)return Pm;uw=1;var t="\\ud800-\\udfff",a="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",o=a+i+s,u="\\ufe0e\\ufe0f",c="\\u200d",f=RegExp("["+c+t+o+u+"]");function g(m){return f.test(m)}return Pm=g,Pm}var Wm,cw;function sO(){if(cw)return Wm;cw=1;var t="\\ud800-\\udfff",a="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",o=a+i+s,u="\\ufe0e\\ufe0f",c="["+t+"]",f="["+o+"]",g="\\ud83c[\\udffb-\\udfff]",m="(?:"+f+"|"+g+")",h="[^"+t+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",S=m+"?",_="["+u+"]?",N="(?:"+b+"(?:"+[h,v,x].join("|")+")"+_+S+")*",E=_+S+N,C="(?:"+[h+f+"?",f,v,x,c].join("|")+")",T=RegExp(g+"(?="+g+")|"+C+E,"g");function M(O){for(var k=T.lastIndex=0;T.test(O);)++k;return k}return Wm=M,Wm}var eg,fw;function lO(){if(fw)return eg;fw=1;var t=aO(),a=iO(),i=sO();function s(o){return a(o)?i(o):t(o)}return eg=s,eg}var tg,dw;function oO(){if(dw)return tg;dw=1;var t=tv(),a=Si(),i=fr(),s=rO(),o=lO(),u="[object Map]",c="[object Set]";function f(g){if(g==null)return 0;if(i(g))return s(g)?o(g):g.length;var m=a(g);return m==u||m==c?g.size:t(g).length}return tg=f,tg}var ng,hw;function uO(){if(hw)return ng;hw=1;var t=P0(),a=M3(),i=lv(),s=dr(),o=cu(),u=yt(),c=_i(),f=Vs(),g=gn(),m=Xs();function h(v,x,b){var S=u(v),_=S||c(v)||m(v);if(x=s(x,4),b==null){var N=v&&v.constructor;_?b=S?new N:[]:g(v)?b=f(N)?a(o(v)):{}:b={}}return(_?t:i)(v,function(E,C,T){return x(b,E,C,T)}),b}return ng=h,ng}var rg,mw;function cO(){if(mw)return rg;mw=1;var t=bi(),a=Fs(),i=yt(),s=t?t.isConcatSpreadable:void 0;function o(u){return i(u)||a(u)||!!(s&&u&&u[s])}return rg=o,rg}var ag,gw;function cv(){if(gw)return ag;gw=1;var t=rv(),a=cO();function i(s,o,u,c,f){var g=-1,m=s.length;for(u||(u=a),f||(f=[]);++g<m;){var h=s[g];o>0&&u(h)?o>1?i(h,o-1,u,c,f):t(f,h):c||(f[f.length]=h)}return f}return ag=i,ag}var ig,pw;function fO(){if(pw)return ig;pw=1;function t(a,i,s){switch(s.length){case 0:return a.call(i);case 1:return a.call(i,s[0]);case 2:return a.call(i,s[0],s[1]);case 3:return a.call(i,s[0],s[1],s[2])}return a.apply(i,s)}return ig=t,ig}var sg,vw;function P3(){if(vw)return sg;vw=1;var t=fO(),a=Math.max;function i(s,o,u){return o=a(o===void 0?s.length-1:o,0),function(){for(var c=arguments,f=-1,g=a(c.length-o,0),m=Array(g);++f<g;)m[f]=c[o+f];f=-1;for(var h=Array(o+1);++f<o;)h[f]=c[f];return h[o]=u(m),t(s,this,h)}}return sg=i,sg}var lg,yw;function dO(){if(yw)return lg;yw=1;var t=iv(),a=v3(),i=Ea(),s=a?function(o,u){return a(o,"toString",{configurable:!0,enumerable:!1,value:t(u),writable:!0})}:i;return lg=s,lg}var og,xw;function hO(){if(xw)return og;xw=1;var t=800,a=16,i=Date.now;function s(o){var u=0,c=0;return function(){var f=i(),g=a-(f-c);if(c=f,g>0){if(++u>=t)return arguments[0]}else u=0;return o.apply(void 0,arguments)}}return og=s,og}var ug,bw;function W3(){if(bw)return ug;bw=1;var t=dO(),a=hO(),i=a(t);return ug=i,ug}var cg,_w;function gu(){if(_w)return cg;_w=1;var t=Ea(),a=P3(),i=W3();function s(o,u){return i(a(o,u,t),o+"")}return cg=s,cg}var fg,Sw;function eC(){if(Sw)return fg;Sw=1;function t(a,i,s,o){for(var u=a.length,c=s+(o?1:-1);o?c--:++c<u;)if(i(a[c],c,a))return c;return-1}return fg=t,fg}var dg,ww;function mO(){if(ww)return dg;ww=1;function t(a){return a!==a}return dg=t,dg}var hg,Nw;function gO(){if(Nw)return hg;Nw=1;function t(a,i,s){for(var o=s-1,u=a.length;++o<u;)if(a[o]===i)return o;return-1}return hg=t,hg}var mg,Ew;function pO(){if(Ew)return mg;Ew=1;var t=eC(),a=mO(),i=gO();function s(o,u,c){return u===u?i(o,u,c):t(o,a,c)}return mg=s,mg}var gg,Tw;function vO(){if(Tw)return gg;Tw=1;var t=pO();function a(i,s){var o=i==null?0:i.length;return!!o&&t(i,s,0)>-1}return gg=a,gg}var pg,Cw;function yO(){if(Cw)return pg;Cw=1;function t(a,i,s){for(var o=-1,u=a==null?0:a.length;++o<u;)if(s(i,a[o]))return!0;return!1}return pg=t,pg}var vg,jw;function xO(){if(jw)return vg;jw=1;function t(){}return vg=t,vg}var yg,Aw;function bO(){if(Aw)return yg;Aw=1;var t=C3(),a=xO(),i=ov(),s=1/0,o=t&&1/i(new t([,-0]))[1]==s?function(u){return new t(u)}:a;return yg=o,yg}var xg,Mw;function _O(){if(Mw)return xg;Mw=1;var t=k3(),a=vO(),i=yO(),s=H3(),o=bO(),u=ov(),c=200;function f(g,m,h){var v=-1,x=a,b=g.length,S=!0,_=[],N=_;if(h)S=!1,x=i;else if(b>=c){var E=m?null:o(g);if(E)return u(E);S=!1,x=s,N=new t}else N=m?[]:_;e:for(;++v<b;){var C=g[v],T=m?m(C):C;if(C=h||C!==0?C:0,S&&T===T){for(var M=N.length;M--;)if(N[M]===T)continue e;m&&N.push(T),_.push(C)}else x(N,T,h)||(N!==_&&N.push(T),_.push(C))}return _}return xg=f,xg}var bg,Rw;function tC(){if(Rw)return bg;Rw=1;var t=fr(),a=Ln();function i(s){return a(s)&&t(s)}return bg=i,bg}var _g,qw;function SO(){if(qw)return _g;qw=1;var t=cv(),a=gu(),i=_O(),s=tC(),o=a(function(u){return i(t(u,1,s,!0))});return _g=o,_g}var Sg,Dw;function wO(){if(Dw)return Sg;Dw=1;var t=du();function a(i,s){return t(s,function(o){return i[o]})}return Sg=a,Sg}var wg,Ow;function nC(){if(Ow)return wg;Ow=1;var t=wO(),a=Xr();function i(s){return s==null?[]:t(s,a(s))}return wg=i,wg}var Ng,zw;function pn(){if(zw)return Ng;zw=1;var t;if(typeof Z0=="function")try{t={clone:M6(),constant:iv(),each:z3(),filter:F3(),has:X3(),isArray:yt(),isEmpty:eO(),isFunction:Vs(),isUndefined:K3(),keys:Xr(),map:Q3(),reduce:J3(),size:oO(),transform:uO(),union:SO(),values:nC()}}catch{}return t||(t=window._),Ng=t,Ng}var Eg,kw;function fv(){if(kw)return Eg;kw=1;var t=pn();Eg=o;var a="\0",i="\0",s="";function o(h){this._isDirected=t.has(h,"directed")?h.directed:!0,this._isMultigraph=t.has(h,"multigraph")?h.multigraph:!1,this._isCompound=t.has(h,"compound")?h.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(h){return this._label=h,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(h){return t.isFunction(h)||(h=t.constant(h)),this._defaultNodeLabelFn=h,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return t.keys(this._nodes)},o.prototype.sources=function(){var h=this;return t.filter(this.nodes(),function(v){return t.isEmpty(h._in[v])})},o.prototype.sinks=function(){var h=this;return t.filter(this.nodes(),function(v){return t.isEmpty(h._out[v])})},o.prototype.setNodes=function(h,v){var x=arguments,b=this;return t.each(h,function(S){x.length>1?b.setNode(S,v):b.setNode(S)}),this},o.prototype.setNode=function(h,v){return t.has(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=v),this):(this._nodes[h]=arguments.length>1?v:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=i,this._children[h]={},this._children[i][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)},o.prototype.node=function(h){return this._nodes[h]},o.prototype.hasNode=function(h){return t.has(this._nodes,h)},o.prototype.removeNode=function(h){var v=this;if(t.has(this._nodes,h)){var x=function(b){v.removeEdge(v._edgeObjs[b])};delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],t.each(this.children(h),function(b){v.setParent(b)}),delete this._children[h]),t.each(t.keys(this._in[h]),x),delete this._in[h],delete this._preds[h],t.each(t.keys(this._out[h]),x),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this},o.prototype.setParent=function(h,v){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(v))v=i;else{v+="";for(var x=v;!t.isUndefined(x);x=this.parent(x))if(x===h)throw new Error("Setting "+v+" as parent of "+h+" would create a cycle");this.setNode(v)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=v,this._children[v][h]=!0,this},o.prototype._removeFromParentsChildList=function(h){delete this._children[this._parent[h]][h]},o.prototype.parent=function(h){if(this._isCompound){var v=this._parent[h];if(v!==i)return v}},o.prototype.children=function(h){if(t.isUndefined(h)&&(h=i),this._isCompound){var v=this._children[h];if(v)return t.keys(v)}else{if(h===i)return this.nodes();if(this.hasNode(h))return[]}},o.prototype.predecessors=function(h){var v=this._preds[h];if(v)return t.keys(v)},o.prototype.successors=function(h){var v=this._sucs[h];if(v)return t.keys(v)},o.prototype.neighbors=function(h){var v=this.predecessors(h);if(v)return t.union(v,this.successors(h))},o.prototype.isLeaf=function(h){var v;return this.isDirected()?v=this.successors(h):v=this.neighbors(h),v.length===0},o.prototype.filterNodes=function(h){var v=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});v.setGraph(this.graph());var x=this;t.each(this._nodes,function(_,N){h(N)&&v.setNode(N,_)}),t.each(this._edgeObjs,function(_){v.hasNode(_.v)&&v.hasNode(_.w)&&v.setEdge(_,x.edge(_))});var b={};function S(_){var N=x.parent(_);return N===void 0||v.hasNode(N)?(b[_]=N,N):N in b?b[N]:S(N)}return this._isCompound&&t.each(v.nodes(),function(_){v.setParent(_,S(_))}),v},o.prototype.setDefaultEdgeLabel=function(h){return t.isFunction(h)||(h=t.constant(h)),this._defaultEdgeLabelFn=h,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return t.values(this._edgeObjs)},o.prototype.setPath=function(h,v){var x=this,b=arguments;return t.reduce(h,function(S,_){return b.length>1?x.setEdge(S,_,v):x.setEdge(S,_),_}),this},o.prototype.setEdge=function(){var h,v,x,b,S=!1,_=arguments[0];typeof _=="object"&&_!==null&&"v"in _?(h=_.v,v=_.w,x=_.name,arguments.length===2&&(b=arguments[1],S=!0)):(h=_,v=arguments[1],x=arguments[3],arguments.length>2&&(b=arguments[2],S=!0)),h=""+h,v=""+v,t.isUndefined(x)||(x=""+x);var N=f(this._isDirected,h,v,x);if(t.has(this._edgeLabels,N))return S&&(this._edgeLabels[N]=b),this;if(!t.isUndefined(x)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(v),this._edgeLabels[N]=S?b:this._defaultEdgeLabelFn(h,v,x);var E=g(this._isDirected,h,v,x);return h=E.v,v=E.w,Object.freeze(E),this._edgeObjs[N]=E,u(this._preds[v],h),u(this._sucs[h],v),this._in[v][N]=E,this._out[h][N]=E,this._edgeCount++,this},o.prototype.edge=function(h,v,x){var b=arguments.length===1?m(this._isDirected,arguments[0]):f(this._isDirected,h,v,x);return this._edgeLabels[b]},o.prototype.hasEdge=function(h,v,x){var b=arguments.length===1?m(this._isDirected,arguments[0]):f(this._isDirected,h,v,x);return t.has(this._edgeLabels,b)},o.prototype.removeEdge=function(h,v,x){var b=arguments.length===1?m(this._isDirected,arguments[0]):f(this._isDirected,h,v,x),S=this._edgeObjs[b];return S&&(h=S.v,v=S.w,delete this._edgeLabels[b],delete this._edgeObjs[b],c(this._preds[v],h),c(this._sucs[h],v),delete this._in[v][b],delete this._out[h][b],this._edgeCount--),this},o.prototype.inEdges=function(h,v){var x=this._in[h];if(x){var b=t.values(x);return v?t.filter(b,function(S){return S.v===v}):b}},o.prototype.outEdges=function(h,v){var x=this._out[h];if(x){var b=t.values(x);return v?t.filter(b,function(S){return S.w===v}):b}},o.prototype.nodeEdges=function(h,v){var x=this.inEdges(h,v);if(x)return x.concat(this.outEdges(h,v))};function u(h,v){h[v]?h[v]++:h[v]=1}function c(h,v){--h[v]||delete h[v]}function f(h,v,x,b){var S=""+v,_=""+x;if(!h&&S>_){var N=S;S=_,_=N}return S+s+_+s+(t.isUndefined(b)?a:b)}function g(h,v,x,b){var S=""+v,_=""+x;if(!h&&S>_){var N=S;S=_,_=N}var E={v:S,w:_};return b&&(E.name=b),E}function m(h,v){return f(h,v.v,v.w,v.name)}return Eg}var Tg,Hw;function NO(){return Hw||(Hw=1,Tg="2.1.8"),Tg}var Cg,Lw;function EO(){return Lw||(Lw=1,Cg={Graph:fv(),version:NO()}),Cg}var jg,Bw;function TO(){if(Bw)return jg;Bw=1;var t=pn(),a=fv();jg={write:i,read:u};function i(c){var f={options:{directed:c.isDirected(),multigraph:c.isMultigraph(),compound:c.isCompound()},nodes:s(c),edges:o(c)};return t.isUndefined(c.graph())||(f.value=t.clone(c.graph())),f}function s(c){return t.map(c.nodes(),function(f){var g=c.node(f),m=c.parent(f),h={v:f};return t.isUndefined(g)||(h.value=g),t.isUndefined(m)||(h.parent=m),h})}function o(c){return t.map(c.edges(),function(f){var g=c.edge(f),m={v:f.v,w:f.w};return t.isUndefined(f.name)||(m.name=f.name),t.isUndefined(g)||(m.value=g),m})}function u(c){var f=new a(c.options).setGraph(c.value);return t.each(c.nodes,function(g){f.setNode(g.v,g.value),g.parent&&f.setParent(g.v,g.parent)}),t.each(c.edges,function(g){f.setEdge({v:g.v,w:g.w,name:g.name},g.value)}),f}return jg}var Ag,Uw;function CO(){if(Uw)return Ag;Uw=1;var t=pn();Ag=a;function a(i){var s={},o=[],u;function c(f){t.has(s,f)||(s[f]=!0,u.push(f),t.each(i.successors(f),c),t.each(i.predecessors(f),c))}return t.each(i.nodes(),function(f){u=[],c(f),u.length&&o.push(u)}),o}return Ag}var Mg,$w;function rC(){if($w)return Mg;$w=1;var t=pn();Mg=a;function a(){this._arr=[],this._keyIndices={}}return a.prototype.size=function(){return this._arr.length},a.prototype.keys=function(){return this._arr.map(function(i){return i.key})},a.prototype.has=function(i){return t.has(this._keyIndices,i)},a.prototype.priority=function(i){var s=this._keyIndices[i];if(s!==void 0)return this._arr[s].priority},a.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},a.prototype.add=function(i,s){var o=this._keyIndices;if(i=String(i),!t.has(o,i)){var u=this._arr,c=u.length;return o[i]=c,u.push({key:i,priority:s}),this._decrease(c),!0}return!1},a.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var i=this._arr.pop();return delete this._keyIndices[i.key],this._heapify(0),i.key},a.prototype.decrease=function(i,s){var o=this._keyIndices[i];if(s>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+i+" Old: "+this._arr[o].priority+" New: "+s);this._arr[o].priority=s,this._decrease(o)},a.prototype._heapify=function(i){var s=this._arr,o=2*i,u=o+1,c=i;o<s.length&&(c=s[o].priority<s[c].priority?o:c,u<s.length&&(c=s[u].priority<s[c].priority?u:c),c!==i&&(this._swap(i,c),this._heapify(c)))},a.prototype._decrease=function(i){for(var s=this._arr,o=s[i].priority,u;i!==0&&(u=i>>1,!(s[u].priority<o));)this._swap(i,u),i=u},a.prototype._swap=function(i,s){var o=this._arr,u=this._keyIndices,c=o[i],f=o[s];o[i]=f,o[s]=c,u[f.key]=i,u[c.key]=s},Mg}var Rg,Gw;function aC(){if(Gw)return Rg;Gw=1;var t=pn(),a=rC();Rg=s;var i=t.constant(1);function s(u,c,f,g){return o(u,String(c),f||i,g||function(m){return u.outEdges(m)})}function o(u,c,f,g){var m={},h=new a,v,x,b=function(S){var _=S.v!==v?S.v:S.w,N=m[_],E=f(S),C=x.distance+E;if(E<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+S+" Weight: "+E);C<N.distance&&(N.distance=C,N.predecessor=v,h.decrease(_,C))};for(u.nodes().forEach(function(S){var _=S===c?0:Number.POSITIVE_INFINITY;m[S]={distance:_},h.add(S,_)});h.size()>0&&(v=h.removeMin(),x=m[v],x.distance!==Number.POSITIVE_INFINITY);)g(v).forEach(b);return m}return Rg}var qg,Iw;function jO(){if(Iw)return qg;Iw=1;var t=aC(),a=pn();qg=i;function i(s,o,u){return a.transform(s.nodes(),function(c,f){c[f]=t(s,f,o,u)},{})}return qg}var Dg,Vw;function iC(){if(Vw)return Dg;Vw=1;var t=pn();Dg=a;function a(i){var s=0,o=[],u={},c=[];function f(g){var m=u[g]={onStack:!0,lowlink:s,index:s++};if(o.push(g),i.successors(g).forEach(function(x){t.has(u,x)?u[x].onStack&&(m.lowlink=Math.min(m.lowlink,u[x].index)):(f(x),m.lowlink=Math.min(m.lowlink,u[x].lowlink))}),m.lowlink===m.index){var h=[],v;do v=o.pop(),u[v].onStack=!1,h.push(v);while(g!==v);c.push(h)}}return i.nodes().forEach(function(g){t.has(u,g)||f(g)}),c}return Dg}var Og,Yw;function AO(){if(Yw)return Og;Yw=1;var t=pn(),a=iC();Og=i;function i(s){return t.filter(a(s),function(o){return o.length>1||o.length===1&&s.hasEdge(o[0],o[0])})}return Og}var zg,Fw;function MO(){if(Fw)return zg;Fw=1;var t=pn();zg=i;var a=t.constant(1);function i(o,u,c){return s(o,u||a,c||function(f){return o.outEdges(f)})}function s(o,u,c){var f={},g=o.nodes();return g.forEach(function(m){f[m]={},f[m][m]={distance:0},g.forEach(function(h){m!==h&&(f[m][h]={distance:Number.POSITIVE_INFINITY})}),c(m).forEach(function(h){var v=h.v===m?h.w:h.v,x=u(h);f[m][v]={distance:x,predecessor:m}})}),g.forEach(function(m){var h=f[m];g.forEach(function(v){var x=f[v];g.forEach(function(b){var S=x[m],_=h[b],N=x[b],E=S.distance+_.distance;E<N.distance&&(N.distance=E,N.predecessor=_.predecessor)})})}),f}return zg}var kg,Xw;function sC(){if(Xw)return kg;Xw=1;var t=pn();kg=a,a.CycleException=i;function a(s){var o={},u={},c=[];function f(g){if(t.has(u,g))throw new i;t.has(o,g)||(u[g]=!0,o[g]=!0,t.each(s.predecessors(g),f),delete u[g],c.push(g))}if(t.each(s.sinks(),f),t.size(o)!==s.nodeCount())throw new i;return c}function i(){}return i.prototype=new Error,kg}var Hg,Kw;function RO(){if(Kw)return Hg;Kw=1;var t=sC();Hg=a;function a(i){try{t(i)}catch(s){if(s instanceof t.CycleException)return!1;throw s}return!0}return Hg}var Lg,Zw;function lC(){if(Zw)return Lg;Zw=1;var t=pn();Lg=a;function a(s,o,u){t.isArray(o)||(o=[o]);var c=(s.isDirected()?s.successors:s.neighbors).bind(s),f=[],g={};return t.each(o,function(m){if(!s.hasNode(m))throw new Error("Graph does not have node: "+m);i(s,m,u==="post",g,c,f)}),f}function i(s,o,u,c,f,g){t.has(c,o)||(c[o]=!0,u||g.push(o),t.each(f(o),function(m){i(s,m,u,c,f,g)}),u&&g.push(o))}return Lg}var Bg,Qw;function qO(){if(Qw)return Bg;Qw=1;var t=lC();Bg=a;function a(i,s){return t(i,s,"post")}return Bg}var Ug,Jw;function DO(){if(Jw)return Ug;Jw=1;var t=lC();Ug=a;function a(i,s){return t(i,s,"pre")}return Ug}var $g,Pw;function OO(){if(Pw)return $g;Pw=1;var t=pn(),a=fv(),i=rC();$g=s;function s(o,u){var c=new a,f={},g=new i,m;function h(x){var b=x.v===m?x.w:x.v,S=g.priority(b);if(S!==void 0){var _=u(x);_<S&&(f[b]=m,g.decrease(b,_))}}if(o.nodeCount()===0)return c;t.each(o.nodes(),function(x){g.add(x,Number.POSITIVE_INFINITY),c.setNode(x)}),g.decrease(o.nodes()[0],0);for(var v=!1;g.size()>0;){if(m=g.removeMin(),t.has(f,m))c.setEdge(m,f[m]);else{if(v)throw new Error("Input graph is not connected: "+o);v=!0}o.nodeEdges(m).forEach(h)}return c}return $g}var Gg,Ww;function zO(){return Ww||(Ww=1,Gg={components:CO(),dijkstra:aC(),dijkstraAll:jO(),findCycles:AO(),floydWarshall:MO(),isAcyclic:RO(),postorder:qO(),preorder:DO(),prim:OO(),tarjan:iC(),topsort:sC()}),Gg}var Ig,eN;function kO(){if(eN)return Ig;eN=1;var t=EO();return Ig={Graph:t.Graph,json:TO(),alg:zO(),version:t.version},Ig}var Vg,tN;function En(){if(tN)return Vg;tN=1;var t;if(typeof Z0=="function")try{t=kO()}catch{}return t||(t=window.graphlib),Vg=t,Vg}var Yg,nN;function HO(){if(nN)return Yg;nN=1;var t=q3(),a=1,i=4;function s(o){return t(o,a|i)}return Yg=s,Yg}var Fg,rN;function pu(){if(rN)return Fg;rN=1;var t=xi(),a=fr(),i=lu(),s=gn();function o(u,c,f){if(!s(f))return!1;var g=typeof c;return(g=="number"?a(f)&&i(c,f.length):g=="string"&&c in f)?t(f[c],u):!1}return Fg=o,Fg}var Xg,aN;function LO(){if(aN)return Xg;aN=1;var t=gu(),a=xi(),i=pu(),s=Na(),o=Object.prototype,u=o.hasOwnProperty,c=t(function(f,g){f=Object(f);var m=-1,h=g.length,v=h>2?g[2]:void 0;for(v&&i(g[0],g[1],v)&&(h=1);++m<h;)for(var x=g[m],b=s(x),S=-1,_=b.length;++S<_;){var N=b[S],E=f[N];(E===void 0||a(E,o[N])&&!u.call(f,N))&&(f[N]=x[N])}return f});return Xg=c,Xg}var Kg,iN;function BO(){if(iN)return Kg;iN=1;var t=dr(),a=fr(),i=Xr();function s(o){return function(u,c,f){var g=Object(u);if(!a(u)){var m=t(c,3);u=i(u),c=function(v){return m(g[v],v,g)}}var h=o(u,c,f);return h>-1?g[m?u[h]:h]:void 0}}return Kg=s,Kg}var Zg,sN;function UO(){if(sN)return Zg;sN=1;var t=/\s/;function a(i){for(var s=i.length;s--&&t.test(i.charAt(s)););return s}return Zg=a,Zg}var Qg,lN;function $O(){if(lN)return Qg;lN=1;var t=UO(),a=/^\s+/;function i(s){return s&&s.slice(0,t(s)+1).replace(a,"")}return Qg=i,Qg}var Jg,oN;function GO(){if(oN)return Jg;oN=1;var t=$O(),a=gn(),i=wi(),s=NaN,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;function g(m){if(typeof m=="number")return m;if(i(m))return s;if(a(m)){var h=typeof m.valueOf=="function"?m.valueOf():m;m=a(h)?h+"":h}if(typeof m!="string")return m===0?m:+m;m=t(m);var v=u.test(m);return v||c.test(m)?f(m.slice(2),v?2:8):o.test(m)?s:+m}return Jg=g,Jg}var Pg,uN;function oC(){if(uN)return Pg;uN=1;var t=GO(),a=1/0,i=17976931348623157e292;function s(o){if(!o)return o===0?o:0;if(o=t(o),o===a||o===-a){var u=o<0?-1:1;return u*i}return o===o?o:0}return Pg=s,Pg}var Wg,cN;function IO(){if(cN)return Wg;cN=1;var t=oC();function a(i){var s=t(i),o=s%1;return s===s?o?s-o:s:0}return Wg=a,Wg}var ep,fN;function VO(){if(fN)return ep;fN=1;var t=eC(),a=dr(),i=IO(),s=Math.max;function o(u,c,f){var g=u==null?0:u.length;if(!g)return-1;var m=f==null?0:i(f);return m<0&&(m=s(g+m,0)),t(u,a(c,3),m)}return ep=o,ep}var tp,dN;function YO(){if(dN)return tp;dN=1;var t=BO(),a=VO(),i=t(a);return tp=i,tp}var np,hN;function uC(){if(hN)return np;hN=1;var t=cv();function a(i){var s=i==null?0:i.length;return s?t(i,1):[]}return np=a,np}var rp,mN;function FO(){if(mN)return rp;mN=1;var t=sv(),a=D3(),i=Na();function s(o,u){return o==null?o:t(o,a(u),i)}return rp=s,rp}var ap,gN;function XO(){if(gN)return ap;gN=1;function t(a){var i=a==null?0:a.length;return i?a[i-1]:void 0}return ap=t,ap}var ip,pN;function KO(){if(pN)return ip;pN=1;var t=iu(),a=lv(),i=dr();function s(o,u){var c={};return u=i(u,3),a(o,function(f,g,m){t(c,g,u(f,g,m))}),c}return ip=s,ip}var sp,vN;function dv(){if(vN)return sp;vN=1;var t=wi();function a(i,s,o){for(var u=-1,c=i.length;++u<c;){var f=i[u],g=s(f);if(g!=null&&(m===void 0?g===g&&!t(g):o(g,m)))var m=g,h=f}return h}return sp=a,sp}var lp,yN;function ZO(){if(yN)return lp;yN=1;function t(a,i){return a>i}return lp=t,lp}var op,xN;function QO(){if(xN)return op;xN=1;var t=dv(),a=ZO(),i=Ea();function s(o){return o&&o.length?t(o,i,a):void 0}return op=s,op}var up,bN;function cC(){if(bN)return up;bN=1;var t=iu(),a=xi();function i(s,o,u){(u!==void 0&&!a(s[o],u)||u===void 0&&!(o in s))&&t(s,o,u)}return up=i,up}var cp,_N;function JO(){if(_N)return cp;_N=1;var t=Sa(),a=cu(),i=Ln(),s="[object Object]",o=Function.prototype,u=Object.prototype,c=o.toString,f=u.hasOwnProperty,g=c.call(Object);function m(h){if(!i(h)||t(h)!=s)return!1;var v=a(h);if(v===null)return!0;var x=f.call(v,"constructor")&&v.constructor;return typeof x=="function"&&x instanceof x&&c.call(x)==g}return cp=m,cp}var fp,SN;function fC(){if(SN)return fp;SN=1;function t(a,i){if(!(i==="constructor"&&typeof a[i]=="function")&&i!="__proto__")return a[i]}return fp=t,fp}var dp,wN;function PO(){if(wN)return dp;wN=1;var t=Ys(),a=Na();function i(s){return t(s,a(s))}return dp=i,dp}var hp,NN;function WO(){if(NN)return hp;NN=1;var t=cC(),a=b3(),i=A3(),s=_3(),o=R3(),u=Fs(),c=yt(),f=tC(),g=_i(),m=Vs(),h=gn(),v=JO(),x=Xs(),b=fC(),S=PO();function _(N,E,C,T,M,O,k){var H=b(N,C),$=b(E,C),U=k.get($);if(U){t(N,C,U);return}var Y=O?O(H,$,C+"",N,E,k):void 0,Z=Y===void 0;if(Z){var K=c($),ae=!K&&g($),L=!K&&!ae&&x($);Y=$,K||ae||L?c(H)?Y=H:f(H)?Y=s(H):ae?(Z=!1,Y=a($,!0)):L?(Z=!1,Y=i($,!0)):Y=[]:v($)||u($)?(Y=H,u(H)?Y=S(H):(!h(H)||m(H))&&(Y=o($))):Z=!1}Z&&(k.set($,Y),M(Y,$,T,O,k),k.delete($)),t(N,C,Y)}return hp=_,hp}var mp,EN;function ez(){if(EN)return mp;EN=1;var t=au(),a=cC(),i=sv(),s=WO(),o=gn(),u=Na(),c=fC();function f(g,m,h,v,x){g!==m&&i(m,function(b,S){if(x||(x=new t),o(b))s(g,m,S,h,f,v,x);else{var _=v?v(c(g,S),b,S+"",g,m,x):void 0;_===void 0&&(_=b),a(g,S,_)}},u)}return mp=f,mp}var gp,TN;function tz(){if(TN)return gp;TN=1;var t=gu(),a=pu();function i(s){return t(function(o,u){var c=-1,f=u.length,g=f>1?u[f-1]:void 0,m=f>2?u[2]:void 0;for(g=s.length>3&&typeof g=="function"?(f--,g):void 0,m&&a(u[0],u[1],m)&&(g=f<3?void 0:g,f=1),o=Object(o);++c<f;){var h=u[c];h&&s(o,h,c,g)}return o})}return gp=i,gp}var pp,CN;function nz(){if(CN)return pp;CN=1;var t=ez(),a=tz(),i=a(function(s,o,u){t(s,o,u)});return pp=i,pp}var vp,jN;function dC(){if(jN)return vp;jN=1;function t(a,i){return a<i}return vp=t,vp}var yp,AN;function rz(){if(AN)return yp;AN=1;var t=dv(),a=dC(),i=Ea();function s(o){return o&&o.length?t(o,i,a):void 0}return yp=s,yp}var xp,MN;function az(){if(MN)return xp;MN=1;var t=dv(),a=dr(),i=dC();function s(o,u){return o&&o.length?t(o,a(u,2),i):void 0}return xp=s,xp}var bp,RN;function iz(){if(RN)return bp;RN=1;var t=Cn(),a=function(){return t.Date.now()};return bp=a,bp}var _p,qN;function sz(){if(qN)return _p;qN=1;var t=su(),a=hu(),i=lu(),s=gn(),o=Ks();function u(c,f,g,m){if(!s(c))return c;f=a(f,c);for(var h=-1,v=f.length,x=v-1,b=c;b!=null&&++h<v;){var S=o(f[h]),_=g;if(S==="__proto__"||S==="constructor"||S==="prototype")return c;if(h!=x){var N=b[S];_=m?m(N,S,b):void 0,_===void 0&&(_=s(N)?N:i(f[h+1])?[]:{})}t(b,S,_),b=b[S]}return c}return _p=u,_p}var Sp,DN;function lz(){if(DN)return Sp;DN=1;var t=mu(),a=sz(),i=hu();function s(o,u,c){for(var f=-1,g=u.length,m={};++f<g;){var h=u[f],v=t(o,h);c(v,h)&&a(m,i(h,o),v)}return m}return Sp=s,Sp}var wp,ON;function oz(){if(ON)return wp;ON=1;var t=lz(),a=V3();function i(s,o){return t(s,o,function(u,c){return a(s,c)})}return wp=i,wp}var Np,zN;function uz(){if(zN)return Np;zN=1;var t=uC(),a=P3(),i=W3();function s(o){return i(a(o,void 0,t),o+"")}return Np=s,Np}var Ep,kN;function cz(){if(kN)return Ep;kN=1;var t=oz(),a=uz(),i=a(function(s,o){return s==null?{}:t(s,o)});return Ep=i,Ep}var Tp,HN;function fz(){if(HN)return Tp;HN=1;var t=Math.ceil,a=Math.max;function i(s,o,u,c){for(var f=-1,g=a(t((o-s)/(u||1)),0),m=Array(g);g--;)m[c?g:++f]=s,s+=u;return m}return Tp=i,Tp}var Cp,LN;function dz(){if(LN)return Cp;LN=1;var t=fz(),a=pu(),i=oC();function s(o){return function(u,c,f){return f&&typeof f!="number"&&a(u,c,f)&&(c=f=void 0),u=i(u),c===void 0?(c=u,u=0):c=i(c),f=f===void 0?u<c?1:-1:i(f),t(u,c,f,o)}}return Cp=s,Cp}var jp,BN;function hz(){if(BN)return jp;BN=1;var t=dz(),a=t();return jp=a,jp}var Ap,UN;function mz(){if(UN)return Ap;UN=1;function t(a,i){var s=a.length;for(a.sort(i);s--;)a[s]=a[s].value;return a}return Ap=t,Ap}var Mp,$N;function gz(){if($N)return Mp;$N=1;var t=wi();function a(i,s){if(i!==s){var o=i!==void 0,u=i===null,c=i===i,f=t(i),g=s!==void 0,m=s===null,h=s===s,v=t(s);if(!m&&!v&&!f&&i>s||f&&g&&h&&!m&&!v||u&&g&&h||!o&&h||!c)return 1;if(!u&&!f&&!v&&i<s||v&&o&&c&&!u&&!f||m&&o&&c||!g&&c||!h)return-1}return 0}return Mp=a,Mp}var Rp,GN;function pz(){if(GN)return Rp;GN=1;var t=gz();function a(i,s,o){for(var u=-1,c=i.criteria,f=s.criteria,g=c.length,m=o.length;++u<g;){var h=t(c[u],f[u]);if(h){if(u>=m)return h;var v=o[u];return h*(v=="desc"?-1:1)}}return i.index-s.index}return Rp=a,Rp}var qp,IN;function vz(){if(IN)return qp;IN=1;var t=du(),a=mu(),i=dr(),s=Z3(),o=mz(),u=ou(),c=pz(),f=Ea(),g=yt();function m(h,v,x){v.length?v=t(v,function(_){return g(_)?function(N){return a(N,_.length===1?_[0]:_)}:_}):v=[f];var b=-1;v=t(v,u(i));var S=s(h,function(_,N,E){var C=t(v,function(T){return T(_)});return{criteria:C,index:++b,value:_}});return o(S,function(_,N){return c(_,N,x)})}return qp=m,qp}var Dp,VN;function yz(){if(VN)return Dp;VN=1;var t=cv(),a=vz(),i=gu(),s=pu(),o=i(function(u,c){if(u==null)return[];var f=c.length;return f>1&&s(u,c[0],c[1])?c=[]:f>2&&s(c[0],c[1],c[2])&&(c=[c[0]]),a(u,t(c,1),[])});return Dp=o,Dp}var Op,YN;function xz(){if(YN)return Op;YN=1;var t=G3(),a=0;function i(s){var o=++a;return t(s)+o}return Op=i,Op}var zp,FN;function bz(){if(FN)return zp;FN=1;function t(a,i,s){for(var o=-1,u=a.length,c=i.length,f={};++o<u;){var g=o<c?i[o]:void 0;s(f,a[o],g)}return f}return zp=t,zp}var kp,XN;function _z(){if(XN)return kp;XN=1;var t=su(),a=bz();function i(s,o){return a(s||[],o||[],t)}return kp=i,kp}var Hp,KN;function rt(){if(KN)return Hp;KN=1;var t;if(typeof Z0=="function")try{t={cloneDeep:HO(),constant:iv(),defaults:LO(),each:z3(),filter:F3(),find:YO(),flatten:uC(),forEach:O3(),forIn:FO(),has:X3(),isUndefined:K3(),last:XO(),map:Q3(),mapValues:KO(),max:QO(),merge:nz(),min:rz(),minBy:az(),now:iz(),pick:cz(),range:hz(),reduce:J3(),sortBy:yz(),uniqueId:xz(),values:nC(),zipObject:_z()}}catch{}return t||(t=window._),Hp=t,Hp}var Lp,ZN;function Sz(){if(ZN)return Lp;ZN=1,Lp=t;function t(){var s={};s._next=s._prev=s,this._sentinel=s}t.prototype.dequeue=function(){var s=this._sentinel,o=s._prev;if(o!==s)return a(o),o},t.prototype.enqueue=function(s){var o=this._sentinel;s._prev&&s._next&&a(s),s._next=o._next,o._next._prev=s,o._next=s,s._prev=o},t.prototype.toString=function(){for(var s=[],o=this._sentinel,u=o._prev;u!==o;)s.push(JSON.stringify(u,i)),u=u._prev;return"["+s.join(", ")+"]"};function a(s){s._prev._next=s._next,s._next._prev=s._prev,delete s._next,delete s._prev}function i(s,o){if(s!=="_next"&&s!=="_prev")return o}return Lp}var Bp,QN;function wz(){if(QN)return Bp;QN=1;var t=rt(),a=En().Graph,i=Sz();Bp=o;var s=t.constant(1);function o(m,h){if(m.nodeCount()<=1)return[];var v=f(m,h||s),x=u(v.graph,v.buckets,v.zeroIdx);return t.flatten(t.map(x,function(b){return m.outEdges(b.v,b.w)}),!0)}function u(m,h,v){for(var x=[],b=h[h.length-1],S=h[0],_;m.nodeCount();){for(;_=S.dequeue();)c(m,h,v,_);for(;_=b.dequeue();)c(m,h,v,_);if(m.nodeCount()){for(var N=h.length-2;N>0;--N)if(_=h[N].dequeue(),_){x=x.concat(c(m,h,v,_,!0));break}}}return x}function c(m,h,v,x,b){var S=b?[]:void 0;return t.forEach(m.inEdges(x.v),function(_){var N=m.edge(_),E=m.node(_.v);b&&S.push({v:_.v,w:_.w}),E.out-=N,g(h,v,E)}),t.forEach(m.outEdges(x.v),function(_){var N=m.edge(_),E=_.w,C=m.node(E);C.in-=N,g(h,v,C)}),m.removeNode(x.v),S}function f(m,h){var v=new a,x=0,b=0;t.forEach(m.nodes(),function(N){v.setNode(N,{v:N,in:0,out:0})}),t.forEach(m.edges(),function(N){var E=v.edge(N.v,N.w)||0,C=h(N),T=E+C;v.setEdge(N.v,N.w,T),b=Math.max(b,v.node(N.v).out+=C),x=Math.max(x,v.node(N.w).in+=C)});var S=t.range(b+x+3).map(function(){return new i}),_=x+1;return t.forEach(v.nodes(),function(N){g(S,_,v.node(N))}),{graph:v,buckets:S,zeroIdx:_}}function g(m,h,v){v.out?v.in?m[v.out-v.in+h].enqueue(v):m[m.length-1].enqueue(v):m[0].enqueue(v)}return Bp}var Up,JN;function Nz(){if(JN)return Up;JN=1;var t=rt(),a=wz();Up={run:i,undo:o};function i(u){var c=u.graph().acyclicer==="greedy"?a(u,f(u)):s(u);t.forEach(c,function(g){var m=u.edge(g);u.removeEdge(g),m.forwardName=g.name,m.reversed=!0,u.setEdge(g.w,g.v,m,t.uniqueId("rev"))});function f(g){return function(m){return g.edge(m).weight}}}function s(u){var c=[],f={},g={};function m(h){t.has(g,h)||(g[h]=!0,f[h]=!0,t.forEach(u.outEdges(h),function(v){t.has(f,v.w)?c.push(v):m(v.w)}),delete f[h])}return t.forEach(u.nodes(),m),c}function o(u){t.forEach(u.edges(),function(c){var f=u.edge(c);if(f.reversed){u.removeEdge(c);var g=f.forwardName;delete f.reversed,delete f.forwardName,u.setEdge(c.w,c.v,f,g)}})}return Up}var $p,PN;function Vt(){if(PN)return $p;PN=1;var t=rt(),a=En().Graph;$p={addDummyNode:i,simplify:s,asNonCompoundGraph:o,successorWeights:u,predecessorWeights:c,intersectRect:f,buildLayerMatrix:g,normalizeRanks:m,removeEmptyRanks:h,addBorderNode:v,maxRank:x,partition:b,time:S,notime:_};function i(N,E,C,T){var M;do M=t.uniqueId(T);while(N.hasNode(M));return C.dummy=E,N.setNode(M,C),M}function s(N){var E=new a().setGraph(N.graph());return t.forEach(N.nodes(),function(C){E.setNode(C,N.node(C))}),t.forEach(N.edges(),function(C){var T=E.edge(C.v,C.w)||{weight:0,minlen:1},M=N.edge(C);E.setEdge(C.v,C.w,{weight:T.weight+M.weight,minlen:Math.max(T.minlen,M.minlen)})}),E}function o(N){var E=new a({multigraph:N.isMultigraph()}).setGraph(N.graph());return t.forEach(N.nodes(),function(C){N.children(C).length||E.setNode(C,N.node(C))}),t.forEach(N.edges(),function(C){E.setEdge(C,N.edge(C))}),E}function u(N){var E=t.map(N.nodes(),function(C){var T={};return t.forEach(N.outEdges(C),function(M){T[M.w]=(T[M.w]||0)+N.edge(M).weight}),T});return t.zipObject(N.nodes(),E)}function c(N){var E=t.map(N.nodes(),function(C){var T={};return t.forEach(N.inEdges(C),function(M){T[M.v]=(T[M.v]||0)+N.edge(M).weight}),T});return t.zipObject(N.nodes(),E)}function f(N,E){var C=N.x,T=N.y,M=E.x-C,O=E.y-T,k=N.width/2,H=N.height/2;if(!M&&!O)throw new Error("Not possible to find intersection inside of the rectangle");var $,U;return Math.abs(O)*k>Math.abs(M)*H?(O<0&&(H=-H),$=H*M/O,U=H):(M<0&&(k=-k),$=k,U=k*O/M),{x:C+$,y:T+U}}function g(N){var E=t.map(t.range(x(N)+1),function(){return[]});return t.forEach(N.nodes(),function(C){var T=N.node(C),M=T.rank;t.isUndefined(M)||(E[M][T.order]=C)}),E}function m(N){var E=t.min(t.map(N.nodes(),function(C){return N.node(C).rank}));t.forEach(N.nodes(),function(C){var T=N.node(C);t.has(T,"rank")&&(T.rank-=E)})}function h(N){var E=t.min(t.map(N.nodes(),function(O){return N.node(O).rank})),C=[];t.forEach(N.nodes(),function(O){var k=N.node(O).rank-E;C[k]||(C[k]=[]),C[k].push(O)});var T=0,M=N.graph().nodeRankFactor;t.forEach(C,function(O,k){t.isUndefined(O)&&k%M!==0?--T:T&&t.forEach(O,function(H){N.node(H).rank+=T})})}function v(N,E,C,T){var M={width:0,height:0};return arguments.length>=4&&(M.rank=C,M.order=T),i(N,"border",M,E)}function x(N){return t.max(t.map(N.nodes(),function(E){var C=N.node(E).rank;if(!t.isUndefined(C))return C}))}function b(N,E){var C={lhs:[],rhs:[]};return t.forEach(N,function(T){E(T)?C.lhs.push(T):C.rhs.push(T)}),C}function S(N,E){var C=t.now();try{return E()}finally{console.log(N+" time: "+(t.now()-C)+"ms")}}function _(N,E){return E()}return $p}var Gp,WN;function Ez(){if(WN)return Gp;WN=1;var t=rt(),a=Vt();Gp={run:i,undo:o};function i(u){u.graph().dummyChains=[],t.forEach(u.edges(),function(c){s(u,c)})}function s(u,c){var f=c.v,g=u.node(f).rank,m=c.w,h=u.node(m).rank,v=c.name,x=u.edge(c),b=x.labelRank;if(h!==g+1){u.removeEdge(c);var S,_,N;for(N=0,++g;g<h;++N,++g)x.points=[],_={width:0,height:0,edgeLabel:x,edgeObj:c,rank:g},S=a.addDummyNode(u,"edge",_,"_d"),g===b&&(_.width=x.width,_.height=x.height,_.dummy="edge-label",_.labelpos=x.labelpos),u.setEdge(f,S,{weight:x.weight},v),N===0&&u.graph().dummyChains.push(S),f=S;u.setEdge(f,m,{weight:x.weight},v)}}function o(u){t.forEach(u.graph().dummyChains,function(c){var f=u.node(c),g=f.edgeLabel,m;for(u.setEdge(f.edgeObj,g);f.dummy;)m=u.successors(c)[0],u.removeNode(c),g.points.push({x:f.x,y:f.y}),f.dummy==="edge-label"&&(g.x=f.x,g.y=f.y,g.width=f.width,g.height=f.height),c=m,f=u.node(c)})}return Gp}var Ip,eE;function Yo(){if(eE)return Ip;eE=1;var t=rt();Ip={longestPath:a,slack:i};function a(s){var o={};function u(c){var f=s.node(c);if(t.has(o,c))return f.rank;o[c]=!0;var g=t.min(t.map(s.outEdges(c),function(m){return u(m.w)-s.edge(m).minlen}));return(g===Number.POSITIVE_INFINITY||g===void 0||g===null)&&(g=0),f.rank=g}t.forEach(s.sources(),u)}function i(s,o){return s.node(o.w).rank-s.node(o.v).rank-s.edge(o).minlen}return Ip}var Vp,tE;function hC(){if(tE)return Vp;tE=1;var t=rt(),a=En().Graph,i=Yo().slack;Vp=s;function s(f){var g=new a({directed:!1}),m=f.nodes()[0],h=f.nodeCount();g.setNode(m,{});for(var v,x;o(g,f)<h;)v=u(g,f),x=g.hasNode(v.v)?i(f,v):-i(f,v),c(g,f,x);return g}function o(f,g){function m(h){t.forEach(g.nodeEdges(h),function(v){var x=v.v,b=h===x?v.w:x;!f.hasNode(b)&&!i(g,v)&&(f.setNode(b,{}),f.setEdge(h,b,{}),m(b))})}return t.forEach(f.nodes(),m),f.nodeCount()}function u(f,g){return t.minBy(g.edges(),function(m){if(f.hasNode(m.v)!==f.hasNode(m.w))return i(g,m)})}function c(f,g,m){t.forEach(f.nodes(),function(h){g.node(h).rank+=m})}return Vp}var Yp,nE;function Tz(){if(nE)return Yp;nE=1;var t=rt(),a=hC(),i=Yo().slack,s=Yo().longestPath,o=En().alg.preorder,u=En().alg.postorder,c=Vt().simplify;Yp=f,f.initLowLimValues=v,f.initCutValues=g,f.calcCutValue=h,f.leaveEdge=b,f.enterEdge=S,f.exchangeEdges=_;function f(T){T=c(T),s(T);var M=a(T);v(M),g(M,T);for(var O,k;O=b(M);)k=S(M,T,O),_(M,T,O,k)}function g(T,M){var O=u(T,T.nodes());O=O.slice(0,O.length-1),t.forEach(O,function(k){m(T,M,k)})}function m(T,M,O){var k=T.node(O),H=k.parent;T.edge(O,H).cutvalue=h(T,M,O)}function h(T,M,O){var k=T.node(O),H=k.parent,$=!0,U=M.edge(O,H),Y=0;return U||($=!1,U=M.edge(H,O)),Y=U.weight,t.forEach(M.nodeEdges(O),function(Z){var K=Z.v===O,ae=K?Z.w:Z.v;if(ae!==H){var L=K===$,ee=M.edge(Z).weight;if(Y+=L?ee:-ee,E(T,O,ae)){var z=T.edge(O,ae).cutvalue;Y+=L?-z:z}}}),Y}function v(T,M){arguments.length<2&&(M=T.nodes()[0]),x(T,{},1,M)}function x(T,M,O,k,H){var $=O,U=T.node(k);return M[k]=!0,t.forEach(T.neighbors(k),function(Y){t.has(M,Y)||(O=x(T,M,O,Y,k))}),U.low=$,U.lim=O++,H?U.parent=H:delete U.parent,O}function b(T){return t.find(T.edges(),function(M){return T.edge(M).cutvalue<0})}function S(T,M,O){var k=O.v,H=O.w;M.hasEdge(k,H)||(k=O.w,H=O.v);var $=T.node(k),U=T.node(H),Y=$,Z=!1;$.lim>U.lim&&(Y=U,Z=!0);var K=t.filter(M.edges(),function(ae){return Z===C(T,T.node(ae.v),Y)&&Z!==C(T,T.node(ae.w),Y)});return t.minBy(K,function(ae){return i(M,ae)})}function _(T,M,O,k){var H=O.v,$=O.w;T.removeEdge(H,$),T.setEdge(k.v,k.w,{}),v(T),g(T,M),N(T,M)}function N(T,M){var O=t.find(T.nodes(),function(H){return!M.node(H).parent}),k=o(T,O);k=k.slice(1),t.forEach(k,function(H){var $=T.node(H).parent,U=M.edge(H,$),Y=!1;U||(U=M.edge($,H),Y=!0),M.node(H).rank=M.node($).rank+(Y?U.minlen:-U.minlen)})}function E(T,M,O){return T.hasEdge(M,O)}function C(T,M,O){return O.low<=M.lim&&M.lim<=O.lim}return Yp}var Fp,rE;function Cz(){if(rE)return Fp;rE=1;var t=Yo(),a=t.longestPath,i=hC(),s=Tz();Fp=o;function o(g){switch(g.graph().ranker){case"network-simplex":f(g);break;case"tight-tree":c(g);break;case"longest-path":u(g);break;default:f(g)}}var u=a;function c(g){a(g),i(g)}function f(g){s(g)}return Fp}var Xp,aE;function jz(){if(aE)return Xp;aE=1;var t=rt();Xp=a;function a(o){var u=s(o);t.forEach(o.graph().dummyChains,function(c){for(var f=o.node(c),g=f.edgeObj,m=i(o,u,g.v,g.w),h=m.path,v=m.lca,x=0,b=h[x],S=!0;c!==g.w;){if(f=o.node(c),S){for(;(b=h[x])!==v&&o.node(b).maxRank<f.rank;)x++;b===v&&(S=!1)}if(!S){for(;x<h.length-1&&o.node(b=h[x+1]).minRank<=f.rank;)x++;b=h[x]}o.setParent(c,b),c=o.successors(c)[0]}})}function i(o,u,c,f){var g=[],m=[],h=Math.min(u[c].low,u[f].low),v=Math.max(u[c].lim,u[f].lim),x,b;x=c;do x=o.parent(x),g.push(x);while(x&&(u[x].low>h||v>u[x].lim));for(b=x,x=f;(x=o.parent(x))!==b;)m.push(x);return{path:g.concat(m.reverse()),lca:b}}function s(o){var u={},c=0;function f(g){var m=c;t.forEach(o.children(g),f),u[g]={low:m,lim:c++}}return t.forEach(o.children(),f),u}return Xp}var Kp,iE;function Az(){if(iE)return Kp;iE=1;var t=rt(),a=Vt();Kp={run:i,cleanup:c};function i(f){var g=a.addDummyNode(f,"root",{},"_root"),m=o(f),h=t.max(t.values(m))-1,v=2*h+1;f.graph().nestingRoot=g,t.forEach(f.edges(),function(b){f.edge(b).minlen*=v});var x=u(f)+1;t.forEach(f.children(),function(b){s(f,g,v,x,h,m,b)}),f.graph().nodeRankFactor=v}function s(f,g,m,h,v,x,b){var S=f.children(b);if(!S.length){b!==g&&f.setEdge(g,b,{weight:0,minlen:m});return}var _=a.addBorderNode(f,"_bt"),N=a.addBorderNode(f,"_bb"),E=f.node(b);f.setParent(_,b),E.borderTop=_,f.setParent(N,b),E.borderBottom=N,t.forEach(S,function(C){s(f,g,m,h,v,x,C);var T=f.node(C),M=T.borderTop?T.borderTop:C,O=T.borderBottom?T.borderBottom:C,k=T.borderTop?h:2*h,H=M!==O?1:v-x[b]+1;f.setEdge(_,M,{weight:k,minlen:H,nestingEdge:!0}),f.setEdge(O,N,{weight:k,minlen:H,nestingEdge:!0})}),f.parent(b)||f.setEdge(g,_,{weight:0,minlen:v+x[b]})}function o(f){var g={};function m(h,v){var x=f.children(h);x&&x.length&&t.forEach(x,function(b){m(b,v+1)}),g[h]=v}return t.forEach(f.children(),function(h){m(h,1)}),g}function u(f){return t.reduce(f.edges(),function(g,m){return g+f.edge(m).weight},0)}function c(f){var g=f.graph();f.removeNode(g.nestingRoot),delete g.nestingRoot,t.forEach(f.edges(),function(m){var h=f.edge(m);h.nestingEdge&&f.removeEdge(m)})}return Kp}var Zp,sE;function Mz(){if(sE)return Zp;sE=1;var t=rt(),a=Vt();Zp=i;function i(o){function u(c){var f=o.children(c),g=o.node(c);if(f.length&&t.forEach(f,u),t.has(g,"minRank")){g.borderLeft=[],g.borderRight=[];for(var m=g.minRank,h=g.maxRank+1;m<h;++m)s(o,"borderLeft","_bl",c,g,m),s(o,"borderRight","_br",c,g,m)}}t.forEach(o.children(),u)}function s(o,u,c,f,g,m){var h={width:0,height:0,rank:m,borderType:u},v=g[u][m-1],x=a.addDummyNode(o,"border",h,c);g[u][m]=x,o.setParent(x,f),v&&o.setEdge(v,x,{weight:1})}return Zp}var Qp,lE;function Rz(){if(lE)return Qp;lE=1;var t=rt();Qp={adjust:a,undo:i};function a(m){var h=m.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&s(m)}function i(m){var h=m.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&u(m),(h==="lr"||h==="rl")&&(f(m),s(m))}function s(m){t.forEach(m.nodes(),function(h){o(m.node(h))}),t.forEach(m.edges(),function(h){o(m.edge(h))})}function o(m){var h=m.width;m.width=m.height,m.height=h}function u(m){t.forEach(m.nodes(),function(h){c(m.node(h))}),t.forEach(m.edges(),function(h){var v=m.edge(h);t.forEach(v.points,c),t.has(v,"y")&&c(v)})}function c(m){m.y=-m.y}function f(m){t.forEach(m.nodes(),function(h){g(m.node(h))}),t.forEach(m.edges(),function(h){var v=m.edge(h);t.forEach(v.points,g),t.has(v,"x")&&g(v)})}function g(m){var h=m.x;m.x=m.y,m.y=h}return Qp}var Jp,oE;function qz(){if(oE)return Jp;oE=1;var t=rt();Jp=a;function a(i){var s={},o=t.filter(i.nodes(),function(m){return!i.children(m).length}),u=t.max(t.map(o,function(m){return i.node(m).rank})),c=t.map(t.range(u+1),function(){return[]});function f(m){if(!t.has(s,m)){s[m]=!0;var h=i.node(m);c[h.rank].push(m),t.forEach(i.successors(m),f)}}var g=t.sortBy(o,function(m){return i.node(m).rank});return t.forEach(g,f),c}return Jp}var Pp,uE;function Dz(){if(uE)return Pp;uE=1;var t=rt();Pp=a;function a(s,o){for(var u=0,c=1;c<o.length;++c)u+=i(s,o[c-1],o[c]);return u}function i(s,o,u){for(var c=t.zipObject(u,t.map(u,function(x,b){return b})),f=t.flatten(t.map(o,function(x){return t.sortBy(t.map(s.outEdges(x),function(b){return{pos:c[b.w],weight:s.edge(b).weight}}),"pos")}),!0),g=1;g<u.length;)g<<=1;var m=2*g-1;g-=1;var h=t.map(new Array(m),function(){return 0}),v=0;return t.forEach(f.forEach(function(x){var b=x.pos+g;h[b]+=x.weight;for(var S=0;b>0;)b%2&&(S+=h[b+1]),b=b-1>>1,h[b]+=x.weight;v+=x.weight*S})),v}return Pp}var Wp,cE;function Oz(){if(cE)return Wp;cE=1;var t=rt();Wp=a;function a(i,s){return t.map(s,function(o){var u=i.inEdges(o);if(u.length){var c=t.reduce(u,function(f,g){var m=i.edge(g),h=i.node(g.v);return{sum:f.sum+m.weight*h.order,weight:f.weight+m.weight}},{sum:0,weight:0});return{v:o,barycenter:c.sum/c.weight,weight:c.weight}}else return{v:o}})}return Wp}var e0,fE;function zz(){if(fE)return e0;fE=1;var t=rt();e0=a;function a(o,u){var c={};t.forEach(o,function(g,m){var h=c[g.v]={indegree:0,in:[],out:[],vs:[g.v],i:m};t.isUndefined(g.barycenter)||(h.barycenter=g.barycenter,h.weight=g.weight)}),t.forEach(u.edges(),function(g){var m=c[g.v],h=c[g.w];!t.isUndefined(m)&&!t.isUndefined(h)&&(h.indegree++,m.out.push(c[g.w]))});var f=t.filter(c,function(g){return!g.indegree});return i(f)}function i(o){var u=[];function c(m){return function(h){h.merged||(t.isUndefined(h.barycenter)||t.isUndefined(m.barycenter)||h.barycenter>=m.barycenter)&&s(m,h)}}function f(m){return function(h){h.in.push(m),--h.indegree===0&&o.push(h)}}for(;o.length;){var g=o.pop();u.push(g),t.forEach(g.in.reverse(),c(g)),t.forEach(g.out,f(g))}return t.map(t.filter(u,function(m){return!m.merged}),function(m){return t.pick(m,["vs","i","barycenter","weight"])})}function s(o,u){var c=0,f=0;o.weight&&(c+=o.barycenter*o.weight,f+=o.weight),u.weight&&(c+=u.barycenter*u.weight,f+=u.weight),o.vs=u.vs.concat(o.vs),o.barycenter=c/f,o.weight=f,o.i=Math.min(u.i,o.i),u.merged=!0}return e0}var t0,dE;function kz(){if(dE)return t0;dE=1;var t=rt(),a=Vt();t0=i;function i(u,c){var f=a.partition(u,function(_){return t.has(_,"barycenter")}),g=f.lhs,m=t.sortBy(f.rhs,function(_){return-_.i}),h=[],v=0,x=0,b=0;g.sort(o(!!c)),b=s(h,m,b),t.forEach(g,function(_){b+=_.vs.length,h.push(_.vs),v+=_.barycenter*_.weight,x+=_.weight,b=s(h,m,b)});var S={vs:t.flatten(h,!0)};return x&&(S.barycenter=v/x,S.weight=x),S}function s(u,c,f){for(var g;c.length&&(g=t.last(c)).i<=f;)c.pop(),u.push(g.vs),f++;return f}function o(u){return function(c,f){return c.barycenter<f.barycenter?-1:c.barycenter>f.barycenter?1:u?f.i-c.i:c.i-f.i}}return t0}var n0,hE;function Hz(){if(hE)return n0;hE=1;var t=rt(),a=Oz(),i=zz(),s=kz();n0=o;function o(f,g,m,h){var v=f.children(g),x=f.node(g),b=x?x.borderLeft:void 0,S=x?x.borderRight:void 0,_={};b&&(v=t.filter(v,function(O){return O!==b&&O!==S}));var N=a(f,v);t.forEach(N,function(O){if(f.children(O.v).length){var k=o(f,O.v,m,h);_[O.v]=k,t.has(k,"barycenter")&&c(O,k)}});var E=i(N,m);u(E,_);var C=s(E,h);if(b&&(C.vs=t.flatten([b,C.vs,S],!0),f.predecessors(b).length)){var T=f.node(f.predecessors(b)[0]),M=f.node(f.predecessors(S)[0]);t.has(C,"barycenter")||(C.barycenter=0,C.weight=0),C.barycenter=(C.barycenter*C.weight+T.order+M.order)/(C.weight+2),C.weight+=2}return C}function u(f,g){t.forEach(f,function(m){m.vs=t.flatten(m.vs.map(function(h){return g[h]?g[h].vs:h}),!0)})}function c(f,g){t.isUndefined(f.barycenter)?(f.barycenter=g.barycenter,f.weight=g.weight):(f.barycenter=(f.barycenter*f.weight+g.barycenter*g.weight)/(f.weight+g.weight),f.weight+=g.weight)}return n0}var r0,mE;function Lz(){if(mE)return r0;mE=1;var t=rt(),a=En().Graph;r0=i;function i(o,u,c){var f=s(o),g=new a({compound:!0}).setGraph({root:f}).setDefaultNodeLabel(function(m){return o.node(m)});return t.forEach(o.nodes(),function(m){var h=o.node(m),v=o.parent(m);(h.rank===u||h.minRank<=u&&u<=h.maxRank)&&(g.setNode(m),g.setParent(m,v||f),t.forEach(o[c](m),function(x){var b=x.v===m?x.w:x.v,S=g.edge(b,m),_=t.isUndefined(S)?0:S.weight;g.setEdge(b,m,{weight:o.edge(x).weight+_})}),t.has(h,"minRank")&&g.setNode(m,{borderLeft:h.borderLeft[u],borderRight:h.borderRight[u]}))}),g}function s(o){for(var u;o.hasNode(u=t.uniqueId("_root")););return u}return r0}var a0,gE;function Bz(){if(gE)return a0;gE=1;var t=rt();a0=a;function a(i,s,o){var u={},c;t.forEach(o,function(f){for(var g=i.parent(f),m,h;g;){if(m=i.parent(g),m?(h=u[m],u[m]=g):(h=c,c=g),h&&h!==g){s.setEdge(h,g);return}g=m}})}return a0}var i0,pE;function Uz(){if(pE)return i0;pE=1;var t=rt(),a=qz(),i=Dz(),s=Hz(),o=Lz(),u=Bz(),c=En().Graph,f=Vt();i0=g;function g(x){var b=f.maxRank(x),S=m(x,t.range(1,b+1),"inEdges"),_=m(x,t.range(b-1,-1,-1),"outEdges"),N=a(x);v(x,N);for(var E=Number.POSITIVE_INFINITY,C,T=0,M=0;M<4;++T,++M){h(T%2?S:_,T%4>=2),N=f.buildLayerMatrix(x);var O=i(x,N);O<E&&(M=0,C=t.cloneDeep(N),E=O)}v(x,C)}function m(x,b,S){return t.map(b,function(_){return o(x,_,S)})}function h(x,b){var S=new c;t.forEach(x,function(_){var N=_.graph().root,E=s(_,N,S,b);t.forEach(E.vs,function(C,T){_.node(C).order=T}),u(_,S,E.vs)})}function v(x,b){t.forEach(b,function(S){t.forEach(S,function(_,N){x.node(_).order=N})})}return i0}var s0,vE;function $z(){if(vE)return s0;vE=1;var t=rt(),a=En().Graph,i=Vt();s0={positionX:S,findType1Conflicts:s,findType2Conflicts:o,addConflict:c,hasConflict:f,verticalAlignment:g,horizontalCompaction:m,alignCoordinates:x,findSmallestWidthAlignment:v,balance:b};function s(E,C){var T={};function M(O,k){var H=0,$=0,U=O.length,Y=t.last(k);return t.forEach(k,function(Z,K){var ae=u(E,Z),L=ae?E.node(ae).order:U;(ae||Z===Y)&&(t.forEach(k.slice($,K+1),function(ee){t.forEach(E.predecessors(ee),function(z){var P=E.node(z),le=P.order;(le<H||L<le)&&!(P.dummy&&E.node(ee).dummy)&&c(T,z,ee)})}),$=K+1,H=L)}),k}return t.reduce(C,M),T}function o(E,C){var T={};function M(k,H,$,U,Y){var Z;t.forEach(t.range(H,$),function(K){Z=k[K],E.node(Z).dummy&&t.forEach(E.predecessors(Z),function(ae){var L=E.node(ae);L.dummy&&(L.order<U||L.order>Y)&&c(T,ae,Z)})})}function O(k,H){var $=-1,U,Y=0;return t.forEach(H,function(Z,K){if(E.node(Z).dummy==="border"){var ae=E.predecessors(Z);ae.length&&(U=E.node(ae[0]).order,M(H,Y,K,$,U),Y=K,$=U)}M(H,Y,H.length,U,k.length)}),H}return t.reduce(C,O),T}function u(E,C){if(E.node(C).dummy)return t.find(E.predecessors(C),function(T){return E.node(T).dummy})}function c(E,C,T){if(C>T){var M=C;C=T,T=M}var O=E[C];O||(E[C]=O={}),O[T]=!0}function f(E,C,T){if(C>T){var M=C;C=T,T=M}return t.has(E[C],T)}function g(E,C,T,M){var O={},k={},H={};return t.forEach(C,function($){t.forEach($,function(U,Y){O[U]=U,k[U]=U,H[U]=Y})}),t.forEach(C,function($){var U=-1;t.forEach($,function(Y){var Z=M(Y);if(Z.length){Z=t.sortBy(Z,function(z){return H[z]});for(var K=(Z.length-1)/2,ae=Math.floor(K),L=Math.ceil(K);ae<=L;++ae){var ee=Z[ae];k[Y]===Y&&U<H[ee]&&!f(T,Y,ee)&&(k[ee]=Y,k[Y]=O[Y]=O[ee],U=H[ee])}}})}),{root:O,align:k}}function m(E,C,T,M,O){var k={},H=h(E,C,T,O),$=O?"borderLeft":"borderRight";function U(K,ae){for(var L=H.nodes(),ee=L.pop(),z={};ee;)z[ee]?K(ee):(z[ee]=!0,L.push(ee),L=L.concat(ae(ee))),ee=L.pop()}function Y(K){k[K]=H.inEdges(K).reduce(function(ae,L){return Math.max(ae,k[L.v]+H.edge(L))},0)}function Z(K){var ae=H.outEdges(K).reduce(function(ee,z){return Math.min(ee,k[z.w]-H.edge(z))},Number.POSITIVE_INFINITY),L=E.node(K);ae!==Number.POSITIVE_INFINITY&&L.borderType!==$&&(k[K]=Math.max(k[K],ae))}return U(Y,H.predecessors.bind(H)),U(Z,H.successors.bind(H)),t.forEach(M,function(K){k[K]=k[T[K]]}),k}function h(E,C,T,M){var O=new a,k=E.graph(),H=_(k.nodesep,k.edgesep,M);return t.forEach(C,function($){var U;t.forEach($,function(Y){var Z=T[Y];if(O.setNode(Z),U){var K=T[U],ae=O.edge(K,Z);O.setEdge(K,Z,Math.max(H(E,Y,U),ae||0))}U=Y})}),O}function v(E,C){return t.minBy(t.values(C),function(T){var M=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY;return t.forIn(T,function(k,H){var $=N(E,H)/2;M=Math.max(k+$,M),O=Math.min(k-$,O)}),M-O})}function x(E,C){var T=t.values(C),M=t.min(T),O=t.max(T);t.forEach(["u","d"],function(k){t.forEach(["l","r"],function(H){var $=k+H,U=E[$],Y;if(U!==C){var Z=t.values(U);Y=H==="l"?M-t.min(Z):O-t.max(Z),Y&&(E[$]=t.mapValues(U,function(K){return K+Y}))}})})}function b(E,C){return t.mapValues(E.ul,function(T,M){if(C)return E[C.toLowerCase()][M];var O=t.sortBy(t.map(E,M));return(O[1]+O[2])/2})}function S(E){var C=i.buildLayerMatrix(E),T=t.merge(s(E,C),o(E,C)),M={},O;t.forEach(["u","d"],function(H){O=H==="u"?C:t.values(C).reverse(),t.forEach(["l","r"],function($){$==="r"&&(O=t.map(O,function(K){return t.values(K).reverse()}));var U=(H==="u"?E.predecessors:E.successors).bind(E),Y=g(E,O,T,U),Z=m(E,O,Y.root,Y.align,$==="r");$==="r"&&(Z=t.mapValues(Z,function(K){return-K})),M[H+$]=Z})});var k=v(E,M);return x(M,k),b(M,E.graph().align)}function _(E,C,T){return function(M,O,k){var H=M.node(O),$=M.node(k),U=0,Y;if(U+=H.width/2,t.has(H,"labelpos"))switch(H.labelpos.toLowerCase()){case"l":Y=-H.width/2;break;case"r":Y=H.width/2;break}if(Y&&(U+=T?Y:-Y),Y=0,U+=(H.dummy?C:E)/2,U+=($.dummy?C:E)/2,U+=$.width/2,t.has($,"labelpos"))switch($.labelpos.toLowerCase()){case"l":Y=$.width/2;break;case"r":Y=-$.width/2;break}return Y&&(U+=T?Y:-Y),Y=0,U}}function N(E,C){return E.node(C).width}return s0}var l0,yE;function Gz(){if(yE)return l0;yE=1;var t=rt(),a=Vt(),i=$z().positionX;l0=s;function s(u){u=a.asNonCompoundGraph(u),o(u),t.forEach(i(u),function(c,f){u.node(f).x=c})}function o(u){var c=a.buildLayerMatrix(u),f=u.graph().ranksep,g=0;t.forEach(c,function(m){var h=t.max(t.map(m,function(v){return u.node(v).height}));t.forEach(m,function(v){u.node(v).y=g+h/2}),g+=h+f})}return l0}var o0,xE;function Iz(){if(xE)return o0;xE=1;var t=rt(),a=Nz(),i=Ez(),s=Cz(),o=Vt().normalizeRanks,u=jz(),c=Vt().removeEmptyRanks,f=Az(),g=Mz(),m=Rz(),h=Uz(),v=Gz(),x=Vt(),b=En().Graph;o0=S;function S(j,R){var G=R&&R.debugTiming?x.time:x.notime;G("layout",function(){var F=G("  buildLayoutGraph",function(){return U(j)});G("  runLayout",function(){_(F,G)}),G("  updateInputGraph",function(){N(j,F)})})}function _(j,R){R("    makeSpaceForEdgeLabels",function(){Y(j)}),R("    removeSelfEdges",function(){W(j)}),R("    acyclic",function(){a.run(j)}),R("    nestingGraph.run",function(){f.run(j)}),R("    rank",function(){s(x.asNonCompoundGraph(j))}),R("    injectEdgeLabelProxies",function(){Z(j)}),R("    removeEmptyRanks",function(){c(j)}),R("    nestingGraph.cleanup",function(){f.cleanup(j)}),R("    normalizeRanks",function(){o(j)}),R("    assignRankMinMax",function(){K(j)}),R("    removeEdgeLabelProxies",function(){ae(j)}),R("    normalize.run",function(){i.run(j)}),R("    parentDummyChains",function(){u(j)}),R("    addBorderSegments",function(){g(j)}),R("    order",function(){h(j)}),R("    insertSelfEdges",function(){X(j)}),R("    adjustCoordinateSystem",function(){m.adjust(j)}),R("    position",function(){v(j)}),R("    positionSelfEdges",function(){D(j)}),R("    removeBorderNodes",function(){le(j)}),R("    normalize.undo",function(){i.undo(j)}),R("    fixupEdgeLabelCoords",function(){z(j)}),R("    undoCoordinateSystem",function(){m.undo(j)}),R("    translateGraph",function(){L(j)}),R("    assignNodeIntersects",function(){ee(j)}),R("    reversePoints",function(){P(j)}),R("    acyclic.undo",function(){a.undo(j)})}function N(j,R){t.forEach(j.nodes(),function(G){var F=j.node(G),re=R.node(G);F&&(F.x=re.x,F.y=re.y,R.children(G).length&&(F.width=re.width,F.height=re.height))}),t.forEach(j.edges(),function(G){var F=j.edge(G),re=R.edge(G);F.points=re.points,t.has(re,"x")&&(F.x=re.x,F.y=re.y)}),j.graph().width=R.graph().width,j.graph().height=R.graph().height}var E=["nodesep","edgesep","ranksep","marginx","marginy"],C={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},T=["acyclicer","ranker","rankdir","align"],M=["width","height"],O={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],H={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},$=["labelpos"];function U(j){var R=new b({multigraph:!0,compound:!0}),G=A(j.graph());return R.setGraph(t.merge({},C,I(G,E),t.pick(G,T))),t.forEach(j.nodes(),function(F){var re=A(j.node(F));R.setNode(F,t.defaults(I(re,M),O)),R.setParent(F,j.parent(F))}),t.forEach(j.edges(),function(F){var re=A(j.edge(F));R.setEdge(F,t.merge({},H,I(re,k),t.pick(re,$)))}),R}function Y(j){var R=j.graph();R.ranksep/=2,t.forEach(j.edges(),function(G){var F=j.edge(G);F.minlen*=2,F.labelpos.toLowerCase()!=="c"&&(R.rankdir==="TB"||R.rankdir==="BT"?F.width+=F.labeloffset:F.height+=F.labeloffset)})}function Z(j){t.forEach(j.edges(),function(R){var G=j.edge(R);if(G.width&&G.height){var F=j.node(R.v),re=j.node(R.w),te={rank:(re.rank-F.rank)/2+F.rank,e:R};x.addDummyNode(j,"edge-proxy",te,"_ep")}})}function K(j){var R=0;t.forEach(j.nodes(),function(G){var F=j.node(G);F.borderTop&&(F.minRank=j.node(F.borderTop).rank,F.maxRank=j.node(F.borderBottom).rank,R=t.max(R,F.maxRank))}),j.graph().maxRank=R}function ae(j){t.forEach(j.nodes(),function(R){var G=j.node(R);G.dummy==="edge-proxy"&&(j.edge(G.e).labelRank=G.rank,j.removeNode(R))})}function L(j){var R=Number.POSITIVE_INFINITY,G=0,F=Number.POSITIVE_INFINITY,re=0,te=j.graph(),ge=te.marginx||0,ce=te.marginy||0;function Q(ve){var be=ve.x,pe=ve.y,Ce=ve.width,ye=ve.height;R=Math.min(R,be-Ce/2),G=Math.max(G,be+Ce/2),F=Math.min(F,pe-ye/2),re=Math.max(re,pe+ye/2)}t.forEach(j.nodes(),function(ve){Q(j.node(ve))}),t.forEach(j.edges(),function(ve){var be=j.edge(ve);t.has(be,"x")&&Q(be)}),R-=ge,F-=ce,t.forEach(j.nodes(),function(ve){var be=j.node(ve);be.x-=R,be.y-=F}),t.forEach(j.edges(),function(ve){var be=j.edge(ve);t.forEach(be.points,function(pe){pe.x-=R,pe.y-=F}),t.has(be,"x")&&(be.x-=R),t.has(be,"y")&&(be.y-=F)}),te.width=G-R+ge,te.height=re-F+ce}function ee(j){t.forEach(j.edges(),function(R){var G=j.edge(R),F=j.node(R.v),re=j.node(R.w),te,ge;G.points?(te=G.points[0],ge=G.points[G.points.length-1]):(G.points=[],te=re,ge=F),G.points.unshift(x.intersectRect(F,te)),G.points.push(x.intersectRect(re,ge))})}function z(j){t.forEach(j.edges(),function(R){var G=j.edge(R);if(t.has(G,"x"))switch((G.labelpos==="l"||G.labelpos==="r")&&(G.width-=G.labeloffset),G.labelpos){case"l":G.x-=G.width/2+G.labeloffset;break;case"r":G.x+=G.width/2+G.labeloffset;break}})}function P(j){t.forEach(j.edges(),function(R){var G=j.edge(R);G.reversed&&G.points.reverse()})}function le(j){t.forEach(j.nodes(),function(R){if(j.children(R).length){var G=j.node(R),F=j.node(G.borderTop),re=j.node(G.borderBottom),te=j.node(t.last(G.borderLeft)),ge=j.node(t.last(G.borderRight));G.width=Math.abs(ge.x-te.x),G.height=Math.abs(re.y-F.y),G.x=te.x+G.width/2,G.y=F.y+G.height/2}}),t.forEach(j.nodes(),function(R){j.node(R).dummy==="border"&&j.removeNode(R)})}function W(j){t.forEach(j.edges(),function(R){if(R.v===R.w){var G=j.node(R.v);G.selfEdges||(G.selfEdges=[]),G.selfEdges.push({e:R,label:j.edge(R)}),j.removeEdge(R)}})}function X(j){var R=x.buildLayerMatrix(j);t.forEach(R,function(G){var F=0;t.forEach(G,function(re,te){var ge=j.node(re);ge.order=te+F,t.forEach(ge.selfEdges,function(ce){x.addDummyNode(j,"selfedge",{width:ce.label.width,height:ce.label.height,rank:ge.rank,order:te+ ++F,e:ce.e,label:ce.label},"_se")}),delete ge.selfEdges})})}function D(j){t.forEach(j.nodes(),function(R){var G=j.node(R);if(G.dummy==="selfedge"){var F=j.node(G.e.v),re=F.x+F.width/2,te=F.y,ge=G.x-re,ce=F.height/2;j.setEdge(G.e,G.label),j.removeNode(R),G.label.points=[{x:re+2*ge/3,y:te-ce},{x:re+5*ge/6,y:te-ce},{x:re+ge,y:te},{x:re+5*ge/6,y:te+ce},{x:re+2*ge/3,y:te+ce}],G.label.x=G.x,G.label.y=G.y}})}function I(j,R){return t.mapValues(t.pick(j,R),Number)}function A(j){var R={};return t.forEach(j,function(G,F){R[F.toLowerCase()]=G}),R}return o0}var u0,bE;function Vz(){if(bE)return u0;bE=1;var t=rt(),a=Vt(),i=En().Graph;u0={debugOrdering:s};function s(o){var u=a.buildLayerMatrix(o),c=new i({compound:!0,multigraph:!0}).setGraph({});return t.forEach(o.nodes(),function(f){c.setNode(f,{label:f}),c.setParent(f,"layer"+o.node(f).rank)}),t.forEach(o.edges(),function(f){c.setEdge(f.v,f.w,{},f.name)}),t.forEach(u,function(f,g){var m="layer"+g;c.setNode(m,{rank:"same"}),t.reduce(f,function(h,v){return c.setEdge(h,v,{style:"invis"}),v})}),c}return u0}var c0,_E;function Yz(){return _E||(_E=1,c0="0.8.5"),c0}var f0,SE;function Fz(){return SE||(SE=1,f0={graphlib:En(),layout:Iz(),debug:Vz(),util:{time:Vt().time,notime:Vt().notime},version:Yz()}),f0}var Xz=Fz();const Vr=A0(Xz);const mC=(...t)=>t.filter((a,i,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===i).join(" ").trim();const Kz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Zz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,s)=>s?s.toUpperCase():i.toLowerCase());const wE=t=>{const a=Zz(t);return a.charAt(0).toUpperCase()+a.slice(1)};var Qz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jz=t=>{for(const a in t)if(a.startsWith("aria-")||a==="role"||a==="title")return!0;return!1};const Pz=B.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:c,...f},g)=>B.createElement("svg",{ref:g,...Qz,width:a,height:a,stroke:t,strokeWidth:s?Number(i)*24/Number(a):i,className:mC("lucide",o),...!u&&!Jz(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,h])=>B.createElement(m,h)),...Array.isArray(u)?u:[u]]));const je=(t,a)=>{const i=B.forwardRef(({className:s,...o},u)=>B.createElement(Pz,{ref:u,iconNode:a,className:mC(`lucide-${Kz(wE(t))}`,`lucide-${t}`,s),...o}));return i.displayName=wE(t),i};const Wz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hv=je("activity",Wz);const e8=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],t8=je("arrow-left-right",e8);const n8=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],r8=je("arrow-up-down",n8);const a8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],i8=je("award",a8);const s8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],l8=je("circle-check-big",s8);const o8=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],u8=je("circle-play",o8);const c8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],f8=je("circle-x",c8);const d8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],gC=je("columns-2",d8);const h8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],m8=je("copy",h8);const g8=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_a=je("database",g8);const p8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],v8=je("file-plus",p8);const y8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],pC=je("file-text",y8);const x8=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],b8=je("flag",x8);const _8=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],S8=je("folder-open",_8);const w8=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],vC=je("folder",w8);const N8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],E8=je("funnel",N8);const T8=[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]],C8=je("git-fork",T8);const j8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],A8=je("grid-3x3",j8);const M8=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],R8=je("hash",M8);const q8=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],yC=je("layout-grid",q8);const D8=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],xC=je("list",D8);const O8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],z8=je("loader-circle",O8);const k8=[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]],H8=je("merge",k8);const L8=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],B8=je("monitor-play",L8);const U8=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ao=je("pause",U8);const $8=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],NE=je("pen-line",$8);const G8=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mo=je("play",G8);const I8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],en=je("plus",I8);const V8=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Y8=je("repeat",V8);const F8=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],X8=je("rotate-cw",F8);const K8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Z8=je("save",K8);const Q8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],J8=je("search",Q8);const P8=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Fo=je("server",P8);const W8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],j0=je("settings",W8);const ek=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tk=je("sparkles",ek);const nk=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rk=je("square-check-big",nk);const ak=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],ik=je("table",ak);const sk=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],lk=je("text-align-justify",sk);const ok=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ft=je("trash-2",ok);const uk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ck=je("triangle-alert",uk);const fk=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],EE=je("truck",fk);const dk=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],hk=je("workflow",dk);const mk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],TE=je("x",mk),gk=({data:t})=>p.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-md shadow-sm w-40 overflow-hidden",children:[p.jsx(kn,{type:"target",position:t.targetPos||_e.Left,className:"w-3 h-3 bg-gray-400"}),p.jsxs("div",{className:"bg-gray-100 p-2 border-b border-gray-200 flex items-center gap-2",children:[t.type==="fs"?p.jsx(vC,{className:"w-4 h-4 text-yellow-500"}):p.jsx(_a,{className:"w-4 h-4 text-blue-500"}),p.jsx("span",{className:"text-xs font-bold text-gray-700 truncate",title:t.label,children:t.label})]}),p.jsxs("div",{className:"p-3 text-center",children:[p.jsx("div",{className:"text-xl font-bold text-gray-800",children:t.count}),p.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:t.type==="fs"?"Files":"Records"})]}),p.jsx(kn,{type:"source",position:t.sourcePos||_e.Right,className:"w-3 h-3 bg-gray-400"})]}),pk=({data:t})=>p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsxs("div",{className:`relative flex items-center justify-center w-16 h-16 rounded-full border-2 shadow-sm transition-all duration-300 ${t.isProcessing?"bg-orange-100 border-orange-500 shadow-[0_0_15px_rgba(249,115,22,0.5)]":"bg-blue-100 border-blue-500"}`,children:[p.jsx(kn,{type:"target",position:t.targetPos||_e.Left,style:{opacity:0}}),t.isProcessing?p.jsx(z8,{className:"w-8 h-8 text-orange-600 animate-spin"}):p.jsx(j0,{className:"w-8 h-8 text-blue-600"}),p.jsx(kn,{type:"source",position:t.sourcePos||_e.Right,style:{opacity:0}})]}),p.jsx("div",{className:"mt-2 text-xs font-medium text-gray-600 bg-white/80 px-2 py-0.5 rounded border border-gray-200 text-center max-w-[120px]",children:t.label})]}),vk={storage:gk,process:pk},yk=({activeSteps:t=[]})=>{const{listFiles:a}=DE(),{select:i}=zE(),{dataSource:s,collection:o,delivery:u,etl:c,topics:f,mappings:g,mappingTasks:m,connections:h}=mn(),[v,x,b]=u3([]),[S,_,N]=c3([]),[E,C]=B.useState(null),T=B.useCallback($=>{try{return $.type==="file"?a($.host,$.path).length:$.type==="database"?i($.tableName).length:0}catch{return 0}},[a,i]),M=B.useCallback(($,U)=>{try{return a($,U).length}catch{return 0}},[a]);B.useEffect(()=>{const $=[],U=[],Y=new Map,Z=(X,D)=>`legacy:${X}:${D}`,K=X=>X.type==="file"?`legacy:${X.host}:${X.path}`:`db:${X.tableName}`,ae=(X,D,I,A)=>{const j=Z(X,D);if(Y.has(j))return Y.get(j);let R=`${X}:${D}`;if(X==="localhost"&&D.startsWith("/topics/")){const re=D.split("/")[2],te=f.find(ge=>ge.id===re);te&&(R=`Topic: ${te.name}`)}const F={id:`storage-${j.replace(/[^a-zA-Z0-9-_]/g,"_")}`,type:"storage",position:{x:50+I*300,y:50+A*150},data:{label:R,type:"fs",count:M(X,D)},sourcePosition:_e.Right,targetPosition:_e.Left};return $.push(F),Y.set(j,F),F},L=(X,D=0,I=0)=>{const A=K(X);if(Y.has(A))return Y.get(A);const R={id:`storage-${A.replace(/[^a-zA-Z0-9-_]/g,"_")}`,type:"storage",position:{x:50+D*300,y:50+I*150},data:{label:X.type==="database"?`DB: ${X.tableName}`:`${X.host}:${X.path}`,type:X.type==="database"?"db":"fs",count:T(X)},sourcePosition:_e.Right,targetPosition:_e.Left};return $.push(R),Y.set(A,R),R};Array.from(new Set(s.definitions.map(X=>Z(X.host,X.path)))).forEach((X,D)=>{const I=X.split(":");ae(I[1],I[2],1,D)});const z=new Set;o.jobs.forEach(X=>{X.targetType==="topic"&&X.targetTopicId?z.add(Z("localhost",`/topics/${X.targetTopicId}`)):z.add(Z(X.targetHost,X.targetPath))}),u.jobs.forEach(X=>{z.add(Z(X.targetHost,X.targetPath))});let P=0;z.forEach(X=>{const D=X.split(":");Y.has(X)||ae(D[1],D[2],2,P++)}),s.jobs.forEach(X=>{if(!X.enabled)return;const D=s.definitions.find(j=>j.id===X.dataSourceId);if(!D)return;const I=Y.get(Z(D.host,D.path));if(!I)return;const A=`process-gen-${X.id}`;$.push({id:A,type:"process",position:{x:I.position.x-250,y:I.position.y},data:{label:X.name,isProcessing:!1}}),U.push({id:`e-${A}-${I.id}`,source:A,target:I.id,animated:!0})}),o.jobs.forEach(X=>{if(!X.enabled)return;let D=X.targetHost,I=X.targetPath;X.targetType==="topic"&&X.targetTopicId&&(D="localhost",I=`/topics/${X.targetTopicId}`);const A=Y.get(Z(X.sourceHost,X.sourcePath)),j=Y.get(Z(D,I));if(A&&j){const R=`process-col-${X.id}`;$.push({id:R,type:"process",position:{x:(A.position.x+j.position.x)/2,y:(A.position.y+j.position.y)/2},data:{label:X.name,isProcessing:t.includes(`transfer_1_${X.id}`)}}),U.push({id:`e-${A.id}-${R}`,source:A.id,target:R,animated:!0}),U.push({id:`e-${R}-${j.id}`,source:R,target:j.id,animated:!0})}}),u.jobs.forEach(X=>{if(!X.enabled)return;let D=X.sourceHost,I=X.sourcePath;X.sourceType==="topic"&&X.sourceTopicId&&(D="localhost",I=`/topics/${X.sourceTopicId}`);const A=Y.get(Z(D,I)),j=Y.get(Z(X.targetHost,X.targetPath));if(A&&j){const R=`process-del-${X.id}`;$.push({id:R,type:"process",position:{x:(A.position.x+j.position.x)/2,y:(A.position.y+j.position.y)/2},data:{label:X.name,isProcessing:t.includes(`transfer_2_${X.id}`)}}),U.push({id:`e-${A.id}-${R}`,source:A.id,target:R,animated:!0}),U.push({id:`e-${R}-${j.id}`,source:R,target:j.id,animated:!0})}});let le=0;const W=600;m.forEach(X=>{if(!X.enabled)return;const D=g.find(te=>te.id===X.mappingId);if(!D)return;const I=`process-task-${X.id}`,A=D.transformations.filter(te=>te.type==="source"),j=D.transformations.filter(te=>te.type==="target"),R=[],G=[];A.forEach(te=>{const ge=te.config,ce=h.find(Q=>Q.id===ge.connectionId);if(ce){const Q=L(ce,3,le);R.push(Q)}}),j.forEach(te=>{const ge=te.config,ce=h.find(Q=>Q.id===ge.connectionId);if(ce){const Q=L(ce,5,le);G.push(Q)}});const F=[...R,...G];let re=0;F.length>0?re=F.reduce((te,ge)=>te+ge.position.y,0)/F.length:re=50+le*150,$.push({id:I,type:"process",position:{x:W+200,y:re},data:{label:X.name,isProcessing:t.includes(`mapping_task_${X.id}`)}}),R.forEach(te=>{U.push({id:`e-${te.id}-${I}`,source:te.id,target:I,animated:!0})}),G.forEach(te=>{U.push({id:`e-${I}-${te.id}`,source:I,target:te.id,animated:!0})}),le++}),x(X=>{const D=new Map(X.map(I=>[I.id,I]));return $.map(I=>{const A=D.get(I.id);return A?{...I,position:A.position,width:A.width,height:A.height,selected:A.selected,dragging:A.dragging}:I})}),_(U)},[s,o,u,c,f,g,m,h,a,i,t,M,T,x,_]);const[O,k]=B.useState(!1);B.useEffect(()=>{E&&v.length>0&&S.length>0&&!O&&(k(!0),window.requestAnimationFrame(()=>{const $=new Vr.graphlib.Graph;$.setDefaultEdgeLabel(()=>({})),$.setGraph({rankdir:"LR"});const U=K=>K.type==="storage"?220:180,Y=K=>K.type==="storage"?120:80;v.forEach(K=>{$.setNode(K.id,{width:U(K),height:Y(K)})}),S.forEach(K=>{$.setEdge(K.source,K.target)}),Vr.layout($);const Z=v.map(K=>{const ae=$.node(K.id);return{...K,targetPosition:_e.Left,sourcePosition:_e.Right,width:U(K),height:Y(K),position:{x:ae.x-U(K)/2,y:ae.y-Y(K)/2}}});x(Z),E.fitView({padding:.2,duration:800})}))},[E,v,S,O,x]);const H=B.useCallback(()=>{const $=new Vr.graphlib.Graph;$.setDefaultEdgeLabel(()=>({}));const U=K=>K.type==="storage"?220:180,Y=K=>K.type==="storage"?120:80;$.setGraph({rankdir:"LR"}),v.forEach(K=>{$.setNode(K.id,{width:U(K),height:Y(K)})}),S.forEach(K=>{$.setEdge(K.source,K.target)}),Vr.layout($);const Z=v.map(K=>{const ae=$.node(K.id);return{...K,targetPosition:_e.Left,sourcePosition:_e.Right,width:U(K),height:Y(K),position:{x:ae.x-U(K)/2,y:ae.y-Y(K)/2}}});x(Z),E&&window.requestAnimationFrame(()=>{E.fitView({padding:.2,duration:800})})},[v,S,x,E]);return p.jsx("div",{style:{width:"100%",height:"100%"},children:p.jsxs(K0,{nodes:v,edges:S,onNodesChange:b,onEdgesChange:N,nodeTypes:vk,onInit:C,fitView:!0,attributionPosition:"bottom-right",children:[p.jsx(m3,{}),p.jsx(d3,{}),p.jsx(Po,{position:"top-right",children:p.jsxs("button",{onClick:H,className:"flex items-center gap-2 bg-white px-3 py-2 rounded shadow border border-gray-200 hover:bg-gray-50 text-sm font-medium text-gray-700 cursor-pointer",title:"Auto-align nodes",children:[p.jsx(yC,{size:16}),"Align Layout"]})})]})})},xk=()=>{const{hosts:t,addHost:a,removeHost:i,addDirectory:s,removeDirectory:o,isHostInUse:u,isDirectoryInUse:c}=mn(),[f,g]=B.useState(""),[m,h]=B.useState({}),v=()=>{f.trim()&&(a(f.trim()),g(""))},x=_=>{if(u(_)){alert(`Cannot delete host "${_}" because it is currently in use by one or more jobs.`);return}window.confirm(`Are you sure you want to delete host "${_}"?`)&&i(_)},b=_=>{const N=m[_];if(N&&N.trim()){let E=N.trim();E.startsWith("/")||(E="/"+E),E.length>1&&E.endsWith("/")&&(E=E.slice(0,-1)),s(_,E),h(C=>({...C,[_]:""}))}},S=(_,N)=>{if(c(_,N)){alert(`Cannot delete directory "${N}" on "${_}" because it is currently in use.`);return}window.confirm(`Are you sure you want to delete directory "${N}" from "${_}"?`)&&o(_,N)};return p.jsxs("div",{className:"space-y-6 p-4 border rounded bg-white shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 border-b pb-2",children:[p.jsx(Fo,{className:"text-blue-600",size:24}),p.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Infrastructure Settings"})]}),p.jsx("div",{className:"space-y-6",children:t.map(_=>p.jsxs("div",{className:"border rounded-md bg-gray-50 overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-100 border-b",children:[p.jsxs("div",{className:"flex items-center gap-2 font-medium text-gray-700",children:[p.jsx(Fo,{size:18}),p.jsx("span",{children:_.name})]}),p.jsx("button",{onClick:()=>x(_.name),className:`p-1 rounded transition-colors ${u(_.name)?"text-gray-400 cursor-not-allowed":"text-red-500 hover:bg-red-50 hover:text-red-700"}`,title:u(_.name)?"Host is in use":"Delete Host",disabled:u(_.name),children:p.jsx(ft,{size:18})})]}),p.jsxs("div",{className:"p-3 space-y-2",children:[p.jsx("div",{className:"space-y-2",children:_.directories.map(N=>p.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border text-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[p.jsx(vC,{size:16,className:"text-yellow-500"}),p.jsx("span",{children:N})]}),p.jsx("button",{onClick:()=>S(_.name,N),className:`p-1 rounded transition-colors ${c(_.name,N)?"text-gray-400 cursor-not-allowed":"text-red-400 hover:text-red-600"}`,title:c(_.name,N)?"Directory is in use":"Delete Directory",disabled:c(_.name,N),children:p.jsx(ft,{size:16})})]},N))}),p.jsxs("div",{className:"mt-3 flex gap-2",children:[p.jsx("input",{type:"text",value:m[_.name]||"",onChange:N=>h(E=>({...E,[_.name]:N.target.value})),placeholder:"/new/path",className:"flex-1 border rounded px-2 py-1 text-sm focus:outline-none focus:border-blue-400",onKeyDown:N=>N.key==="Enter"&&b(_.name)}),p.jsxs("button",{onClick:()=>b(_.name),className:"px-3 py-1 bg-white border border-gray-300 rounded text-sm text-gray-600 hover:bg-gray-50 hover:text-blue-600 flex items-center gap-1",children:[p.jsx(en,{size:16})," Add Dir"]})]})]})]},_.name))}),p.jsxs("div",{className:"pt-4 border-t",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Host"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:f,onChange:_=>g(_.target.value),placeholder:"e.g., server-db-1",className:"flex-1 border rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-400",onKeyDown:_=>_.key==="Enter"&&v()}),p.jsxs("button",{onClick:v,disabled:!f.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[p.jsx(en,{size:18})," Add Host"]})]})]})]})},bk=()=>{const{tables:t,addTable:a,removeTable:i,addColumn:s,removeColumn:o}=mn(),[u,c]=B.useState(""),[f,g]=B.useState({}),m=()=>{u.trim()&&(a(u.trim()),c(""))},h=(S,_)=>{window.confirm(`Are you sure you want to delete table "${_}"?`)&&i(S)},v=(S,_,N)=>{g(E=>({...E,[S]:{...E[S]||{name:"",type:"string"},[_]:N}}))},x=S=>{const _=f[S];_&&_.name.trim()&&(s(S,_.name.trim(),_.type||"string"),g(N=>({...N,[S]:{name:"",type:"string"}})))},b=(S,_)=>{window.confirm(`Delete column "${_}"?`)&&o(S,_)};return p.jsxs("div",{className:"space-y-6 p-4 border rounded bg-white shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 border-b pb-2",children:[p.jsx(_a,{className:"text-purple-600",size:24}),p.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Database Schema Settings"})]}),p.jsx("div",{className:"space-y-6",children:t.map(S=>p.jsxs("div",{className:"border rounded-md bg-gray-50 overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-100 border-b",children:[p.jsxs("div",{className:"flex items-center gap-2 font-medium text-gray-700",children:[p.jsx(_a,{size:18}),p.jsx("span",{children:S.name}),p.jsxs("span",{className:"text-xs text-gray-400 font-normal",children:["(",S.id,")"]})]}),p.jsx("button",{onClick:()=>h(S.id,S.name),className:"p-1 rounded text-red-500 hover:bg-red-50 hover:text-red-700 transition-colors",title:"Delete Table",children:p.jsx(ft,{size:18})})]}),p.jsxs("div",{className:"p-3 space-y-2",children:[p.jsxs("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 flex items-center gap-1",children:[p.jsx(gC,{size:12})," Columns"]}),S.columns.length===0&&p.jsx("div",{className:"text-sm text-gray-400 italic pl-2",children:"No columns defined"}),p.jsx("div",{className:"space-y-2",children:S.columns.map(_=>p.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border text-sm",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"font-medium text-gray-700",children:_.name}),p.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded border",children:_.type})]}),p.jsx("button",{onClick:()=>b(S.id,_.name),className:"p-1 rounded text-gray-400 hover:text-red-600 transition-colors",title:"Delete Column",children:p.jsx(ft,{size:16})})]},_.name))}),p.jsxs("div",{className:"mt-3 flex gap-2 items-center bg-white p-2 rounded border border-dashed border-gray-300",children:[p.jsx("input",{type:"text",value:f[S.id]?.name||"",onChange:_=>v(S.id,"name",_.target.value),placeholder:"Column name",className:"flex-1 border rounded px-2 py-1 text-sm focus:outline-none focus:border-purple-400",onKeyDown:_=>_.key==="Enter"&&x(S.id)}),p.jsxs("select",{value:f[S.id]?.type||"string",onChange:_=>v(S.id,"type",_.target.value),className:"border rounded px-2 py-1 text-sm focus:outline-none focus:border-purple-400 bg-white",children:[p.jsx("option",{value:"string",children:"String"}),p.jsx("option",{value:"number",children:"Number"}),p.jsx("option",{value:"boolean",children:"Boolean"}),p.jsx("option",{value:"date",children:"Date"}),p.jsx("option",{value:"json",children:"JSON"})]}),p.jsxs("button",{onClick:()=>x(S.id),disabled:!f[S.id]?.name,className:"px-3 py-1 bg-purple-50 border border-purple-200 text-purple-700 rounded text-sm hover:bg-purple-100 flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx(en,{size:16})," Add"]})]})]})]},S.id))}),p.jsxs("div",{className:"pt-4 border-t",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Create New Table"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:u,onChange:S=>c(S.target.value),placeholder:"e.g., customers",className:"flex-1 border rounded px-3 py-2 text-sm focus:outline-none focus:border-purple-400",onKeyDown:S=>S.key==="Enter"&&m()}),p.jsxs("button",{onClick:m,disabled:!u.trim(),className:"px-4 py-2 bg-purple-600 text-white rounded text-sm font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[p.jsx(en,{size:18})," Add Table"]})]})]})]})},_k=["static","randomInt","randomFloat","sin","cos","sequence","uuid","list"],Sk=({schema:t,onChange:a})=>{const i=()=>{const c={id:`col_${Date.now()}`,name:`column${t.length+1}`,type:"static",params:{value:""}};a([...t,c])},s=c=>{a(t.filter(f=>f.id!==c))},o=(c,f)=>{a(t.map(g=>g.id===c?{...g,...f}:g))},u=(c,f,g)=>{const m=t.find(h=>h.id===c);m&&o(c,{params:{...m.params,[f]:g}})};return p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-semibold text-gray-500 border-b pb-1 mb-2",children:[p.jsx("div",{className:"col-span-3",children:"Column Name"}),p.jsx("div",{className:"col-span-3",children:"Type"}),p.jsx("div",{className:"col-span-5",children:"Parameters"}),p.jsx("div",{className:"col-span-1"})]}),t.map(c=>p.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[p.jsx("div",{className:"col-span-3",children:p.jsx("input",{type:"text",value:c.name,onChange:f=>o(c.id,{name:f.target.value}),className:"w-full border rounded p-1 text-sm",placeholder:"Name"})}),p.jsx("div",{className:"col-span-3",children:p.jsx("select",{value:c.type,onChange:f=>o(c.id,{type:f.target.value,params:{}}),className:"w-full border rounded p-1 text-sm bg-white",children:_k.map(f=>p.jsx("option",{value:f,children:f},f))})}),p.jsx("div",{className:"col-span-5",children:p.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[c.type==="static"&&p.jsx("input",{type:"text",placeholder:"Value (Template supported)",className:"col-span-2 border rounded p-1 text-sm",value:c.params.value||"",onChange:f=>u(c.id,"value",f.target.value)}),c.type==="randomInt"&&p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"number",placeholder:"Min",className:"border rounded p-1 text-sm",value:c.params.min??0,onChange:f=>u(c.id,"min",f.target.value)}),p.jsx("input",{type:"number",placeholder:"Max",className:"border rounded p-1 text-sm",value:c.params.max??100,onChange:f=>u(c.id,"max",f.target.value)})]}),c.type==="randomFloat"&&p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"number",placeholder:"Min",className:"border rounded p-1 text-sm",value:c.params.min??0,onChange:f=>u(c.id,"min",f.target.value)}),p.jsx("input",{type:"number",placeholder:"Max",className:"border rounded p-1 text-sm",value:c.params.max??1,onChange:f=>u(c.id,"max",f.target.value)}),p.jsx("input",{type:"number",placeholder:"Precision",className:"col-span-2 border rounded p-1 text-sm",value:c.params.precision??2,onChange:f=>u(c.id,"precision",f.target.value)})]}),(c.type==="sin"||c.type==="cos")&&p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"number",placeholder:"Period (ms)",className:"border rounded p-1 text-sm",value:c.params.period??1e4,onChange:f=>u(c.id,"period",f.target.value)}),p.jsx("input",{type:"number",placeholder:"Amplitude",className:"border rounded p-1 text-sm",value:c.params.amplitude??1,onChange:f=>u(c.id,"amplitude",f.target.value)}),p.jsx("input",{type:"number",placeholder:"Offset",className:"col-span-2 border rounded p-1 text-sm",value:c.params.offset??0,onChange:f=>u(c.id,"offset",f.target.value)})]}),c.type==="sequence"&&p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"number",placeholder:"Start",className:"border rounded p-1 text-sm",value:c.params.start??1,onChange:f=>u(c.id,"start",f.target.value)}),p.jsx("input",{type:"number",placeholder:"Step",className:"border rounded p-1 text-sm",value:c.params.step??1,onChange:f=>u(c.id,"step",f.target.value)})]}),c.type==="list"&&p.jsx("input",{type:"text",placeholder:"Values (comma separated)",className:"col-span-2 border rounded p-1 text-sm",value:c.params.values||"",onChange:f=>u(c.id,"values",f.target.value)}),c.type==="uuid"&&p.jsx("span",{className:"col-span-2 text-xs text-gray-400 italic flex items-center",children:"Generates unique ID"})]})}),p.jsx("div",{className:"col-span-1 flex justify-end",children:p.jsx("button",{onClick:()=>s(c.id),className:"text-gray-400 hover:text-red-500",children:p.jsx(ft,{size:16})})})]},c.id)),p.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 py-1 border border-dashed border-gray-300 rounded-md text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors text-xs",children:[p.jsx(en,{size:14})," Add Column"]})]})},wk=()=>{const{dataSource:t,setDataSource:a,hosts:i}=mn(),s=(h,v,x)=>{a({...t,definitions:t.definitions.map(b=>b.id===h?{...b,[v]:x}:b)})},o=(h,v)=>{const x=i.find(S=>S.name===v),b=x&&x.directories.length>0?x.directories[0]:"";a({...t,definitions:t.definitions.map(S=>S.id===h?{...S,host:v,path:b}:S)})},u=()=>{const h=i.length>0?i[0]:{name:"localhost",directories:[]},v=h.directories.length>0?h.directories[0]:"/source",x={id:`ds_def_${Date.now()}`,name:`Location ${t.definitions.length+1}`,host:h.name,path:v};a({...t,definitions:[...t.definitions,x]})},c=h=>{a({...t,definitions:t.definitions.filter(v=>v.id!==h)})},f=(h,v,x)=>{a({...t,jobs:t.jobs.map(b=>b.id===h?{...b,[v]:x}:b)})},g=()=>{const h=t.definitions.length>0?t.definitions[0].id:"",v={id:`gen_job_${Date.now()}`,name:`Generator ${t.jobs.length+1}`,dataSourceId:h,fileNamePattern:"${host}_data_${timestamp}.csv",fileContent:"sample,data,123",mode:"schema",rowCount:1,schema:[{id:`c_${Date.now()}_1`,name:"id",type:"sequence",params:{start:1,step:1}},{id:`c_${Date.now()}_2`,name:"value",type:"randomInt",params:{min:0,max:100}}],executionInterval:1e3,enabled:!0};a({...t,jobs:[...t.jobs,v]})},m=h=>{a({...t,jobs:t.jobs.filter(v=>v.id!==h)})};return p.jsxs("div",{className:"space-y-6 p-4 border rounded bg-white shadow-sm",children:[p.jsxs("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 flex items-center gap-2",children:[p.jsx(S8,{className:"w-5 h-5"})," Data Source Locations"]}),p.jsx("p",{className:"text-sm text-gray-500",children:"Define the physical locations (Host & Path) where files will be generated or monitored."}),p.jsxs("div",{className:"space-y-4",children:[t.definitions.map(h=>{const v=HE(h),x=S=>v.some(_=>_.field===S),b=S=>v.find(_=>_.field===S)?.message;return p.jsxs("div",{className:"border p-4 rounded-md bg-gray-50 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx("button",{onClick:()=>c(h.id),className:"text-red-500 hover:text-red-700",title:"Delete Location",children:p.jsx(ft,{size:18})})}),p.jsxs("div",{className:"grid gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Location Name"}),p.jsx("input",{type:"text",value:h.name,onChange:S=>s(h.id,"name",S.target.value),className:`w-full border rounded p-1 text-sm ${x("name")?"border-red-500 bg-red-50":""}`,title:b("name")})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Host"}),p.jsx("select",{value:h.host,onChange:S=>o(h.id,S.target.value),className:`w-full border rounded p-1 text-sm bg-white ${x("host")?"border-red-500 bg-red-50":""}`,title:b("host"),children:i.map(S=>p.jsx("option",{value:S.name,children:S.name},S.name))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Path"}),p.jsx("select",{value:h.path,onChange:S=>s(h.id,"path",S.target.value),className:`w-full border rounded p-1 text-sm bg-white ${x("path")?"border-red-500 bg-red-50":""}`,title:b("path"),children:i.find(S=>S.name===h.host)?.directories.map(S=>p.jsx("option",{value:S,children:S},S))||p.jsx("option",{value:"",children:"Select Host First"})})]})]})]})]},h.id)}),p.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[p.jsx(en,{size:20})," Add Location"]})]}),p.jsxs("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 flex items-center gap-2 mt-8",children:[p.jsx(pC,{className:"w-5 h-5"})," File Generation Jobs"]}),p.jsx("p",{className:"text-sm text-gray-500",children:"Configure rules for generating files into the Data Source Locations defined above."}),p.jsxs("div",{className:"space-y-4",children:[t.jobs.map(h=>{const v=LE(h,t.definitions),x=_=>v.some(N=>N.field===_),b=_=>v.find(N=>N.field===_)?.message,S=h.mode||"template";return p.jsxs("div",{className:"border p-4 rounded-md bg-gray-50 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx("button",{onClick:()=>m(h.id),className:"text-red-500 hover:text-red-700",title:"Delete Job",children:p.jsx(ft,{size:18})})}),p.jsxs("div",{className:"grid gap-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Job Name"}),p.jsx("input",{type:"text",value:h.name,onChange:_=>f(h.id,"name",_.target.value),className:`w-full border rounded p-1 text-sm ${x("name")?"border-red-500 bg-red-50":""}`,title:b("name")})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Target Location"}),p.jsxs("select",{value:h.dataSourceId,onChange:_=>f(h.id,"dataSourceId",_.target.value),className:`w-full border rounded p-1 text-sm bg-white ${x("dataSourceId")?"border-red-500 bg-red-50":""}`,title:b("dataSourceId"),children:[p.jsx("option",{value:"",children:"Select Target..."}),t.definitions.map(_=>p.jsxs("option",{value:_.id,children:[_.name," (",_.host,":",_.path,")"]},_.id))]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"File Name Pattern"}),p.jsx("input",{type:"text",value:h.fileNamePattern,onChange:_=>f(h.id,"fileNamePattern",_.target.value),className:`w-full border rounded p-1 text-sm ${x("fileNamePattern")?"border-red-500 bg-red-50":""}`,title:b("fileNamePattern"),placeholder:"${host}_${timestamp}.csv"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Interval (ms)"}),p.jsx("input",{type:"number",value:h.executionInterval,onChange:_=>f(h.id,"executionInterval",parseInt(_.target.value)||0),className:`w-full border rounded p-1 text-sm ${x("executionInterval")?"border-red-500 bg-red-50":""}`,title:b("executionInterval")})]})]}),p.jsxs("div",{className:"flex items-center gap-4 border-t pt-3 mt-1",children:[p.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Generation Mode:"}),p.jsxs("div",{className:"flex bg-gray-100 rounded p-1",children:[p.jsxs("button",{onClick:()=>f(h.id,"mode","template"),className:`px-3 py-1 rounded text-xs flex items-center gap-1 ${S==="template"?"bg-white shadow text-blue-600 font-medium":"text-gray-500 hover:text-gray-700"}`,children:[p.jsx(lk,{size:14})," Template Text"]}),p.jsxs("button",{onClick:()=>f(h.id,"mode","schema"),className:`px-3 py-1 rounded text-xs flex items-center gap-1 ${S==="schema"?"bg-white shadow text-blue-600 font-medium":"text-gray-500 hover:text-gray-700"}`,children:[p.jsx(xC,{size:14})," Schema List"]})]})]}),S==="template"?p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"File Content Template"}),p.jsx("textarea",{value:h.fileContent,onChange:_=>f(h.id,"fileContent",_.target.value),className:"w-full border rounded p-1 text-sm font-mono h-32",placeholder:`col1,col2,col3
data1,data2,data3`})]}):p.jsxs("div",{children:[p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Rows per Execution"}),p.jsx("input",{type:"number",value:h.rowCount||1,onChange:_=>f(h.id,"rowCount",parseInt(_.target.value)||1),className:`w-32 border rounded p-1 text-sm ${x("rowCount")?"border-red-500":""}`})]}),p.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Column Definitions"}),x("schema")&&p.jsx("p",{className:"text-xs text-red-500 mb-1",children:b("schema")}),p.jsx("div",{className:"border rounded p-2 bg-gray-50",children:p.jsx(Sk,{schema:h.schema||[],onChange:_=>f(h.id,"schema",_),errors:v,jobId:h.id})})]})]})]},h.id)}),p.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center gap-2 py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[p.jsx(en,{size:20})," Add Generation Job"]})]})]})},Nk=()=>{const{collection:t,setCollection:a,hosts:i,topics:s}=mn(),o=(h,v,x)=>{const b=t.jobs.map(S=>S.id===h?{...S,[v]:x}:S);a({...t,jobs:b})},u=(h,v,x,b)=>{const S=i.find(E=>E.name===b),_=S&&S.directories.length>0?S.directories[0]:"",N=t.jobs.map(E=>E.id===h?{...E,[v]:b,[x]:_}:E);a({...t,jobs:N})},c=(h,v)=>{const x=t.jobs.map(b=>{if(b.id!==h)return b;if(v==="host"){const S=i[0];return{...b,targetType:v,targetHost:b.targetHost||S?.name||"",targetPath:b.targetPath||S?.directories[0]||""}}else return{...b,targetType:v,targetTopicId:b.targetTopicId||(s.length>0?s[0].id:"")}});a({...t,jobs:x})},f=()=>{const h=i.length>0?i[0]:{name:"localhost",directories:[]},v=h.directories.length>0?h.directories[0]:"/source",x=i.length>1?i[1]:h,b=x.directories.length>0?x.directories[0]:"/incoming",S={id:`job_${Date.now()}`,name:`Job ${t.jobs.length+1}`,sourceHost:h.name,sourcePath:v,filterRegex:".*",targetType:"host",targetHost:x.name,targetPath:b,bandwidth:100,renamePattern:"${fileName}",executionInterval:1e3,enabled:!0};a({...t,jobs:[...t.jobs,S]})},g=h=>{a({...t,jobs:t.jobs.filter(v=>v.id!==h)})},m=h=>{a({...t,processingTime:parseInt(h.target.value)||0})};return p.jsxs("div",{className:"space-y-4 p-4 border rounded bg-white shadow-sm",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Collection Settings"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Base Processing Time (Latency) (ms)"}),p.jsx("input",{type:"number",value:t.processingTime,onChange:m,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm border p-2 ${t.processingTime<0?"border-red-500 bg-red-50":""}`,title:t.processingTime<0?"Cannot be negative":""})]}),p.jsx("div",{className:"space-y-4",children:t.jobs.map(h=>{const v=BE(h),x=S=>v.some(_=>_.field===S),b=S=>v.find(_=>_.field===S)?.message;return p.jsxs("div",{className:"border p-4 rounded-md bg-gray-50 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx("button",{onClick:()=>g(h.id),className:"text-red-500 hover:text-red-700",title:"Delete Job",children:p.jsx(ft,{size:18})})}),p.jsxs("div",{className:"grid gap-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Job Name"}),p.jsx("input",{type:"text",value:h.name,onChange:S=>o(h.id,"name",S.target.value),className:`w-full border rounded p-1 text-sm ${x("name")?"border-red-500 bg-red-50":""}`,title:b("name")})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Interval (ms)"}),p.jsx("input",{type:"number",value:h.executionInterval,onChange:S=>o(h.id,"executionInterval",parseInt(S.target.value)||0),className:`w-full border rounded p-1 text-sm ${x("executionInterval")?"border-red-500 bg-red-50":""}`,title:b("executionInterval")})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Source Host"}),p.jsx("select",{value:h.sourceHost,onChange:S=>u(h.id,"sourceHost","sourcePath",S.target.value),className:`w-full border rounded p-1 text-sm bg-white ${x("sourceHost")?"border-red-500 bg-red-50":""}`,title:b("sourceHost"),children:i.map(S=>p.jsx("option",{value:S.name,children:S.name},S.name))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Source Path"}),p.jsx("select",{value:h.sourcePath,onChange:S=>o(h.id,"sourcePath",S.target.value),className:`w-full border rounded p-1 text-sm bg-white ${x("sourcePath")?"border-red-500 bg-red-50":""}`,title:b("sourcePath"),children:i.find(S=>S.name===h.sourceHost)?.directories.map(S=>p.jsx("option",{value:S,children:S},S))||p.jsx("option",{value:"",children:"Select Host First"})})]})]}),p.jsxs("div",{className:"border-t pt-2 mt-2 bg-gray-100 p-2 rounded",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2",children:"Target Destination"}),p.jsxs("div",{className:"flex gap-4 mb-2",children:[p.jsxs("label",{className:"flex items-center text-xs cursor-pointer",children:[p.jsx("input",{type:"radio",checked:h.targetType!=="topic",onChange:()=>c(h.id,"host"),className:"mr-1"})," Host / Directory"]}),p.jsxs("label",{className:"flex items-center text-xs cursor-pointer",children:[p.jsx("input",{type:"radio",checked:h.targetType==="topic",onChange:()=>c(h.id,"topic"),className:"mr-1"})," Topic (CIH)"]})]}),h.targetType==="topic"?p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Target Topic"}),p.jsxs("select",{value:h.targetTopicId||"",onChange:S=>o(h.id,"targetTopicId",S.target.value),className:`w-full border rounded p-1 text-sm bg-white ${x("targetTopicId")?"border-red-500 bg-red-50":""}`,title:b("targetTopicId"),children:[p.jsx("option",{value:"",children:"Select Topic"}),s.map(S=>p.jsx("option",{value:S.id,children:S.name},S.id))]})]}):p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Target Host"}),p.jsx("select",{value:h.targetHost,onChange:S=>u(h.id,"targetHost","targetPath",S.target.value),className:`w-full border rounded p-1 text-sm bg-white ${x("targetHost")?"border-red-500 bg-red-50":""}`,title:b("targetHost"),children:i.map(S=>p.jsx("option",{value:S.name,children:S.name},S.name))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Target Path"}),p.jsx("select",{value:h.targetPath,onChange:S=>o(h.id,"targetPath",S.target.value),className:`w-full border rounded p-1 text-sm bg-white ${x("targetPath")?"border-red-500 bg-red-50":""}`,title:b("targetPath"),children:i.find(S=>S.name===h.targetHost)?.directories.map(S=>p.jsx("option",{value:S,children:S},S))||p.jsx("option",{value:"",children:"Select Host First"})})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Bandwidth (chars/sec)"}),p.jsx("input",{type:"number",value:h.bandwidth,onChange:S=>o(h.id,"bandwidth",parseInt(S.target.value)||0),className:`w-full border rounded p-1 text-sm ${x("bandwidth")?"border-red-500 bg-red-50":""}`,title:b("bandwidth")})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Filter Regex"}),p.jsx("input",{type:"text",value:h.filterRegex,onChange:S=>o(h.id,"filterRegex",S.target.value),className:`w-full border rounded p-1 text-sm ${x("filterRegex")?"border-red-500 bg-red-50":""}`,title:b("filterRegex"),placeholder:".*"})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-xs font-medium text-gray-500",children:["Rename Pattern (Vars: ","${fileName}",", ","${collectionHost}",", ","${timestamp}",")"]}),p.jsx("input",{type:"text",value:h.renamePattern||"${fileName}",onChange:S=>o(h.id,"renamePattern",S.target.value),className:"w-full border rounded p-1 text-sm"})]})]})]},h.id)})}),p.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[p.jsx(en,{size:20})," Add Job"]})]})},Ek=()=>{const{topics:t,addTopic:a,removeTopic:i,updateTopic:s}=mn(),o=(c,f,g)=>{const m=t.find(x=>x.id===c);if(!m)return;const h=f==="name"?g:m.name,v=f==="retentionPeriod"?g:m.retentionPeriod;s(c,h,v)},u=()=>{a(`New Topic ${t.length+1}`,6e4)};return p.jsxs("div",{className:"space-y-4 p-4 border rounded bg-white shadow-sm h-full",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Topic Management"}),p.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Define topics for Pub/Sub pattern. Data in topics is retained for the specified period."}),p.jsx("div",{className:"space-y-4",children:t.map(c=>{const f=$E(c),g=h=>f.some(v=>v.field===h),m=h=>f.find(v=>v.field===h)?.message;return p.jsxs("div",{className:"border p-4 rounded-md bg-gray-50 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx("button",{onClick:()=>i(c.id),className:"text-red-500 hover:text-red-700",title:"Delete Topic",children:p.jsx(ft,{size:18})})}),p.jsxs("div",{className:"grid gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Topic Name"}),p.jsx("input",{type:"text",value:c.name,onChange:h=>o(c.id,"name",h.target.value),className:`w-full border rounded p-1 text-sm ${g("name")?"border-red-500 bg-red-50":""}`,title:m("name")})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Retention Period (ms)"}),p.jsx("input",{type:"number",value:c.retentionPeriod,onChange:h=>o(c.id,"retentionPeriod",parseInt(h.target.value)||0),className:`w-full border rounded p-1 text-sm ${g("retentionPeriod")?"border-red-500 bg-red-50":""}`,title:m("retentionPeriod")}),p.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[(c.retentionPeriod/1e3).toFixed(1)," seconds"]})]})]})]},c.id)})}),p.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[p.jsx(en,{size:20})," Add Topic"]})]})},Tk=()=>{const{delivery:t,setDelivery:a,hosts:i,topics:s}=mn(),o=(m,h,v)=>{const x=t.jobs.map(b=>b.id===m?{...b,[h]:v}:b);a({...t,jobs:x})},u=(m,h,v,x)=>{const b=i.find(N=>N.name===x),S=b&&b.directories.length>0?b.directories[0]:"",_=t.jobs.map(N=>N.id===m?{...N,[h]:x,[v]:S}:N);a({...t,jobs:_})},c=(m,h)=>{const v=t.jobs.map(x=>{if(x.id!==m)return x;if(h==="host"){const b=i[0];return{...x,sourceType:h,sourceHost:x.sourceHost||b?.name||"",sourcePath:x.sourcePath||b?.directories[0]||""}}else return{...x,sourceType:h,sourceTopicId:x.sourceTopicId||(s.length>0?s[0].id:"")}});a({...t,jobs:v})},f=()=>{const m=i.length>0?i[0]:{name:"localhost",directories:[]},h=m.directories.length>0?m.directories[0]:"/incoming",v=i.length>0?i[0]:{name:"localhost",directories:[]},x=v.directories.length>1?v.directories[1]:v.directories[0]||"/internal",b={id:`del_job_${Date.now()}`,name:`Delivery ${t.jobs.length+1}`,sourceType:"host",sourceHost:m.name,sourcePath:h,targetHost:v.name,targetPath:x,filterRegex:".*",bandwidth:100,processingTime:1e3,executionInterval:1e3,enabled:!0};a({...t,jobs:[...t.jobs,b]})},g=m=>{a({...t,jobs:t.jobs.filter(h=>h.id!==m)})};return p.jsxs("div",{className:"space-y-4 p-4 border rounded bg-white shadow-sm",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Delivery Settings"}),p.jsx("div",{className:"space-y-4",children:t.jobs.map(m=>{const h=UE(m),v=b=>h.some(S=>S.field===b),x=b=>h.find(S=>S.field===b)?.message;return p.jsxs("div",{className:"border p-4 rounded-md bg-gray-50 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx("button",{onClick:()=>g(m.id),className:"text-red-500 hover:text-red-700",title:"Delete Job",children:p.jsx(ft,{size:18})})}),p.jsxs("div",{className:"grid gap-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Job Name"}),p.jsx("input",{type:"text",value:m.name,onChange:b=>o(m.id,"name",b.target.value),className:`w-full border rounded p-1 text-sm ${v("name")?"border-red-500 bg-red-50":""}`,title:x("name")})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Interval (ms)"}),p.jsx("input",{type:"number",value:m.executionInterval,onChange:b=>o(m.id,"executionInterval",parseInt(b.target.value)||0),className:`w-full border rounded p-1 text-sm ${v("executionInterval")?"border-red-500 bg-red-50":""}`,title:x("executionInterval")})]})]}),p.jsxs("div",{className:"border-b pb-2 mb-2 bg-gray-100 p-2 rounded",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2",children:"Source Origin"}),p.jsxs("div",{className:"flex gap-4 mb-2",children:[p.jsxs("label",{className:"flex items-center text-xs cursor-pointer",children:[p.jsx("input",{type:"radio",checked:m.sourceType!=="topic",onChange:()=>c(m.id,"host"),className:"mr-1"})," Host / Directory"]}),p.jsxs("label",{className:"flex items-center text-xs cursor-pointer",children:[p.jsx("input",{type:"radio",checked:m.sourceType==="topic",onChange:()=>c(m.id,"topic"),className:"mr-1"})," Topic (CIH)"]})]}),m.sourceType==="topic"?p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Source Topic"}),p.jsxs("select",{value:m.sourceTopicId||"",onChange:b=>o(m.id,"sourceTopicId",b.target.value),className:`w-full border rounded p-1 text-sm bg-white ${v("sourceTopicId")?"border-red-500 bg-red-50":""}`,title:x("sourceTopicId"),children:[p.jsx("option",{value:"",children:"Select Topic"}),s.map(b=>p.jsx("option",{value:b.id,children:b.name},b.id))]})]}):p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Source Host"}),p.jsx("select",{value:m.sourceHost,onChange:b=>u(m.id,"sourceHost","sourcePath",b.target.value),className:`w-full border rounded p-1 text-sm bg-white ${v("sourceHost")?"border-red-500 bg-red-50":""}`,title:x("sourceHost"),children:i.map(b=>p.jsx("option",{value:b.name,children:b.name},b.name))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Source Path"}),p.jsx("select",{value:m.sourcePath,onChange:b=>o(m.id,"sourcePath",b.target.value),className:`w-full border rounded p-1 text-sm bg-white ${v("sourcePath")?"border-red-500 bg-red-50":""}`,title:x("sourcePath"),children:i.find(b=>b.name===m.sourceHost)?.directories.map(b=>p.jsx("option",{value:b,children:b},b))||p.jsx("option",{value:"",children:"Select Host First"})})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Target Host"}),p.jsx("select",{value:m.targetHost,onChange:b=>u(m.id,"targetHost","targetPath",b.target.value),className:`w-full border rounded p-1 text-sm bg-white ${v("targetHost")?"border-red-500 bg-red-50":""}`,title:x("targetHost"),children:i.map(b=>p.jsx("option",{value:b.name,children:b.name},b.name))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Target Path"}),p.jsx("select",{value:m.targetPath,onChange:b=>o(m.id,"targetPath",b.target.value),className:`w-full border rounded p-1 text-sm bg-white ${v("targetPath")?"border-red-500 bg-red-50":""}`,title:x("targetPath"),children:i.find(b=>b.name===m.targetHost)?.directories.map(b=>p.jsx("option",{value:b,children:b},b))||p.jsx("option",{value:"",children:"Select Host First"})})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Bandwidth (chars/sec)"}),p.jsx("input",{type:"number",value:m.bandwidth,onChange:b=>o(m.id,"bandwidth",parseInt(b.target.value)||0),className:`w-full border rounded p-1 text-sm ${v("bandwidth")?"border-red-500 bg-red-50":""}`,title:x("bandwidth")})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Latency (ms)"}),p.jsx("input",{type:"number",value:m.processingTime,onChange:b=>o(m.id,"processingTime",parseInt(b.target.value)||0),className:`w-full border rounded p-1 text-sm ${v("processingTime")?"border-red-500 bg-red-50":""}`,title:x("processingTime")})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Filter Regex"}),p.jsx("input",{type:"text",value:m.filterRegex,onChange:b=>o(m.id,"filterRegex",b.target.value),className:`w-full border rounded p-1 text-sm ${v("filterRegex")?"border-red-500 bg-red-50":""}`,title:x("filterRegex"),placeholder:".*"})]})]})]},m.id)})}),p.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[p.jsx(en,{size:20})," Add Job"]})]})},Ck=()=>{const{connections:t,addConnection:a,removeConnection:i,updateConnection:s,hosts:o}=mn(),u=()=>{a({name:"New Connection",type:"file",host:o.length>0?o[0].name:"localhost",path:o.length>0&&o[0].directories.length>0?o[0].directories[0]:"/"})},c=(m,h)=>{s(m,h)},f=(m,h)=>{if(h==="database")s(m,{type:h,host:void 0,path:void 0,tableName:"new_table"});else{const v=o.length>0?o[0]:{name:"localhost",directories:["/"]};s(m,{type:h,host:v.name,path:v.directories[0],tableName:void 0,databaseName:void 0})}},g=(m,h)=>{const v=o.find(b=>b.name===h),x=v&&v.directories.length>0?v.directories[0]:"";s(m,{host:h,path:x})};return p.jsxs("div",{className:"space-y-4 p-4 border rounded bg-white shadow-sm",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2 flex items-center gap-2",children:[p.jsx(Fo,{className:"w-5 h-5"})," Connections"]}),p.jsx("p",{className:"text-xs text-gray-500",children:"Define connections to file systems or databases."}),p.jsx("div",{className:"space-y-4",children:t.map(m=>p.jsxs("div",{className:"border p-4 rounded-md bg-gray-50 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx("button",{onClick:()=>i(m.id),className:"text-red-500 hover:text-red-700",title:"Delete Connection",children:p.jsx(ft,{size:18})})}),p.jsxs("div",{className:"grid gap-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Connection Name"}),p.jsx("input",{type:"text",value:m.name,onChange:h=>c(m.id,{name:h.target.value}),className:"w-full border rounded p-1 text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Type"}),p.jsxs("div",{className:"flex gap-2 mt-1",children:[p.jsxs("button",{onClick:()=>f(m.id,"file"),className:`flex items-center gap-1 px-3 py-1 rounded text-xs border ${m.type==="file"?"bg-blue-100 border-blue-300 text-blue-700":"bg-white text-gray-600"}`,children:[p.jsx(pC,{size:14})," File"]}),p.jsxs("button",{onClick:()=>f(m.id,"database"),className:`flex items-center gap-1 px-3 py-1 rounded text-xs border ${m.type==="database"?"bg-purple-100 border-purple-300 text-purple-700":"bg-white text-gray-600"}`,children:[p.jsx(_a,{size:14})," Database"]})]})]})]}),m.type==="file"&&p.jsxs("div",{className:"grid grid-cols-2 gap-3 bg-blue-50 p-2 rounded border border-blue-100",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Host"}),p.jsx("select",{value:m.host||"",onChange:h=>g(m.id,h.target.value),className:"w-full border rounded p-1 text-sm bg-white",children:o.map(h=>p.jsx("option",{value:h.name,children:h.name},h.name))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Directory"}),p.jsx("select",{value:m.path||"",onChange:h=>c(m.id,{path:h.target.value}),className:"w-full border rounded p-1 text-sm bg-white",children:o.find(h=>h.name===m.host)?.directories.map(h=>p.jsx("option",{value:h,children:h},h))||p.jsx("option",{value:"",children:"Select Host First"})})]})]}),m.type==="database"&&p.jsx("div",{className:"grid grid-cols-2 gap-3 bg-purple-50 p-2 rounded border border-purple-100",children:p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Table Name (Default)"}),p.jsx("input",{type:"text",value:m.tableName||"",onChange:h=>c(m.id,{tableName:h.target.value}),className:"w-full border rounded p-1 text-sm",placeholder:"e.g. raw_data"})]})})]})]},m.id))}),p.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[p.jsx(en,{size:20})," Add Connection"]})]})},jk=[{type:"source",label:"Source",short:"SRC",bg:"bg-green-100",border:"border-green-500",icon:null},{type:"filter",label:"Filter",short:"FLT",bg:"bg-yellow-100",border:"border-yellow-500",icon:null},{type:"expression",label:"Expression",short:"EXP",bg:"bg-purple-100",border:"border-purple-500",icon:null},{type:"aggregator",label:"Aggregator",short:"AGG",bg:"bg-orange-100",border:"border-orange-500",icon:null},{type:"validator",label:"Validator",short:null,bg:"bg-pink-100",border:"border-pink-500",icon:rk},{type:"joiner",label:"Joiner",short:"JOIN",bg:"bg-blue-100",border:"border-blue-500",icon:null},{type:"lookup",label:"Lookup",short:null,bg:"bg-cyan-100",border:"border-cyan-500",icon:J8},{type:"router",label:"Router",short:null,bg:"bg-lime-100",border:"border-lime-500",icon:C8},{type:"sorter",label:"Sorter",short:null,bg:"bg-amber-100",border:"border-amber-500",icon:r8},{type:"union",label:"Union",short:null,bg:"bg-indigo-100",border:"border-indigo-500",icon:H8},{type:"normalizer",label:"Normalizer",short:null,bg:"bg-violet-100",border:"border-violet-500",icon:Y8},{type:"rank",label:"Rank",short:null,bg:"bg-rose-100",border:"border-rose-500",icon:i8},{type:"sequence",label:"Sequence",short:null,bg:"bg-sky-100",border:"border-sky-500",icon:R8},{type:"updateStrategy",label:"Update Strategy",short:null,bg:"bg-slate-100",border:"border-slate-500",icon:b8},{type:"cleansing",label:"Cleansing",short:null,bg:"bg-teal-100",border:"border-teal-500",icon:tk},{type:"deduplicator",label:"Deduplicator",short:null,bg:"bg-orange-100",border:"border-orange-500",icon:m8},{type:"pivot",label:"Pivot",short:null,bg:"bg-purple-100",border:"border-purple-500",icon:ik},{type:"unpivot",label:"Unpivot",short:null,bg:"bg-fuchsia-100",border:"border-fuchsia-500",icon:gC},{type:"sql",label:"SQL",short:null,bg:"bg-slate-100",border:"border-slate-500",icon:_a},{type:"target",label:"Target",short:"TGT",bg:"bg-red-100",border:"border-red-500",icon:null}],Ak=({data:t})=>{const a=t.isSelected?{border:"2px solid #2563eb"}:{};return p.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border border-gray-200 text-xs w-32 flex flex-col items-center justify-center",style:a,children:[p.jsx(kn,{type:"target",position:_e.Left,className:"w-2 h-2"}),p.jsx("div",{className:"font-bold text-center",children:t.label}),p.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:t.type}),p.jsx(kn,{type:"source",position:_e.Right,className:"w-2 h-2"})]})},Mk={designer:Ak},Rk=(t,a)=>{const i=new Vr.graphlib.Graph;i.setDefaultEdgeLabel(()=>({}));const s=150,o=50;return i.setGraph({rankdir:"LR"}),t.forEach(u=>{i.setNode(u.id,{width:s,height:o})}),a.forEach(u=>{i.setEdge(u.source,u.target)}),Vr.layout(i),t.forEach(u=>{const c=i.node(u.id);u.targetPosition=_e.Left,u.sourcePosition=_e.Right,u.position={x:c.x-s/2,y:c.y-o/2}}),{nodes:t,edges:a}},qk=()=>{const{mappings:t,addMapping:a,updateMapping:i,removeMapping:s,connections:o}=mn(),[u,c]=B.useState(null),[f,g]=B.useState(null),[m,h]=B.useState(null),[v,x]=B.useState(!1),b=()=>{const A={id:`map_${Date.now()}`,name:"New Mapping",transformations:[],links:[]};a(A),c(A),g(null)},S=A=>{c({...A}),g(null)},_=()=>{u&&(i(u.id,u),c(null))},N=A=>{s(A),u?.id===A&&c(null)},E=A=>{if(!u)return;const j=`t_${Date.now()}`,R={id:j,type:A,name:`${A}_${u.transformations.length+1}`,position:{x:0,y:0},config:{}};A==="source"&&(R.config={connectionId:""}),A==="target"&&(R.config={connectionId:""}),A==="filter"&&(R.config={condition:"true"}),A==="expression"&&(R.config={fields:[]}),A==="aggregator"&&(R.config={groupBy:[],aggregates:[]}),A==="validator"&&(R.config={rules:[],errorBehavior:"skip"}),A==="joiner"&&(R.config={joinType:"inner",masterKeys:[],detailKeys:[]}),A==="lookup"&&(R.config={connectionId:"",lookupKeys:[],referenceKeys:[],returnFields:[],defaultValue:""}),A==="router"&&(R.config={routes:[],defaultGroup:"default"}),A==="sorter"&&(R.config={sortFields:[]}),A==="union"&&(R.config={}),A==="normalizer"&&(R.config={arrayField:"",outputFields:[],keepOriginalFields:!0}),A==="rank"&&(R.config={partitionBy:[],orderBy:[],rankField:"rank",rankType:"rowNumber"}),A==="sequence"&&(R.config={sequenceField:"seq",startValue:1,incrementBy:1}),A==="updateStrategy"&&(R.config={strategyField:"_strategy",defaultStrategy:"insert",conditions:[]}),A==="cleansing"&&(R.config={rules:[]}),A==="deduplicator"&&(R.config={keys:[],caseInsensitive:!1}),A==="pivot"&&(R.config={groupByFields:[],pivotField:"",valueField:""}),A==="unpivot"&&(R.config={fieldsToUnpivot:[],newHeaderFieldName:"Metric",newValueFieldName:"Value"}),A==="sql"&&(R.config={sqlQuery:"",mode:"query"});let G=[...u.links];f&&G.push({id:`l_${Date.now()}`,sourceId:f,targetId:j}),c({...u,transformations:[...u.transformations,R],links:G}),g(j)},C=A=>{u&&(c({...u,transformations:u.transformations.filter(j=>j.id!==A),links:u.links.filter(j=>j.sourceId!==A&&j.targetId!==A)}),f===A&&g(null))},T=(A,j)=>{u&&c({...u,transformations:u.transformations.map(R=>R.id===A?{...R,config:{...R.config,...j}}:R)})},M=(A,j)=>{g(j.id)},O=B.useCallback(A=>{if(!u||!A.source||!A.target||u.links.some(G=>G.sourceId===A.source&&G.targetId===A.target)||A.source===A.target)return;const R={id:`l_${Date.now()}`,sourceId:A.source,targetId:A.target};c(G=>G?{...G,links:[...G.links,R]}:null)},[u]),[k,H,$]=u3([]),[U,Y,Z]=c3([]),[K,ae]=B.useState(null),L=u?.transformations.map(A=>A.id).join(",")||"",ee=u?.transformations.map(A=>A.name).join(",")||"",z=u?.links.map(A=>A.id).join(",")||"";B.useEffect(()=>{if(!u){H([]),Y([]);return}const A=u.transformations.map(G=>({id:G.id,type:"designer",position:G.position||{x:0,y:0},data:{label:G.name,type:G.type,isSelected:f===G.id},draggable:!0})),j=u.links.map(G=>({id:G.id,source:G.sourceId,target:G.targetId,type:"smoothstep",markerEnd:{type:Ls.ArrowClosed},style:K===G.id?{stroke:"#ef4444",strokeWidth:3}:void 0})),{nodes:R}=Rk([...A],[...j]);H(G=>{const F=new Map(G.map(re=>[re.id,re]));return R.map(re=>{const te=F.get(re.id);return te?{...re,position:te.position,data:{...re.data,isSelected:f===re.id}}:re})}),Y(j)},[L,ee,z,f,K,H,Y]);const P=B.useCallback(A=>{$(A),A.forEach(j=>{j.type==="position"&&j.dragging===!1&&j.position&&c(R=>R?{...R,transformations:R.transformations.map(G=>G.id===j.id?{...G,position:j.position}:G)}:null)})},[$]),le=B.useCallback(A=>{A.forEach(j=>{j.type==="remove"&&c(R=>R?{...R,links:R.links.filter(G=>G.id!==j.id)}:null)}),Z(A)},[Z]),W=B.useCallback((A,j)=>{ae(R=>R===j.id?null:j.id)},[]),X=B.useCallback(()=>{!K||!u||(c(A=>A?{...A,links:A.links.filter(j=>j.id!==K)}:null),ae(null))},[K,u]);B.useEffect(()=>{m&&k.length>0&&!v&&(x(!0),window.requestAnimationFrame(()=>{m.fitView({padding:.2,duration:500})}))},[m,k,v]),B.useEffect(()=>{x(!1)},[u?.id]);const D=B.useCallback(()=>{if(!u||k.length===0)return;const A=new Vr.graphlib.Graph;A.setDefaultEdgeLabel(()=>({})),A.setGraph({rankdir:"LR"});const j=150,R=50;k.forEach(F=>{A.setNode(F.id,{width:j,height:R})}),U.forEach(F=>{A.setEdge(F.source,F.target)}),Vr.layout(A);const G=k.map(F=>{const re=A.node(F.id);return{...F,position:{x:re.x-j/2,y:re.y-R/2}}});H(G),m&&window.requestAnimationFrame(()=>{m.fitView({padding:.2,duration:500})})},[u,k,U,H,m]),I=()=>{if(!f||!u)return p.jsx("div",{className:"p-4 text-gray-400 text-sm",children:"Select a transformation to edit properties."});const A=u.transformations.find(j=>j.id===f);return A?p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsxs("div",{className:"font-bold text-sm border-b pb-2 mb-2 flex justify-between items-center",children:[A.type.toUpperCase()," Properties",p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>C(A.id),className:"text-red-500 hover:text-red-700",children:p.jsx(ft,{size:16})}),p.jsx("button",{onClick:()=>g(null),className:"md:hidden text-gray-500 hover:text-gray-700",children:p.jsx(TE,{size:16})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Name"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm",value:A.name,onChange:j=>{const R=j.target.value;c(G=>G?{...G,transformations:G.transformations.map(F=>F.id===A.id?{...F,name:R}:F)}:null)}})]}),A.type==="source"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Connection"}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:A.config.connectionId,onChange:j=>T(A.id,{connectionId:j.target.value}),children:[p.jsx("option",{value:"",children:"Select Connection"}),o.map(j=>p.jsx("option",{value:j.id,children:j.name},j.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Filename Column (optional)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm",placeholder:"e.g. source_filename",value:A.config.filenameColumn||"",onChange:j=>T(A.id,{filenameColumn:j.target.value})}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"If set, adds the source filename as a column (like IDMC CDI)"})]})]}),A.type==="target"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Connection"}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:A.config.connectionId,onChange:j=>T(A.id,{connectionId:j.target.value}),children:[p.jsx("option",{value:"",children:"Select Connection"}),o.map(j=>p.jsx("option",{value:j.id,children:j.name},j.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Update Columns (comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. id, key_col",value:A.config.updateColumns?.join(", ")||"",onChange:j=>T(A.id,{updateColumns:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Required for Update/Delete strategies"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",id:`truncate-${A.id}`,checked:A.config.truncate||!1,onChange:j=>T(A.id,{truncate:j.target.checked})}),p.jsx("label",{htmlFor:`truncate-${A.id}`,className:"text-xs text-gray-700",children:"Truncate Table before load"})]}),p.jsxs("div",{className:"border-t pt-2 mt-2",children:[p.jsx("h4",{className:"text-xs font-semibold mb-2 text-gray-700",children:"Idempotency Settings"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Deduplication Keys (comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. id, key",value:A.config.deduplicationKeys?.join(", ")||"",onChange:j=>T(A.id,{deduplicationKeys:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Keys to check for duplicates before insert"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Duplicate Behavior"}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:A.config.duplicateBehavior||"",onChange:j=>T(A.id,{duplicateBehavior:j.target.value}),children:[p.jsx("option",{value:"",children:"None (Insert Always)"}),p.jsx("option",{value:"error",children:"Error"}),p.jsx("option",{value:"ignore",children:"Ignore (Skip)"}),p.jsx("option",{value:"update",children:"Update"})]})]})]})]})]}),A.type==="filter"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Filter Condition (JS Expression)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm",placeholder:"e.g. amount > 100",value:A.config.condition,onChange:j=>T(A.id,{condition:j.target.value})}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Available vars: field names (e.g. price)"})]}),A.type==="expression"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Output Fields"}),p.jsx("button",{onClick:()=>{const j=A.config.fields||[];T(A.id,{fields:[...j,{name:`field_${j.length+1}`,expression:""}]})},className:"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:"+ Add Field"})]}),p.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(A.config.fields||[]).map((j,R)=>p.jsxs("div",{className:"border rounded p-2 bg-gray-50 space-y-1",children:[p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("input",{className:"flex-1 border rounded p-1 text-xs",placeholder:"Output field name",value:j.name,onChange:G=>{const F=[...A.config.fields];F[R]={...F[R],name:G.target.value},T(A.id,{fields:F})}}),p.jsx("button",{onClick:()=>{const G=A.config.fields.filter((F,re)=>re!==R);T(A.id,{fields:G})},className:"text-red-500 hover:text-red-700 text-xs",children:p.jsx(ft,{size:14})})]}),p.jsx("input",{className:"w-full border rounded p-1 text-xs font-mono",placeholder:"Expression (e.g. price * quantity)",value:j.expression,onChange:G=>{const F=[...A.config.fields];F[R]={...F[R],expression:G.target.value},T(A.id,{fields:F})}})]},R)),(A.config.fields||[]).length===0&&p.jsx("p",{className:"text-xs text-gray-400 italic",children:"No fields defined. Add a field to transform data."})]}),p.jsxs("p",{className:"text-[10px] text-gray-400",children:["Expression examples: ",p.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"price * 1.1"}),",",p.jsx("code",{className:"bg-gray-100 px-1 rounded ml-1",children:'firstName + " " + lastName'})]})]}),A.type==="validator"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Error Behavior"}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:A.config.errorBehavior,onChange:j=>T(A.id,{errorBehavior:j.target.value}),children:[p.jsx("option",{value:"skip",children:"Skip Row"}),p.jsx("option",{value:"error",children:"Fail Job"})]})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Validation Rules"}),p.jsx("button",{onClick:()=>{const j=A.config.rules||[];T(A.id,{rules:[...j,{field:"",type:"string",required:!1}]})},className:"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:"+ Add Rule"})]}),p.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(A.config.rules||[]).map((j,R)=>p.jsxs("div",{className:"border rounded p-2 bg-gray-50 space-y-2",children:[p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("input",{className:"flex-1 border rounded p-1 text-xs",placeholder:"Field name",value:j.field,onChange:G=>{const F=[...A.config.rules];F[R]={...F[R],field:G.target.value},T(A.id,{rules:F})}}),p.jsx("button",{onClick:()=>{const G=A.config.rules.filter((F,re)=>re!==R);T(A.id,{rules:G})},className:"text-red-500 hover:text-red-700 text-xs",children:p.jsx(ft,{size:14})})]}),p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsxs("label",{className:"flex items-center gap-1 text-xs cursor-pointer select-none",children:[p.jsx("input",{type:"checkbox",checked:j.required,onChange:G=>{const F=[...A.config.rules];F[R]={...F[R],required:G.target.checked},T(A.id,{rules:F})}}),"Req"]}),p.jsxs("select",{className:"border rounded p-0.5 text-xs flex-grow",value:j.type,onChange:G=>{const F=[...A.config.rules];F[R]={...F[R],type:G.target.value},T(A.id,{rules:F})},children:[p.jsx("option",{value:"string",children:"String"}),p.jsx("option",{value:"number",children:"Number"}),p.jsx("option",{value:"boolean",children:"Boolean"})]})]}),p.jsx("input",{className:"w-full border rounded p-1 text-xs font-mono",placeholder:"Regex (optional)",value:j.regex||"",onChange:G=>{const F=[...A.config.rules];F[R]={...F[R],regex:G.target.value},T(A.id,{rules:F})}})]},R)),(A.config.rules||[]).length===0&&p.jsx("p",{className:"text-xs text-gray-400 italic",children:"No validation rules defined."})]})]}),A.type==="joiner"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Join Type"}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:A.config.joinType,onChange:j=>T(A.id,{joinType:j.target.value}),children:[p.jsx("option",{value:"inner",children:"Inner Join"}),p.jsx("option",{value:"left",children:"Left Outer Join"}),p.jsx("option",{value:"right",children:"Right Outer Join"}),p.jsx("option",{value:"full",children:"Full Outer Join"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Master Keys (comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. id, customer_id",value:A.config.masterKeys?.join(", ")||"",onChange:j=>T(A.id,{masterKeys:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Keys from the first (master) input"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Detail Keys (comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. id, cust_id",value:A.config.detailKeys?.join(", ")||"",onChange:j=>T(A.id,{detailKeys:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Keys from the second (detail) input"})]}),p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 text-[10px] text-blue-700",children:[p.jsx("strong",{children:"Note:"})," Joiner requires 2 source connections. The first connected source is the master, the second is the detail."]})]}),A.type==="lookup"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Lookup Connection (Database)"}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:A.config.connectionId,onChange:j=>T(A.id,{connectionId:j.target.value}),children:[p.jsx("option",{value:"",children:"Select Connection"}),o.filter(j=>j.type==="database").map(j=>p.jsx("option",{value:j.id,children:j.name},j.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Lookup Keys (comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. customer_id",value:A.config.lookupKeys?.join(", ")||"",onChange:j=>T(A.id,{lookupKeys:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Keys from input data"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Reference Keys (comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. id",value:A.config.referenceKeys?.join(", ")||"",onChange:j=>T(A.id,{referenceKeys:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Keys in lookup table"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Return Fields (comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. name, category",value:A.config.returnFields?.join(", ")||"",onChange:j=>T(A.id,{returnFields:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Default Value (if no match)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm",placeholder:"e.g. Unknown",value:A.config.defaultValue||"",onChange:j=>T(A.id,{defaultValue:j.target.value})})]})]}),A.type==="router"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Default Group"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm",placeholder:"default",value:A.config.defaultGroup||"default",onChange:j=>T(A.id,{defaultGroup:j.target.value})})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Routes"}),p.jsx("button",{onClick:()=>{const j=A.config.routes||[];T(A.id,{routes:[...j,{condition:"",groupName:`group_${j.length+1}`}]})},className:"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:"+ Add Route"})]}),p.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(A.config.routes||[]).map((j,R)=>p.jsxs("div",{className:"border rounded p-2 bg-gray-50 space-y-1",children:[p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("input",{className:"flex-1 border rounded p-1 text-xs",placeholder:"Group name",value:j.groupName,onChange:G=>{const F=[...A.config.routes];F[R]={...F[R],groupName:G.target.value},T(A.id,{routes:F})}}),p.jsx("button",{onClick:()=>{const G=A.config.routes.filter((F,re)=>re!==R);T(A.id,{routes:G})},className:"text-red-500 hover:text-red-700 text-xs",children:p.jsx(ft,{size:14})})]}),p.jsx("input",{className:"w-full border rounded p-1 text-xs font-mono",placeholder:"Condition (e.g. amount > 1000)",value:j.condition,onChange:G=>{const F=[...A.config.routes];F[R]={...F[R],condition:G.target.value},T(A.id,{routes:F})}})]},R)),(A.config.routes||[]).length===0&&p.jsx("p",{className:"text-xs text-gray-400 italic",children:"No routes defined. All rows go to default group."})]})]}),A.type==="sorter"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Sort Fields"}),p.jsx("button",{onClick:()=>{const j=A.config.sortFields||[];T(A.id,{sortFields:[...j,{field:"",direction:"asc"}]})},className:"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:"+ Add Field"})]}),p.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(A.config.sortFields||[]).map((j,R)=>p.jsxs("div",{className:"border rounded p-2 bg-gray-50 flex gap-2 items-center",children:[p.jsx("input",{className:"flex-1 border rounded p-1 text-xs",placeholder:"Field name",value:j.field,onChange:G=>{const F=[...A.config.sortFields];F[R]={...F[R],field:G.target.value},T(A.id,{sortFields:F})}}),p.jsxs("select",{className:"border rounded p-1 text-xs",value:j.direction,onChange:G=>{const F=[...A.config.sortFields];F[R]={...F[R],direction:G.target.value},T(A.id,{sortFields:F})},children:[p.jsx("option",{value:"asc",children:"ASC"}),p.jsx("option",{value:"desc",children:"DESC"})]}),p.jsx("button",{onClick:()=>{const G=A.config.sortFields.filter((F,re)=>re!==R);T(A.id,{sortFields:G})},className:"text-red-500 hover:text-red-700 text-xs",children:p.jsx(ft,{size:14})})]},R)),(A.config.sortFields||[]).length===0&&p.jsx("p",{className:"text-xs text-gray-400 italic",children:"No sort fields defined."})]})]}),A.type==="union"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded p-2 text-[10px] text-indigo-700",children:[p.jsx("strong",{children:"Union:"})," Merges multiple input streams into one. Connect 2+ sources to this node. All rows from all inputs will be combined."]}),p.jsx("p",{className:"text-xs text-gray-500",children:"No additional configuration required."})]}),A.type==="normalizer"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Array Field (to expand)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. items",value:A.config.arrayField||"",onChange:j=>T(A.id,{arrayField:j.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Output Fields (comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. item_name, item_value",value:A.config.outputFields?.join(", ")||"",onChange:j=>T(A.id,{outputFields:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:A.config.keepOriginalFields!==!1,onChange:j=>T(A.id,{keepOriginalFields:j.target.checked})}),p.jsx("label",{className:"text-xs text-gray-500",children:"Keep original fields"})]})]}),A.type==="rank"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Rank Field Name"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"rank",value:A.config.rankField||"rank",onChange:j=>T(A.id,{rankField:j.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Rank Type"}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:A.config.rankType||"rowNumber",onChange:j=>T(A.id,{rankType:j.target.value}),children:[p.jsx("option",{value:"rowNumber",children:"Row Number"}),p.jsx("option",{value:"rank",children:"Rank (gaps)"}),p.jsx("option",{value:"denseRank",children:"Dense Rank (no gaps)"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Partition By (comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. department",value:A.config.partitionBy?.join(", ")||"",onChange:j=>T(A.id,{partitionBy:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Order By (field:asc/desc, comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. salary:desc",value:A.config.orderBy?.map(j=>`${j.field}:${j.direction}`).join(", ")||"",onChange:j=>T(A.id,{orderBy:j.target.value.split(",").map(R=>{const[G,F]=R.trim().split(":");return{field:G,direction:F==="desc"?"desc":"asc"}}).filter(R=>R.field)})})]})]}),A.type==="sequence"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Sequence Field Name"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"seq",value:A.config.sequenceField||"seq",onChange:j=>T(A.id,{sequenceField:j.target.value})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Start Value"}),p.jsx("input",{type:"number",className:"w-full border rounded p-1 text-sm",value:A.config.startValue??1,onChange:j=>T(A.id,{startValue:parseInt(j.target.value)||1})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Increment By"}),p.jsx("input",{type:"number",className:"w-full border rounded p-1 text-sm",value:A.config.incrementBy??1,onChange:j=>T(A.id,{incrementBy:parseInt(j.target.value)||1})})]})]})]}),A.type==="updateStrategy"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Strategy Field Name"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"_strategy",value:A.config.strategyField||"_strategy",onChange:j=>T(A.id,{strategyField:j.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Default Strategy"}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:A.config.defaultStrategy||"insert",onChange:j=>T(A.id,{defaultStrategy:j.target.value}),children:[p.jsx("option",{value:"insert",children:"Insert"}),p.jsx("option",{value:"update",children:"Update"}),p.jsx("option",{value:"delete",children:"Delete"}),p.jsx("option",{value:"reject",children:"Reject"})]})]}),p.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded p-2 text-[10px] text-slate-600",children:[p.jsx("strong",{children:"Tip:"})," Rows will have the strategy field set based on conditions or default."]})]}),A.type==="cleansing"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Cleansing Rules"}),p.jsx("button",{onClick:()=>{const j=A.config.rules||[];T(A.id,{rules:[...j,{field:"",operation:"trim"}]})},className:"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:"+ Add Rule"})]}),p.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(A.config.rules||[]).map((j,R)=>p.jsxs("div",{className:"border rounded p-2 bg-gray-50 space-y-1",children:[p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("input",{className:"flex-1 border rounded p-1 text-xs",placeholder:"Field name",value:j.field,onChange:G=>{const F=[...A.config.rules];F[R]={...F[R],field:G.target.value},T(A.id,{rules:F})}}),p.jsxs("select",{className:"border rounded p-1 text-xs",value:j.operation,onChange:G=>{const F=[...A.config.rules];F[R]={...F[R],operation:G.target.value},T(A.id,{rules:F})},children:[p.jsx("option",{value:"trim",children:"Trim"}),p.jsx("option",{value:"upper",children:"Uppercase"}),p.jsx("option",{value:"lower",children:"Lowercase"}),p.jsx("option",{value:"nullToDefault",children:"Null to Default"}),p.jsx("option",{value:"replace",children:"Replace"})]}),p.jsx("button",{onClick:()=>{const G=A.config.rules.filter((F,re)=>re!==R);T(A.id,{rules:G})},className:"text-red-500 hover:text-red-700 text-xs",children:p.jsx(ft,{size:14})})]}),(j.operation==="nullToDefault"||j.operation==="replace")&&p.jsx("input",{className:"w-full border rounded p-1 text-xs",placeholder:"Default/Replace value",value:j.defaultValue||j.replaceWith||"",onChange:G=>{const F=[...A.config.rules];j.operation==="nullToDefault"?F[R]={...F[R],defaultValue:G.target.value}:F[R]={...F[R],replaceWith:G.target.value},T(A.id,{rules:F})}}),j.operation==="replace"&&p.jsx("input",{className:"w-full border rounded p-1 text-xs",placeholder:"Pattern (regex)",value:j.replacePattern||"",onChange:G=>{const F=[...A.config.rules];F[R]={...F[R],replacePattern:G.target.value},T(A.id,{rules:F})}})]},R)),(A.config.rules||[]).length===0&&p.jsx("p",{className:"text-xs text-gray-400 italic",children:"No rules defined."})]})]}),A.type==="deduplicator"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Unique Keys (comma-separated)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. email, date",value:A.config.keys?.join(", ")||"",onChange:j=>T(A.id,{keys:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Leave empty to use all fields"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:A.config.caseInsensitive||!1,onChange:j=>T(A.id,{caseInsensitive:j.target.checked})}),p.jsx("label",{className:"text-xs text-gray-500",children:"Case Insensitive"})]})]}),A.type==="pivot"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Group By Fields"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. region, year",value:A.config.groupByFields?.join(", ")||"",onChange:j=>T(A.id,{groupByFields:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Pivot Field (Column Header Source)"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. month",value:A.config.pivotField||"",onChange:j=>T(A.id,{pivotField:j.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Value Field"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. sales",value:A.config.valueField||"",onChange:j=>T(A.id,{valueField:j.target.value})})]})]}),A.type==="unpivot"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Fields to Unpivot"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. jan_sales, feb_sales, mar_sales",value:A.config.fieldsToUnpivot?.join(", ")||"",onChange:j=>T(A.id,{fieldsToUnpivot:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"New Header Column Name"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. month",value:A.config.newHeaderFieldName||"Metric",onChange:j=>T(A.id,{newHeaderFieldName:j.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"New Value Column Name"}),p.jsx("input",{className:"w-full border rounded p-1 text-sm font-mono",placeholder:"e.g. sales_amount",value:A.config.newValueFieldName||"Value",onChange:j=>T(A.id,{newValueFieldName:j.target.value})})]})]}),A.type==="sql"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"SQL Query (Simulation Only)"}),p.jsx("textarea",{className:"w-full border rounded p-1 text-sm font-mono h-24",placeholder:"SELECT * FROM table WHERE ...",value:A.config.sqlQuery||"",onChange:j=>T(A.id,{sqlQuery:j.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-gray-500",children:"Mode"}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:A.config.mode||"query",onChange:j=>T(A.id,{mode:j.target.value}),children:[p.jsx("option",{value:"query",children:"Query"}),p.jsx("option",{value:"procedure",children:"Procedure"}),p.jsx("option",{value:"script",children:"Script"})]})]})]})]}):null};return u?p.jsxs("div",{className:"h-[600px] flex flex-col border rounded bg-white shadow-sm",children:[p.jsxs("div",{className:"p-2 border-b flex flex-wrap justify-between items-center bg-gray-50 gap-2",children:[p.jsx("input",{className:"font-bold bg-transparent border-none focus:ring-0 text-sm min-w-0 flex-grow",value:u.name,onChange:A=>c({...u,name:A.target.value})}),p.jsxs("div",{className:"flex gap-2 shrink-0",children:[p.jsxs("button",{onClick:_,className:"flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700",children:[p.jsx(Z8,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),p.jsxs("button",{onClick:()=>c(null),className:"flex items-center gap-1 px-3 py-1 bg-gray-200 text-gray-700 rounded text-xs hover:bg-gray-300",children:[p.jsx(TE,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:"Cancel"})]})]})]}),p.jsxs("div",{className:"flex-grow flex flex-col md:flex-row overflow-hidden relative",children:[p.jsx("div",{className:"w-full md:w-48 h-auto md:h-full bg-gray-100 border-t md:border-t-0 md:border-r flex flex-row md:flex-col items-center md:items-stretch justify-start py-2 gap-2 overflow-x-auto md:overflow-y-auto order-last md:order-first shrink-0 px-2",children:jk.map(A=>p.jsxs("button",{title:`Add ${A.label}`,onClick:()=>E(A.type),className:"flex items-center gap-2 p-1 rounded hover:bg-gray-200 group transition-colors",children:[p.jsx("div",{className:`w-8 h-8 ${A.bg} ${A.border} border rounded flex items-center justify-center text-[10px] shrink-0`,children:A.icon?p.jsx(A.icon,{size:12}):A.short}),p.jsx("span",{className:"text-sm text-gray-700 hidden md:block whitespace-nowrap",children:A.label})]},A.type))}),p.jsx("div",{className:"flex-grow relative bg-gray-50",children:p.jsxs(K0,{nodes:k,edges:U,nodeTypes:Mk,onNodesChange:P,onEdgesChange:le,onNodeClick:M,onEdgeClick:W,onConnect:O,onInit:h,fitView:!0,deleteKeyCode:["Backspace","Delete"],children:[p.jsx(m3,{color:"#aaa",gap:16}),p.jsx(d3,{}),p.jsx(Po,{position:"top-right",children:p.jsxs("div",{className:"flex gap-2",children:[K&&p.jsxs("button",{onClick:X,className:"flex items-center gap-2 bg-red-500 text-white px-3 py-2 rounded shadow border border-red-600 hover:bg-red-600 text-sm font-medium cursor-pointer",title:"Delete selected connection",children:[p.jsx(ft,{size:16}),"Delete"]}),p.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-white px-3 py-2 rounded shadow border border-gray-200 hover:bg-gray-50 text-sm font-medium text-gray-700 cursor-pointer",title:"Auto-align nodes",children:[p.jsx(yC,{size:16}),"Align"]})]})})]})}),p.jsx("div",{className:`bg-white overflow-y-auto absolute inset-0 z-20 md:static md:w-64 md:border-l ${f?"block":"hidden md:block"}`,children:I()})]})]}):p.jsxs("div",{className:"space-y-4 p-4 border rounded bg-white shadow-sm",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2 flex items-center gap-2",children:[p.jsx(NE,{className:"w-5 h-5"})," Mappings"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map(A=>p.jsxs("div",{className:"border p-4 rounded bg-gray-50 hover:shadow-md transition-shadow relative",children:[p.jsx("h4",{className:"font-bold text-gray-700",children:A.name}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[A.transformations.length," transformations"]}),p.jsxs("div",{className:"mt-4 flex gap-2",children:[p.jsxs("button",{onClick:()=>S(A),className:"text-blue-600 text-xs hover:underline flex items-center gap-1",children:[p.jsx(NE,{size:12})," Edit"]}),p.jsxs("button",{onClick:()=>N(A.id),className:"text-red-600 text-xs hover:underline flex items-center gap-1",children:[p.jsx(ft,{size:12})," Delete"]})]})]},A.id)),p.jsxs("button",{onClick:b,className:"border-2 border-dashed border-gray-300 rounded p-4 flex flex-col items-center justify-center text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors h-full min-h-[100px]",children:[p.jsx(en,{size:24}),p.jsx("span",{className:"text-sm font-medium",children:"Create New Mapping"})]})]})]})},Dk=()=>{const{mappingTasks:t,addMappingTask:a,updateMappingTask:i,removeMappingTask:s,mappings:o}=mn(),u=()=>{if(o.length===0){alert("Please define a Mapping first.");return}const f={id:`mt_${Date.now()}`,name:"New Mapping Task",mappingId:o[0].id,executionInterval:5e3,enabled:!0};a(f)},c=(f,g)=>{i(f,g)};return p.jsxs("div",{className:"space-y-4 p-4 border rounded bg-white shadow-sm",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2 flex items-center gap-2",children:[p.jsx(u8,{className:"w-5 h-5"})," Mapping Tasks (Execution)"]}),p.jsx("p",{className:"text-xs text-gray-500",children:"Schedule execution of defined Mappings."}),p.jsxs("div",{className:"space-y-4",children:[t.map(f=>p.jsxs("div",{className:"border p-4 rounded-md bg-gray-50 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx("button",{onClick:()=>s(f.id),className:"text-red-500 hover:text-red-700",title:"Delete Task",children:p.jsx(ft,{size:18})})}),p.jsxs("div",{className:"grid gap-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Task Name"}),p.jsx("input",{type:"text",value:f.name,onChange:g=>c(f.id,{name:g.target.value}),className:"w-full border rounded p-1 text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Underlying Mapping"}),p.jsx("select",{value:f.mappingId,onChange:g=>c(f.id,{mappingId:g.target.value}),className:"w-full border rounded p-1 text-sm bg-white",children:o.map(g=>p.jsx("option",{value:g.id,children:g.name},g.id))})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Execution Interval (ms)"}),p.jsx("input",{type:"number",value:f.executionInterval,onChange:g=>c(f.id,{executionInterval:parseInt(g.target.value)||0}),className:"w-full border rounded p-1 text-sm"})]}),p.jsx("div",{className:"flex items-center pt-5",children:p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:f.enabled,onChange:g=>c(f.id,{enabled:g.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),p.jsx("span",{className:"text-sm text-gray-700",children:"Enabled"})]})})]}),p.jsxs("div",{className:"mt-3",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Bad File Directory (Optional)"}),p.jsx("input",{type:"text",value:f.badFileDir||"",placeholder:"/bad_files/",onChange:g=>c(f.id,{badFileDir:g.target.value}),className:"w-full border rounded p-1 text-sm font-mono"}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Directory to store rejected rows as CSV files."})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 border-t pt-3 mt-1",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Dependencies (Wait for these tasks)"}),p.jsxs("div",{className:"border rounded p-2 h-32 overflow-y-auto bg-white",children:[t.filter(g=>g.id!==f.id).map(g=>p.jsxs("label",{className:"flex items-center gap-2 text-xs mb-1 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:f.dependencies?.includes(g.id)||!1,onChange:m=>{const h=f.dependencies||[];let v;m.target.checked?v=[...h,g.id]:v=h.filter(x=>x!==g.id),c(f.id,{dependencies:v})},className:"rounded border-gray-300 text-blue-600"}),p.jsx("span",{className:"truncate",children:g.name})]},g.id)),t.length<=1&&p.jsx("span",{className:"text-gray-400 italic text-[10px]",children:"No other tasks available"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Parameters (Key=Value)"}),p.jsx("textarea",{className:"w-full border rounded p-1 text-xs font-mono h-32",placeholder:`DB_NAME=metrics_db
LIMIT=100`,value:Object.entries(f.parameters||{}).map(([g,m])=>`${g}=${m}`).join(`
`),onChange:g=>{const m=g.target.value,h={};m.split(`
`).forEach(v=>{const x=v.indexOf("=");if(x>0){const b=v.substring(0,x).trim(),S=v.substring(x+1).trim();b&&(h[b]=S)}}),c(f.id,{parameters:h})}}),p.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:["One per line. Used for substitution (e.g. ",p.jsxs("code",{children:["$","{PARAM}"]}),")."]})]})]})]})]},f.id)),t.length===0&&p.jsx("div",{className:"text-gray-400 italic text-sm text-center py-4",children:"No mapping tasks defined."})]}),p.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[p.jsx(en,{size:20})," Add Mapping Task"]})]})},Ok=()=>{const[t,a]=B.useState("datasource"),i=[{id:"datasource",label:"",icon:p.jsx(Fo,{size:16})},{id:"transfer",label:"",icon:p.jsx(t8,{size:16})},{id:"processing",label:"",icon:p.jsx(hk,{size:16})},{id:"database",label:"",icon:p.jsx(_a,{size:16})}];return p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:i.map(s=>p.jsxs("button",{onClick:()=>a(s.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${t===s.id?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.icon,s.label]},s.id))}),p.jsxs("div",{className:"pt-2",children:[t==="datasource"&&p.jsxs("div",{className:"space-y-6",children:[p.jsx(xk,{}),p.jsx(wk,{})]}),t==="transfer"&&p.jsxs("div",{className:"space-y-6",children:[p.jsx(Ek,{}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx(Nk,{}),p.jsx(Tk,{})]})]}),t==="processing"&&p.jsxs("div",{className:"space-y-6",children:[p.jsx(Ck,{}),p.jsx(qk,{}),p.jsx(Dk,{})]}),t==="database"&&p.jsx("div",{className:"space-y-6",children:p.jsx(bk,{})})]})]})},zk=()=>{const{logs:t,clearLogs:a,retryJob:i}=VE(),[s,o]=B.useState("all"),[u,c]=B.useState("all"),f=B.useMemo(()=>t.filter(v=>{const x=s==="all"||v.status===s,b=u==="all"||v.jobType===u;return x&&b}),[t,s,u]),g=v=>{switch(v){case"collection":return p.jsx(EE,{size:16,className:"text-orange-600"});case"delivery":return p.jsx(EE,{size:16,className:"text-blue-600"});case"mapping":return p.jsx(_a,{size:16,className:"text-purple-600"})}},m=v=>new Date(v).toLocaleTimeString(),h=(v,x)=>{const b=x-v;return b<1e3?`${b}ms`:`${(b/1e3).toFixed(2)}s`};return p.jsxs("div",{className:"h-full flex flex-col bg-white rounded shadow-sm border border-gray-200",children:[p.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("h2",{className:"font-bold text-gray-700 flex items-center gap-2",children:[p.jsx(hv,{className:"w-5 h-5 text-gray-500"}),"Job Monitor"]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm border-l pl-4 border-gray-300",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(E8,{size:14,className:"text-gray-400"}),p.jsxs("select",{value:s,onChange:v=>o(v.target.value),className:"border border-gray-300 rounded px-2 py-1 text-gray-700 focus:outline-none focus:border-blue-500",children:[p.jsx("option",{value:"all",children:"All Status"}),p.jsx("option",{value:"success",children:"Success"}),p.jsx("option",{value:"failed",children:"Failed"})]})]}),p.jsx("div",{className:"flex items-center gap-1",children:p.jsxs("select",{value:u,onChange:v=>c(v.target.value),className:"border border-gray-300 rounded px-2 py-1 text-gray-700 focus:outline-none focus:border-blue-500",children:[p.jsx("option",{value:"all",children:"All Types"}),p.jsx("option",{value:"collection",children:"Collection"}),p.jsx("option",{value:"delivery",children:"Delivery"}),p.jsx("option",{value:"mapping",children:"Mapping"})]})})]})]}),p.jsxs("button",{onClick:a,className:"flex items-center gap-1 text-xs text-gray-500 hover:text-red-600 px-3 py-1 rounded border border-gray-300 hover:border-red-300 transition-colors",children:[p.jsx(ft,{size:14}),"Clear Log"]})]}),p.jsx("div",{className:"flex-grow overflow-auto p-0",children:p.jsxs("table",{className:"w-full text-left text-sm",children:[p.jsx("thead",{className:"bg-gray-100 text-gray-600 sticky top-0 z-10 shadow-sm",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3 font-semibold w-24",children:"Time"}),p.jsx("th",{className:"p-3 font-semibold w-32",children:"Type"}),p.jsx("th",{className:"p-3 font-semibold w-48",children:"Job Name"}),p.jsx("th",{className:"p-3 font-semibold w-24",children:"Status"}),p.jsx("th",{className:"p-3 font-semibold w-32 text-right",children:"Duration"}),p.jsx("th",{className:"p-3 font-semibold w-32 text-right",children:"Records (In/Out)"}),p.jsx("th",{className:"p-3 font-semibold",children:"Details / Message"}),p.jsx("th",{className:"p-3 font-semibold w-16 text-center",children:"Action"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-100",children:f.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400 italic",children:"No execution logs found."})}):f.map(v=>p.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[p.jsx("td",{className:"p-3 text-gray-500 whitespace-nowrap font-mono text-xs",children:m(v.startTime)}),p.jsx("td",{className:"p-3",children:p.jsxs("div",{className:"flex items-center gap-2",children:[g(v.jobType),p.jsx("span",{className:"capitalize",children:v.jobType})]})}),p.jsx("td",{className:"p-3 font-medium text-gray-700 truncate max-w-[200px]",title:v.jobName,children:v.jobName}),p.jsx("td",{className:"p-3",children:v.status==="success"?p.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:[p.jsx(l8,{size:12})," Success"]}):p.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded-full bg-red-100 text-red-700",children:[p.jsx(f8,{size:12})," Failed"]})}),p.jsx("td",{className:"p-3 text-right text-gray-500 font-mono text-xs",children:h(v.startTime,v.endTime)}),p.jsxs("td",{className:"p-3 text-right font-mono text-xs",children:[p.jsx("span",{className:"text-gray-600",children:v.recordsInput}),p.jsx("span",{className:"text-gray-300 mx-1",children:"/"}),p.jsx("span",{className:"text-gray-900 font-semibold",children:v.recordsOutput})]}),p.jsx("td",{className:"p-3 text-gray-600 truncate max-w-[300px]",title:v.errorMessage||v.details,children:p.jsx("div",{className:"flex justify-between items-center gap-2",children:v.errorMessage?p.jsx("span",{className:"text-red-600 flex items-center gap-1 truncate",children:v.errorMessage}):p.jsx("span",{className:"text-gray-400 text-xs truncate",children:v.details})})}),p.jsx("td",{className:"p-3 text-center",children:p.jsx("button",{onClick:()=>i(v.jobId,v.jobType),className:"text-gray-400 hover:text-blue-600 transition-colors p-1 rounded hover:bg-blue-50",title:"Retry Job",children:p.jsx(X8,{size:16})})})]},v.id))})]})})]})},CE=(t,a)=>{const i=(o,u=2)=>String(o).padStart(u,"0"),s={YYYY:String(t.getFullYear()),MM:i(t.getMonth()+1),DD:i(t.getDate()),HH:i(t.getHours()),mm:i(t.getMinutes()),ss:i(t.getSeconds()),SSS:i(t.getMilliseconds(),3)};return a.replace(/YYYY|MM|DD|HH|mm|ss|SSS/g,o=>s[o])},ci=(t,a)=>t.replace(/\$\{(.*?)\}/g,(i,s)=>{const o=s.split(":"),u=o[0].trim(),c=o.slice(1).join(":").trim();switch(u){case"host":case"hostname":return a.hostname;case"collectionHost":return a.collectionHost||"";case"fileName":return a.fileName||"";case"timestamp":return c?CE(a.timestamp,c):CE(a.timestamp,"YYYYMMDDHHmmssSSS");default:return`\${${s}}`}}),jE=(t,a,i)=>{if(!t||t.length===0)return"";const s=t.map(u=>u.name).join(","),o=[];for(let u=0;u<a;u++){const c=t.map(f=>Hk(f,u,i)).join(",");o.push(c)}return[s,...o].join(`
`)},kk=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=Math.random()*16|0,i=t=="x"?a:a&3|8;return i.toString(16)}),Hk=(t,a,i)=>{const{type:s,params:o}=t;switch(s){case"static":{const u=o.value!==void 0?String(o.value):"";return ci(u,i)}case"randomInt":{const u=Number(o.min)||0,c=Number(o.max)||100;return String(Math.floor(Math.random()*(c-u+1))+u)}case"randomFloat":{const u=Number(o.min)||0,c=Number(o.max)||1,f=o.precision!==void 0?Number(o.precision):2;return(Math.random()*(c-u)+u).toFixed(f)}case"sin":{const u=Number(o.period)||1e4,c=Number(o.amplitude)||1,f=Number(o.offset)||0,g=i.timestamp.getTime();return(c*Math.sin(2*Math.PI*(g/u))+f).toFixed(4)}case"cos":{const u=Number(o.period)||1e4,c=Number(o.amplitude)||1,f=Number(o.offset)||0,g=i.timestamp.getTime();return(c*Math.cos(2*Math.PI*(g/u))+f).toFixed(4)}case"sequence":{const u=Number(o.start)||1,c=Number(o.step)||1;return String(u+c*a)}case"uuid":return kk();case"list":{const c=String(o.values||"").split(",").map(g=>g.trim()).filter(g=>g.length>0);return c.length===0?"":c[Math.floor(Math.random()*c.length)]}default:return""}},AE={IIF:(t,a,i)=>t?a:i,DECODE:(t,...a)=>{for(let i=0;i<a.length-1;i+=2)if(String(t)===String(a[i]))return a[i+1];return a.length%2===1?a[a.length-1]:null},ISNULL:t=>t==null||t==="",NVL:(t,a)=>t==null||t===""?a:t,SUBSTR:(t,a,i)=>{if(typeof t!="string")return null;const s=a>0?a-1:0;return i?t.substr(s,i):t.substr(s)},INSTR:(t,a)=>typeof t!="string"?0:t.indexOf(a)+1,LENGTH:t=>typeof t=="string"?t.length:0,UPPER:t=>typeof t=="string"?t.toUpperCase():t,LOWER:t=>typeof t=="string"?t.toLowerCase():t,CONCAT:(...t)=>t.join(""),TRIM:t=>typeof t=="string"?t.trim():t,LPAD:(t,a,i=" ")=>{if(t==null)return null;const s=String(t);return s.length>a?s.substring(0,a):s.padStart(a,i)},RPAD:(t,a,i=" ")=>{if(t==null)return null;const s=String(t);return s.length>a?s.substring(0,a):s.padEnd(a,i)},REVERSE:t=>typeof t!="string"?t:t.split("").reverse().join(""),REPLACE_STR:(t,a,i)=>typeof t!="string"?t:t.split(a).join(i),IS_NUMBER:t=>t==null||t===""?!1:!isNaN(Number(t)),IS_SPACES:t=>typeof t!="string"?!1:t.trim().length===0,ABS:t=>Math.abs(Number(t)),CEIL:t=>Math.ceil(Number(t)),FLOOR:t=>Math.floor(Number(t)),ROUND:(t,a=0)=>{const i=Math.pow(10,a);return Math.round(Number(t)*i)/i},TRUNC:(t,a=0)=>{const i=Math.pow(10,a);return Math.trunc(Number(t)*i)/i},MOD:(t,a)=>Number(t)%Number(a),GET_DATE:()=>new Date,TO_DATE:(t,a)=>new Date(t),TO_CHAR:(t,a)=>t instanceof Date?t.toISOString():String(t),DATE_DIFF:(t,a,i="D")=>{const s=new Date(t).getTime()-new Date(a).getTime();return i==="D"?s/(1e3*60*60*24):i==="H"?s/(1e3*60*60):s},ADD_TO_DATE:(t,a,i="D")=>{const s=new Date(t);return i==="D"?s.setDate(s.getDate()+a):i==="M"?s.setMonth(s.getMonth()+a):i==="Y"?s.setFullYear(s.getFullYear()+a):i==="HH"?s.setHours(s.getHours()+a):i==="MI"?s.setMinutes(s.getMinutes()+a):i==="SS"&&s.setSeconds(s.getSeconds()+a),s},GET_DATE_PART:(t,a)=>{const i=new Date(t);switch(a){case"YYYY":return i.getFullYear();case"MM":return i.getMonth()+1;case"DD":return i.getDate();case"HH":return i.getHours();case"MI":return i.getMinutes();case"SS":return i.getSeconds();default:return null}},LAST_DAY:t=>{const a=new Date(t);return new Date(a.getFullYear(),a.getMonth()+1,0)},TRUNC_DATE:(t,a="DD")=>{const i=new Date(t);return a==="DD"?i.setHours(0,0,0,0):a==="MM"?(i.setDate(1),i.setHours(0,0,0,0)):a==="YYYY"&&(i.setMonth(0,1),i.setHours(0,0,0,0)),i},IS_DATE:(t,a)=>{if(!t)return!1;const i=new Date(t);return!isNaN(i.getTime())},TO_INTEGER:t=>parseInt(String(t),10),TO_DECIMAL:(t,a=0)=>{const i=parseFloat(String(t));return isNaN(i)?null:Number(i.toFixed(a))},TO_FLOAT:t=>parseFloat(String(t))},Ro=(t,a,i={})=>{try{const s=Object.keys(t),o=Object.values(t),u=Object.keys(i),c=Object.values(i),f=Object.keys(AE),g=Object.values(AE);return new Function(...s,...u,...f,`return ${a};`)(...o,...c,...g)}catch{return null}},Lk=(t,a)=>!t||typeof t!="string"?t:t.replace(/\$\{(\w+)\}/g,(i,s)=>a[s]||""),bC=(t,a,i,s,o,u,c,f,g={})=>{const h=i.links.filter(v=>v.sourceId===t.id).map(v=>i.transformations.find(x=>x.id===v.targetId)).filter(Boolean);for(const v of h){let x=[];f.transformations[v.id].input+=a.length;try{switch(v.type){case"filter":{const b=v.config;x=a.filter(S=>Ro(S,b.condition,g));break}case"expression":{const b=v.config;x=a.map(S=>{const _={...S};return b.fields.forEach(N=>{_[N.name]=Ro(S,N.expression,g)}),_});break}case"aggregator":{const b=v.config,S={};a.forEach(_=>{const N=b.groupBy.map(E=>_[E]).join("::");S[N]||(S[N]=[]),S[N].push(_)}),x=Object.entries(S).map(([_,N])=>{const E={};return b.groupBy.forEach((C,T)=>E[C]=_.split("::")[T]),b.aggregates.forEach(C=>{const T=N.map(M=>Number(M[C.field])||0);C.function==="sum"&&(E[C.name]=T.reduce((M,O)=>M+O,0)),C.function==="count"&&(E[C.name]=T.length),C.function==="avg"&&(E[C.name]=T.reduce((M,O)=>M+O,0)/T.length),C.function==="max"&&(E[C.name]=Math.max(...T)),C.function==="min"&&(E[C.name]=Math.min(...T))}),E});break}case"validator":{const b=v.config,S=b.rules||[],_=[];for(const N of a){let E=!0;for(const C of S){const T=N[C.field];if(C.required&&(T==null||T==="")){E=!1;break}if(T!=null&&T!==""){if(C.type==="number"&&isNaN(Number(T))){E=!1;break}if(C.type==="boolean"){const M=String(T).toLowerCase();if(M!=="true"&&M!=="false"&&M!=="1"&&M!=="0"){E=!1;break}}if(C.regex)try{if(!new RegExp(C.regex).test(String(T))){E=!1;break}}catch{console.warn(`[MappingEngine] Invalid regex in validator: ${C.regex}`)}}}E?_.push(N):b.errorBehavior==="error"&&(f.rejectRows||(f.rejectRows=[]),f.rejectRows.push({row:N,error:"Validation failed: Rule validation error",transformationName:v.name}),f.transformations[v.id].errors++)}x=_;break}case"target":{const b=v.config,S=s.find(_=>_.id===b.connectionId);if(x=[],S){if(S.type==="database"){const _=S.tableName||"output",N=o.find(C=>C.name===_),E=b.updateColumns||[];a.forEach(C=>{const T=C._strategy||"insert",M={...C};if(delete M._strategy,T==="reject"){f.transformations[v.id].rejects++;return}let O=M;if(N){const k={};N.columns.forEach(H=>{Object.prototype.hasOwnProperty.call(M,H.name)&&(k[H.name]=M[H.name])}),O=k}if(T==="insert"){const k=b.deduplicationKeys||[],H=b.duplicateBehavior;let $=!0,U=!1,Y=null;if(k.length>0&&H){const K=c.select(_).find(ae=>{const L=ae.data||ae;return k.every(ee=>String(L[ee])===String(C[ee]))});if(K)if($=!1,Y=K.id,H==="error"){f.transformations[v.id].errors++,console.warn(`[MappingEngine] Duplicate detected and treated as error: ${JSON.stringify(C)}`);return}else if(H==="ignore"){console.log(`[MappingEngine] Duplicate ignored: ${JSON.stringify(C)}`),x.push(C);return}else H==="update"&&(U=!0)}U&&Y?(c.update(_,Y,O),x.push(C)):$&&(c.insert(_,O),x.push(C))}else if(T==="update"||T==="delete"){if(E.length===0){console.warn(`[MappingEngine] ${T} requested but no updateColumns defined for ${v.name}`),f.transformations[v.id].errors++;return}const H=c.select(_).find($=>{const U=$.data||$;return E.every(Y=>String(U[Y])===String(C[Y]))});H?T==="update"?(c.update(_,H.id,O),x.push(C)):T==="delete"&&(c.delete(_,H.id),x.push(C)):console.warn(`[MappingEngine] Record not found for ${T} in ${v.name}`)}})}else if(S.type==="file"){const N=`output_${new Date().toISOString().replace(/[:.]/g,"-")}.json`,E=a.map(T=>{const M={...T};return delete M._strategy,M}),C=JSON.stringify(E,null,2);u.writeFile(S.host,S.path,N,C),x=E}}else x=a;break}case"joiner":{const b=v.config,S=`joiner_${v.id}`,_=i.links.filter(N=>N.targetId===v.id);if(_.length<2)console.warn(`[MappingEngine] Joiner ${v.name} requires 2 inputs, only ${_.length} connected`),x=a;else if(f.cache||(f.cache={}),!f.cache[S])f.cache[S]={masterBatch:a,received:1},x=[];else{const E=f.cache[S].masterBatch,C=a,T=b.masterKeys||[],M=b.detailKeys||[],O=[],k=new Set;for(const H of E){let $=!1;for(let U=0;U<C.length;U++){const Y=C[U];let Z=!0;for(let K=0;K<T.length;K++){const ae=T[K],L=M[K]||ae;if(H[ae]!==Y[L]){Z=!1;break}}Z&&($=!0,k.add(U),O.push({...H,...Y}))}!$&&(b.joinType==="left"||b.joinType==="full")&&O.push({...H})}if(b.joinType==="right"||b.joinType==="full")for(let H=0;H<C.length;H++)k.has(H)||O.push({...C[H]});x=O,console.log(`[MappingEngine] Joiner ${v.name}: ${b.joinType} join produced ${O.length} rows`),delete f.cache[S]}break}case"lookup":{const b=v.config,S=s.find(_=>_.id===b.connectionId);if(S&&S.type==="database"){const _=c.select(S.tableName||""),N=b.lookupKeys||[],E=b.referenceKeys||[],C=b.returnFields||[];x=a.map(T=>{const M={...T},O=_.find(k=>{const H=k.data||k;for(let $=0;$<N.length;$++){const U=N[$],Y=E[$]||U;if(T[U]!==H[Y])return!1}return!0});if(O){const k=O.data||O;C.forEach(H=>{M[H]=k[H]})}else b.defaultValue!==void 0&&C.forEach(k=>{M[k]=b.defaultValue});return M}),console.log(`[MappingEngine] Lookup ${v.name}: processed ${x.length} rows`)}else console.warn(`[MappingEngine] Lookup ${v.name}: invalid or missing connection`),x=a;break}case"router":{const b=v.config,S=b.routes||[],_={};_[b.defaultGroup||"default"]=[],S.forEach(N=>{_[N.groupName]=[]});for(const N of a){let E=!1;for(const C of S)try{if(Ro(N,C.condition,g)){_[C.groupName].push(N),E=!0;break}}catch{console.warn(`[MappingEngine] Router condition error: ${C.condition}`)}E||_[b.defaultGroup||"default"].push(N)}x=_[b.defaultGroup||"default"],console.log(`[MappingEngine] Router ${v.name}: routed ${a.length} rows into groups:`,Object.entries(_).map(([N,E])=>`${N}:${E.length}`).join(", "));break}case"sorter":{const S=v.config.sortFields||[];x=[...a].sort((_,N)=>{for(const E of S){const C=_[E.field],T=N[E.field];let M=0;if(typeof C=="number"&&typeof T=="number"?M=C-T:M=String(C).localeCompare(String(T)),M!==0)return E.direction==="desc"?-M:M}return 0}),console.log(`[MappingEngine] Sorter ${v.name}: sorted ${x.length} rows`);break}case"union":{const b=`union_${v.id}`,S=i.links.filter(N=>N.targetId===v.id);if(f.cache||(f.cache={}),!f.cache[b])f.cache[b]={batches:[a],received:1};else{const N=f.cache[b];N.batches.push(a),N.received++}const _=f.cache[b];_.received>=S.length?(x=_.batches.flat(),console.log(`[MappingEngine] Union ${v.name}: merged ${_.received} inputs into ${x.length} rows`),delete f.cache[b]):x=[];break}case"normalizer":{const b=v.config,S=b.arrayField||"",_=b.outputFields||[];x=[];for(const N of a){const E=N[S];Array.isArray(E)?E.forEach((C,T)=>{const M=b.keepOriginalFields?{...N}:{};if(delete M[S],typeof C=="object")Object.assign(M,C);else{const O=_[T]||`${S}_${T}`;M[O]=C}x.push(M)}):x.push(N)}console.log(`[MappingEngine] Normalizer ${v.name}: expanded ${a.length} rows to ${x.length} rows`);break}case"rank":{const b=v.config,S=b.partitionBy||[],_=b.orderBy||[],N=b.rankField||"rank",E=b.rankType||"rowNumber",C={};a.forEach(T=>{const M=S.map(O=>T[O]).join("::");C[M]||(C[M]=[]),C[M].push(T)}),x=[];for(const T of Object.values(C)){T.sort((k,H)=>{for(const $ of _){const U=k[$.field],Y=H[$.field];let Z=0;if(typeof U=="number"&&typeof Y=="number"?Z=U-Y:Z=String(U).localeCompare(String(Y)),Z!==0)return $.direction==="desc"?-Z:Z}return 0});let M=1,O=[];T.forEach((k,H)=>{const $=_.map(U=>k[U.field]);E==="rowNumber"?k[N]=H+1:E==="denseRank"?(H>0&&JSON.stringify($)!==JSON.stringify(O)&&M++,k[N]=M):(H>0&&JSON.stringify($)!==JSON.stringify(O)&&(M=H+1),k[N]=M),O=$,x.push(k)})}console.log(`[MappingEngine] Rank ${v.name}: assigned ranks to ${x.length} rows`);break}case"sequence":{const b=v.config,S=b.sequenceField||"seq",_=b.startValue??1,N=b.incrementBy??1;x=a.map((E,C)=>({...E,[S]:_+C*N})),console.log(`[MappingEngine] Sequence ${v.name}: assigned sequence to ${x.length} rows`);break}case"updateStrategy":{const b=v.config,S=b.strategyField||"_strategy",_=b.defaultStrategy||"insert",N=b.conditions||[];x=a.map(E=>{const C={...E};let T=_;for(const M of N)try{if(Ro(E,M.condition,g)){T=M.strategy;break}}catch{}return C[S]=T,C}),console.log(`[MappingEngine] UpdateStrategy ${v.name}: assigned strategies to ${x.length} rows`);break}case"cleansing":{const S=v.config.rules||[];x=a.map(_=>{const N={..._};for(const E of S){const C=N[E.field];switch(E.operation){case"trim":typeof C=="string"&&(N[E.field]=C.trim());break;case"upper":typeof C=="string"&&(N[E.field]=C.toUpperCase());break;case"lower":typeof C=="string"&&(N[E.field]=C.toLowerCase());break;case"nullToDefault":(C==null||C==="")&&(N[E.field]=E.defaultValue??"");break;case"replace":if(typeof C=="string"&&E.replacePattern)try{const T=new RegExp(E.replacePattern,"g");N[E.field]=C.replace(T,E.replaceWith??"")}catch{}break}}return N}),console.log(`[MappingEngine] Cleansing ${v.name}: cleansed ${x.length} rows`);break}case"deduplicator":{const b=v.config,S=b.keys||[],_=b.caseInsensitive||!1,N=new Set;x=a.filter(E=>{let C="";return S.length===0?C=JSON.stringify(E):C=S.map(T=>{const M=E[T];return _&&typeof M=="string"?M.toLowerCase():M}).join("::"),N.has(C)?!1:(N.add(C),!0)}),console.log(`[MappingEngine] Deduplicator ${v.name}: reduced ${a.length} to ${x.length} rows`);break}case"pivot":{const b=v.config,S=b.groupByFields||[],_=b.pivotField||"",N=b.valueField||"";if(!_||!N){x=a;break}const E={};a.forEach(C=>{const T=S.map(O=>C[O]).join("::");E[T]||(E[T]={},S.forEach(O=>E[T][O]=C[O]));const M=C[_];M!=null&&(E[T][String(M)]=C[N])}),x=Object.values(E),console.log(`[MappingEngine] Pivot ${v.name}: pivoted ${a.length} rows to ${x.length} rows`);break}case"unpivot":{const b=v.config,S=b.fieldsToUnpivot||[],_=b.newHeaderFieldName||"Metric",N=b.newValueFieldName||"Value";x=[],a.forEach(E=>{S.forEach(C=>{if(E[C]!==void 0){const T={...E};S.forEach(M=>delete T[M]),T[_]=C,T[N]=E[C],x.push(T)}})}),console.log(`[MappingEngine] Unpivot ${v.name}: expanded ${a.length} rows to ${x.length} rows`);break}case"sql":{const b=v.config,S=Lk(b.sqlQuery,g);if(console.log(`[MappingEngine] SQL ${v.name}: Executing "${S}"`),b.mode==="script"||b.mode==="query"){const N=S.trim().match(/DELETE\s+FROM\s+(\w+)\s+WHERE\s+(\w+)\s*=\s*['"]?([^'"]+)['"]?/i);if(N){const[,E,C,T]=N,M=c.select(E);let O=0;M.forEach(k=>{const H=k.data||k;String(H[C])===String(T)&&(c.delete(E,k.id),O++)}),console.log(`[MappingEngine] SQL Executed: Deleted ${O} rows from ${E}`)}}x=a.map(_=>({..._,_sql_status:"success"}));break}default:x=a}}catch(b){console.error(`Error in node ${v.name}`,b),f.transformations[v.id].errors+=1,f.rejectRows||(f.rejectRows=[]),f.rejectRows.push({row:{batchSize:a.length,sample:a[0]},error:b instanceof Error?b.message:String(b),transformationName:v.name})}f.transformations[v.id].output+=x.length,x.length>0&&bC(v,x,i,s,o,u,c,f,g)}},Bk=async(t,a,i,s,o,u,c)=>{const f={transformations:{},rejectRows:[],cache:{}},g={...c},m=new Date,h={SYSDATE:m.toISOString(),SESSSTARTTIME:m.toISOString(),...a.parameters||{},...t.parameters||{}};a.transformations.forEach(x=>{f.transformations[x.id]={input:0,output:0,errors:0,rejects:0}}),f.rejectRows=[];const v=a.transformations.filter(x=>x.type==="source");for(const x of v){const b=x.config,S=i.find(N=>N.id===b.connectionId);if(!S)continue;let _=[];if(S.type==="file"){const N=o.listFiles(S.host,S.path),E=c.processedFiles||new Set,C=N.find(T=>!E.has(`${t.id}:${T.name}`));if(C){let T=o.readFile(S.host,S.path,C.name);if(C.name.endsWith(".csv"))try{const M=T.split(/\r?\n/),O=M[0].split(",");_=M.slice(1).filter(k=>k.trim()).map(k=>{const H=k.split(","),$={};return O.forEach((U,Y)=>$[U.trim()]=H[Y]?.trim()),$}),_.length===0&&console.warn(`[MappingEngine] No records parsed from CSV file: ${C.name}`)}catch(M){console.error(`[MappingEngine] Failed to parse CSV file: ${C.name}`,M)}else try{_=JSON.parse(T),Array.isArray(_)||(_=[_])}catch{_=[{file:C.name,content:T}]}b.filenameColumn&&b.filenameColumn.trim()&&(_=_.map(M=>({...M,[b.filenameColumn]:C.name}))),g.processedFiles||(g.processedFiles=new Set(E)),g.processedFiles.add(`${t.id}:${C.name}`),b.deleteAfterRead&&o.deleteFile(S.host,C.name,S.path)}}else if(S.type==="database"){const N=u.select(S.tableName||""),E=c.lastProcessedTimestamp||0;if(_=N.filter(C=>C.insertedAt>E).map(C=>({...C.data,insertedAt:C.insertedAt})),_.length>0){const C=Math.max(..._.map(T=>T.insertedAt));g.lastProcessedTimestamp=C}}f.transformations[x.id].input=_.length,f.transformations[x.id].output=_.length,_.length>0&&bC(x,_,a,i,s,o,u,f,h)}if(t.badFileDir&&f.rejectRows&&f.rejectRows.length>0){const x=new Date().toISOString().replace(/[:.]/g,"-"),b=`Bad_Rows_${t.name.replace(/\s+/g,"_")}_${x}.csv`,S=`Transformation,Error,RowData
`,_=f.rejectRows.map(E=>{const C=JSON.stringify(E.row).replace(/"/g,'""');return`"${E.transformationName}","${E.error}","${C}"`}).join(`
`),N=t.badFileDir.endsWith("/")?t.badFileDir:t.badFileDir+"/";try{o.writeFile("localhost",N,b,S+_),console.log(`[MappingEngine] Bad file created: ${N}${b}`)}catch(E){console.error("[MappingEngine] Failed to write bad file",E)}}return{stats:f,newState:g}},qo=de.memo(({name:t,host:a,path:i,type:s,files:o})=>{const u=s==="source"?"text-green-600":s==="topic"?"text-purple-600":s==="incoming"?"text-orange-600":"text-blue-600",c=s==="topic"?"(Topic)":`${a}:${i}`,f=t||c;return p.jsxs("div",{className:"text-xs border border-gray-200 p-2 rounded bg-white shadow-sm h-full flex flex-col",children:[p.jsxs("div",{className:"font-semibold text-gray-700 mb-1 flex justify-between items-center",title:`${a}:${i}`,children:[p.jsx("span",{className:"truncate mr-2",children:f}),t&&p.jsx("span",{className:"text-gray-400 font-normal text-[10px] truncate max-w-[50%]",children:c})]}),p.jsxs("ul",{className:"space-y-1 h-24 overflow-y-auto bg-gray-50 p-1 rounded-sm border border-gray-100 flex-grow",children:[o.map(g=>p.jsx("li",{className:`${u} truncate text-[11px] font-mono`,children:g.name},g.name)),o.length===0&&p.jsx("span",{className:"text-gray-400 italic text-[10px] pl-1",children:"Empty"})]})]})}),ME=(t,a,i)=>{const s=Math.max(.1,a);return t.length/s*1e3+i},Uk=({setRetryHandler:t})=>{const a=B.useRef(new Set),[i,s]=B.useState([]),[o,u]=B.useState(!1),[c,f]=B.useState(!1),[g,m]=B.useState(!1),[h,v]=B.useState([]),{writeFile:x,moveFile:b,listFiles:S,deleteFile:_}=DE(),{insert:N,select:E,update:C,remove:T}=zE(),{dataSource:M,collection:O,delivery:k,topics:H,mappings:$,mappingTasks:U,connections:Y,tables:Z}=mn(),{addLog:K}=VE(),ae=B.useRef(S),L=B.useRef(E),ee=B.useRef({}),z=B.useRef({}),P=B.useRef({}),le=B.useRef({}),W=B.useRef(new Set);B.useEffect(()=>{ae.current=S},[S]),B.useEffect(()=>{L.current=E},[E]);const X=B.useCallback((ce,Q,ve)=>`${ce}:${Q}/${ve}`,[]),D=B.useCallback((ce,Q,ve)=>W.current.has(X(ce,Q,ve)),[X]),I=B.useCallback((ce,Q,ve)=>W.current.add(X(ce,Q,ve)),[X]),A=B.useCallback((ce,Q,ve)=>W.current.delete(X(ce,Q,ve)),[X]),j=B.useCallback((ce,Q)=>{s(ve=>Q?ve.includes(ce)?ve:[...ve,ce]:ve.filter(be=>be!==ce))},[]),R=ce=>new Promise(Q=>setTimeout(Q,ce)),G=B.useCallback(async ce=>{const Q=O.jobs.find(ve=>ve.id===ce);if(Q){if(ee.current[Q.id]){console.warn(`Job ${Q.name} is currently locked/running.`);return}try{const ve=ae.current(Q.sourceHost,Q.sourcePath);if(ve.length===0)return;let be;try{be=new RegExp(Q.filterRegex)}catch{v(xe=>[...xe,`Collection Job ${Q.name}: Invalid Regex`]);return}const pe=ve.find(ye=>be.test(ye.name)&&!D(Q.sourceHost,Q.sourcePath,ye.name));if(!pe)return;ee.current[Q.id]=!0,I(Q.sourceHost,Q.sourcePath,pe.name),j(`transfer_1_${Q.id}`,!0);const Ce=Date.now();try{const ye=ME(pe.content,Q.bandwidth,O.processingTime);await R(ye);let xe=Q.targetHost,qe=Q.targetPath;Q.targetType==="topic"&&Q.targetTopicId&&(xe="localhost",qe=`/topics/${Q.targetTopicId}`);try{const Je={hostname:Q.sourceHost,timestamp:new Date,collectionHost:xe,fileName:pe.name},Oe=Q.renamePattern||"${fileName}",Ae=ci(Oe,Je);b(pe.name,Q.sourceHost,Q.sourcePath,xe,qe,Ae),v(Ve=>Ve.filter(Ge=>!Ge.includes(`Collection Job ${Q.name}`))),K({jobId:Q.id,jobName:Q.name,jobType:"collection",status:"success",startTime:Ce,endTime:Date.now(),recordsInput:1,recordsOutput:1,details:`Moved ${pe.name} to ${xe}:${qe}`})}catch{const Oe=`Collection Job ${Q.name}: Failed to move to '${xe}:${qe}'`;v(Ae=>Ae.includes(Oe)?Ae:[...Ae,Oe]),K({jobId:Q.id,jobName:Q.name,jobType:"collection",status:"failed",startTime:Ce,endTime:Date.now(),recordsInput:1,recordsOutput:0,errorMessage:Oe,details:`File: ${pe.name}`})}}finally{A(Q.sourceHost,Q.sourcePath,pe.name),j(`transfer_1_${Q.id}`,!1),ee.current[Q.id]=!1}}catch{ee.current[Q.id]=!1}}},[O.jobs,O.processingTime,b,j,D,I,A,K]),F=B.useCallback(async ce=>{const Q=k.jobs.find(ve=>ve.id===ce);if(Q&&!z.current[Q.id])try{let ve=Q.sourceHost,be=Q.sourcePath;Q.sourceType==="topic"&&Q.sourceTopicId&&(ve="localhost",be=`/topics/${Q.sourceTopicId}`);let pe=ae.current(ve,be);if(pe.length===0||(Q.sourceType==="topic"&&(pe=pe.filter(qe=>!a.current.has(`${Q.id}:${qe.name}`))),pe.length===0))return;let Ce;try{Ce=new RegExp(Q.filterRegex)}catch{v(Je=>[...Je,`Delivery Job ${Q.name}: Invalid Regex`]);return}const ye=pe.find(qe=>Ce.test(qe.name)&&!D(ve,be,qe.name));if(!ye)return;z.current[Q.id]=!0,I(ve,be,ye.name),j(`transfer_2_${Q.id}`,!0);const xe=Date.now();try{const qe=ME(ye.content,Q.bandwidth,Q.processingTime);await R(qe);try{Q.sourceType==="topic"?(x(Q.targetHost,Q.targetPath,ye.name,ye.content),a.current.add(`${Q.id}:${ye.name}`)):b(ye.name,ve,be,Q.targetHost,Q.targetPath),v(Je=>Je.filter(Oe=>!Oe.includes(`Delivery Job ${Q.name}`))),K({jobId:Q.id,jobName:Q.name,jobType:"delivery",status:"success",startTime:xe,endTime:Date.now(),recordsInput:1,recordsOutput:1,details:`Delivered ${ye.name} to ${Q.targetHost}:${Q.targetPath}`})}catch{const Oe=`Delivery Job ${Q.name}: Failed to move/copy to '${Q.targetHost}:${Q.targetPath}'`;v(Ae=>Ae.includes(Oe)?Ae:[...Ae,Oe]),K({jobId:Q.id,jobName:Q.name,jobType:"delivery",status:"failed",startTime:xe,endTime:Date.now(),recordsInput:1,recordsOutput:0,errorMessage:Oe,details:`File: ${ye.name}`})}}finally{A(ve,be,ye.name),j(`transfer_2_${Q.id}`,!1),z.current[Q.id]=!1}}catch{z.current[Q.id]=!1}},[k.jobs,b,x,j,D,I,A,a,K]),re=B.useCallback(async ce=>{const Q=U.find(Ce=>Ce.id===ce);if(!Q||le.current[Q.id])return;const ve=$.find(Ce=>Ce.id===Q.mappingId);if(!ve||ve.transformations.filter(Ce=>Ce.type==="source").length===0)return;le.current[Q.id]=!0,j(`mapping_task_${Q.id}`,!0);const pe=Date.now();try{P.current[Q.id]||(P.current[Q.id]={});const{stats:Ce,newState:ye}=await Bk(Q,ve,Y,Z,{listFiles:ae.current,readFile:(Oe,Ae,Ve)=>ae.current(Oe,Ae).find(Rt=>Rt.name===Ve)?.content||"",deleteFile:_,writeFile:x},{select:L.current,insert:N,update:C,delete:T},P.current[Q.id]);P.current[Q.id]=ye;const xe=Object.values(Ce).reduce((Oe,Ae)=>Oe+Ae.input,0),qe=Object.values(Ce).reduce((Oe,Ae)=>Oe+Ae.output,0),Je=Object.values(Ce).reduce((Oe,Ae)=>Oe+Ae.errors,0);(xe>0||qe>0)&&K({jobId:Q.id,jobName:Q.name,jobType:"mapping",status:Je>0?"failed":"success",startTime:pe,endTime:Date.now(),recordsInput:xe,recordsOutput:qe,details:`Processed via mapping ${ve.name}`,errorMessage:Je>0?`${Je} errors occurred`:void 0}),Je>0?v(Oe=>[...Oe,`Task ${Q.name}: ${Je} errors`]):(v(Ae=>Ae.filter(Ve=>!Ve.includes(`Task ${Q.name}`))),U.filter(Ae=>Ae.dependencies?.includes(ce)).forEach(Ae=>{console.log(`[Workflow] Task ${Q.name} finished. Triggering dependent task ${Ae.name}...`),setTimeout(()=>re(Ae.id),500)}))}catch(Ce){const ye=Ce instanceof Error?Ce.message:"Unknown error";K({jobId:Q.id,jobName:Q.name,jobType:"mapping",status:"failed",startTime:pe,endTime:Date.now(),recordsInput:0,recordsOutput:0,errorMessage:ye,details:"Fatal error in mapping execution"})}finally{await new Promise(Ce=>setTimeout(Ce,500)),j(`mapping_task_${Q.id}`,!1),le.current[Q.id]=!1}},[U,$,Y,Z,j,N,x,_,K]);B.useEffect(()=>{t((ce,Q)=>{console.log(`Retrying ${Q} job: ${ce}`),Q==="collection"&&G(ce),Q==="delivery"&&F(ce),Q==="mapping"&&re(ce)})},[t,G,F,re]),B.useEffect(()=>{if(!o)return;const ce=M.jobs.map(Q=>{if(!Q.enabled)return null;const ve=M.definitions.find(be=>be.id===Q.dataSourceId);return ve?setInterval(()=>{const be={hostname:ve.host,timestamp:new Date};let pe="";Q.mode==="schema"&&Q.schema?pe=jE(Q.schema,Q.rowCount||1,be):pe=ci(Q.fileContent,be),x(ve.host,ve.path,ci(Q.fileNamePattern,be),pe)},Q.executionInterval):null}).filter(Boolean);return()=>ce.forEach(clearInterval)},[o,M,x]),B.useEffect(()=>{if(!c)return;const ce=O.jobs.map(Q=>Q.enabled?setInterval(()=>G(Q.id),Q.executionInterval):null).filter(Boolean);return()=>ce.forEach(clearInterval)},[c,O.jobs,G]),B.useEffect(()=>{if(!c)return;const ce=k.jobs.map(Q=>Q.enabled?setInterval(()=>F(Q.id),Q.executionInterval):null).filter(Boolean);return()=>ce.forEach(clearInterval)},[c,k.jobs,F]),B.useEffect(()=>{if(!g)return;const ce=U.map(Q=>!Q.enabled||Q.dependencies&&Q.dependencies.length>0?null:setInterval(()=>re(Q.id),Q.executionInterval)).filter(Boolean);return()=>ce.forEach(clearInterval)},[g,U,re]),B.useEffect(()=>{if(!o&&!c&&!g)return;const ce=setInterval(()=>{H.forEach(Q=>{ae.current("localhost",`/topics/${Q.id}`).forEach(ve=>{Date.now()-ve.createdAt>Q.retentionPeriod&&_("localhost",ve.name,`/topics/${Q.id}`)})})},1e3);return()=>clearInterval(ce)},[o,c,g,H,_]);const te=()=>{M.jobs.forEach(ce=>{if(!ce.enabled)return;const Q=M.definitions.find(ve=>ve.id===ce.dataSourceId);if(Q){const ve={hostname:Q.host,timestamp:new Date};let be="";ce.mode==="schema"&&ce.schema?be=jE(ce.schema,ce.rowCount||1,ve):be=ci(ce.fileContent,ve),x(Q.host,Q.path,ci(ce.fileNamePattern,ve),be)}})},ge=B.useCallback((ce,Q)=>{try{return S(ce,Q)}catch{return[]}},[S]);return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-full",children:[p.jsx("div",{className:"flex flex-col gap-4",children:p.jsxs("div",{className:"p-4 bg-white rounded shadow space-y-4",children:[p.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[p.jsx(hv,{className:"w-5 h-5"})," Simulation Control"]}),h.length>0&&p.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-2 rounded text-sm flex flex-col gap-1",children:[p.jsxs("div",{className:"font-bold flex items-center gap-1",children:[p.jsx(ck,{size:14})," Errors Detected:"]}),p.jsx("ul",{className:"list-disc list-inside",children:h.map((ce,Q)=>p.jsx("li",{children:ce},Q))}),p.jsx("button",{onClick:()=>v([]),className:"text-xs text-red-500 hover:underline self-end",children:"Clear"})]}),p.jsxs("div",{className:"flex gap-2 flex-wrap",children:[p.jsxs("button",{onClick:()=>{const ce=o&&c&&g;u(!ce),f(!ce),m(!ce)},className:`flex items-center gap-2 px-3 py-2 rounded transition-colors text-sm ${o&&c&&g?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[o&&c&&g?p.jsx(Ao,{className:"w-4 h-4"}):p.jsx(Mo,{className:"w-4 h-4"})," All"]}),p.jsxs("button",{onClick:()=>u(!o),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors text-sm ${o?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[o?p.jsx(Ao,{className:"w-3 h-3"}):p.jsx(Mo,{className:"w-3 h-3"})," Generate"]}),p.jsxs("button",{onClick:()=>f(!c),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors text-sm ${c?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:[c?p.jsx(Ao,{className:"w-3 h-3"}):p.jsx(Mo,{className:"w-3 h-3"})," Transfer"]}),p.jsxs("button",{onClick:()=>m(!g),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors text-sm ${g?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:[g?p.jsx(Ao,{className:"w-3 h-3"}):p.jsx(Mo,{className:"w-3 h-3"})," Mapping"]}),p.jsxs("button",{onClick:te,className:"flex items-center gap-2 bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 transition-colors text-sm",children:[p.jsx(v8,{className:"w-4 h-4"})," Create Source File"]})]}),p.jsx($k,{dataSource:M,collection:O,delivery:k,topics:H,listFiles:ge}),p.jsx(Gk,{tables:Z,select:E})]})}),p.jsx("div",{className:"h-[600px] bg-white rounded shadow border border-gray-200 overflow-hidden",children:p.jsx(yk,{activeSteps:i})})]})})},$k=({dataSource:t,collection:a,delivery:i,topics:s,listFiles:o})=>{const u=t.definitions.map(v=>({name:v.name,host:v.host,path:v.path,type:"source"})),c=s.map(v=>({name:v.name,host:"localhost",path:`/topics/${v.id}`,type:"topic"})),f=new Set,g=[];a.jobs.forEach(v=>{if(v.targetType==="topic")return;const x=`${v.targetHost}:${v.targetPath}`;f.has(x)||(f.add(x),g.push({host:v.targetHost,path:v.targetPath,type:"incoming"}))});const m=new Set,h=[];return i.jobs.forEach(v=>{const x=`${v.targetHost}:${v.targetPath}`;m.has(x)||(m.add(x),h.push({host:v.targetHost,path:v.targetPath,type:"internal"}))}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"border p-3 rounded bg-gray-50",children:[p.jsxs("h3",{className:"font-bold border-b mb-3 text-gray-700 flex items-center gap-2 text-sm",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Source Storages"]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:u.map(v=>p.jsx(qo,{...v,files:o(v.host,v.path)},`${v.host}:${v.path}`))})]}),p.jsxs("div",{className:"border p-3 rounded bg-gray-50",children:[p.jsxs("h3",{className:"font-bold border-b mb-3 text-gray-700 flex items-center gap-2 text-sm",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"})," Intermediate Storages"]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:[c.map(v=>p.jsx(qo,{...v,files:o(v.host,v.path)},`topic-${v.name}`)),g.map(v=>p.jsx(qo,{...v,files:o(v.host,v.path)},`${v.host}:${v.path}`))]})]}),p.jsxs("div",{className:"border p-3 rounded bg-gray-50",children:[p.jsxs("h3",{className:"font-bold border-b mb-3 text-gray-700 flex items-center gap-2 text-sm",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})," Internal Storages"]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:h.map(v=>p.jsx(qo,{...v,files:o(v.host,v.path)},`${v.host}:${v.path}`))})]})]})},Gk=({tables:t,select:a})=>{const[i,s]=B.useState("text");return p.jsxs("div",{className:"border p-3 rounded bg-gray-50",children:[p.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[p.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2 text-sm",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-600"})," Database Status"]}),p.jsxs("div",{className:"flex bg-white rounded border p-0.5",children:[p.jsx("button",{onClick:()=>s("text"),className:`p-1 rounded ${i==="text"?"bg-gray-200":"text-gray-400"}`,children:p.jsx(xC,{size:14})}),p.jsx("button",{onClick:()=>s("table"),className:`p-1 rounded ${i==="table"?"bg-gray-200":"text-gray-400"}`,children:p.jsx(A8,{size:14})})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(o=>{const u=a(o.name);return p.jsxs("div",{className:"text-xs border border-gray-200 p-2 rounded bg-white shadow-sm flex flex-col",children:[p.jsx("h4",{className:"font-semibold text-gray-700 mb-1 truncate",title:o.name,children:o.name}),p.jsx("div",{className:"h-48 overflow-auto bg-gray-50 p-1 rounded-sm border border-gray-100 flex-grow relative",children:i==="text"?u.length===0?p.jsx("span",{className:"text-gray-400 italic text-[10px]",children:"No records"}):p.jsx("ul",{className:"space-y-1",children:u.map(c=>p.jsx("li",{className:"truncate text-[11px] font-mono",children:JSON.stringify(c.data)},c.id))}):p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-100 sticky top-0",children:p.jsx("tr",{children:Object.keys(u[0]?.data||o.columns.reduce((c,f)=>({...c,[f.name]:""}),{})).map(c=>p.jsx("th",{className:"p-1 border-b",children:c},c))})}),p.jsx("tbody",{children:u.map((c,f)=>p.jsx("tr",{className:f%2===0?"bg-white":"bg-gray-50",children:Object.keys(c.data).map(g=>p.jsx("td",{className:"p-1 border-b truncate max-w-[100px]",children:String(c.data[g])},g))},c.id))})]})})]},o.id)})})]})};function Ik(){const t=B.useRef(()=>{}),a=B.useCallback((g,m)=>t.current(g,m),[]),[i,s]=B.useState("simulation"),{saveSettings:o}=mn(),[u,c]=B.useState(null),f=()=>{const g=o();c(g.success?"Settings saved.":"Failed to save."),setTimeout(()=>c(null),3e3)};return p.jsx(GA,{retryJob:a,children:p.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-8 flex flex-col gap-8",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Data Pipeline Simulator"}),p.jsxs("div",{className:"flex bg-white rounded-lg shadow p-1",children:[p.jsxs("button",{onClick:()=>s("simulation"),className:`px-4 py-2 rounded-md flex gap-2 ${i==="simulation"?"bg-blue-100 text-blue-700":"text-gray-600"}`,children:[p.jsx(hv,{size:16})," Simulation"]}),p.jsxs("button",{onClick:()=>s("monitor"),className:`px-4 py-2 rounded-md flex gap-2 ${i==="monitor"?"bg-blue-100 text-blue-700":"text-gray-600"}`,children:[p.jsx(B8,{size:16})," Monitor"]}),p.jsxs("button",{onClick:()=>s("settings"),className:`px-4 py-2 rounded-md flex gap-2 ${i==="settings"?"bg-blue-100 text-blue-700":"text-gray-600"}`,children:[p.jsx(j0,{size:16})," Settings"]})]})]}),p.jsx("div",{className:i==="simulation"?"":"hidden",children:p.jsx(Uk,{setRetryHandler:g=>t.current=g})}),i==="monitor"&&p.jsx("div",{className:"h-[calc(100vh-140px)]",children:p.jsx(zk,{})}),i==="settings"&&p.jsxs("div",{className:"bg-white rounded shadow p-6 border border-gray-200",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[p.jsx(j0,{size:24})," Pipeline Configuration"]}),p.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Save Settings"})]}),u&&p.jsx("div",{className:"mb-4 p-3 rounded bg-blue-50 text-blue-700",children:u}),p.jsx(Ok,{})]})]})})}function Vk(){return p.jsx($A,{children:p.jsx(LA,{children:p.jsx(HA,{children:p.jsx(Ik,{})})})})}kA.createRoot(document.getElementById("root")).render(p.jsx(B.StrictMode,{children:p.jsx(Vk,{})}));
